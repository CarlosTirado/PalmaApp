(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+dx+":function(e,t){!function(e,t,n,r){var i=e.fn.peity=function(t,n){return l&&this.each(function(){var r=e(this),s=r.data("_peity");s?(t&&(s.type=t),e.extend(s.opts,n)):(s=new o(r,t,e.extend({},i.defaults[t],r.data("peity"),n)),r.change(function(){s.draw()}).data("_peity",s)),s.draw()}),this},o=function(e,t,n){this.$el=e,this.type=t,this.opts=n},s=o.prototype,a=s.svgElement=function(n,r){return e(t.createElementNS("http://www.w3.org/2000/svg",n)).attr(r)},l="createElementNS"in t&&a("svg",{})[0].createSVGRect;s.draw=function(){var e=this.opts;i.graphers[this.type].call(this,e),e.after&&e.after.call(this,e)},s.fill=function(){var t=this.opts.fill;return e.isFunction(t)?t:function(e,n){return t[n%t.length]}},s.prepare=function(e,t){return this.$svg||this.$el.hide().after(this.$svg=a("svg",{class:"peity"})),this.$svg.empty().data("_peity",this).attr({height:t,width:e})},s.values=function(){return e.map(this.$el.text().split(this.opts.delimiter),function(e){return parseFloat(e)})},i.defaults={},i.graphers={},i.register=function(e,t,n){this.defaults[e]=t,this.graphers[e]=n},i.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(t){if(!t.delimiter){var r=this.$el.text().match(/[^0-9\.]/);t.delimiter=r?r[0]:","}var i=e.map(this.values(),function(e){return e>0?e:0});if("/"==t.delimiter){var o=i[0];i=[o,n.max(0,i[1]-o)]}for(var s=0,l=i.length,u=0;s<l;s++)u+=i[s];u||(l=2,u=1,i=[0,1]);var c=2*t.radius,h=this.prepare(t.width||c,t.height||c),d=h.width(),p=h.height(),f=d/2,g=p/2,m=n.min(f,g),v=t.innerRadius;"donut"!=this.type||v||(v=.5*m);var y=n.PI,b=this.fill(),_=this.scale=function(e,t){var r=e/u*y*2-y/2;return[t*n.cos(r)+f,t*n.sin(r)+g]},w=0;for(s=0;s<l;s++){var S,C=i[s],E=C/u;if(0!=E){if(1==E)if(v){var x=f-.01,F=g-m,k=g-v;S=a("path",{d:["M",f,F,"A",m,m,0,1,1,x,F,"L",x,k,"A",v,v,0,1,0,f,k].join(" "),"data-value":C})}else S=a("circle",{cx:f,cy:g,"data-value":C,r:m});else{var A=w+C,T=["M"].concat(_(w,m),"A",m,m,0,E>.5?1:0,1,_(A,m),"L");v?T=T.concat(_(A,v),"A",v,v,0,E>.5?1:0,0,_(w,v)):T.push(f,g),w+=C,S=a("path",{d:T.join(" "),"data-value":C})}S.attr("fill",b.call(this,C,s,i)),h.append(S)}}}),i.register("donut",e.extend(!0,{},i.defaults.pie),function(e){i.graphers.pie.call(this,e)}),i.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(e){var t=this.values();1==t.length&&t.push(t[0]);for(var r=n.max.apply(n,null==e.max?t:t.concat(e.max)),i=n.min.apply(n,null==e.min?t:t.concat(e.min)),o=this.prepare(e.width,e.height),s=e.strokeWidth,l=o.width(),u=o.height()-s,c=r-i,h=this.x=function(e){return e*(l/(t.length-1))},d=this.y=function(e){var t=u;return c&&(t-=(e-i)/c*u),t+s/2},p=d(n.max(i,0)),f=[0,p],g=0;g<t.length;g++)f.push(h(g),d(t[g]));f.push(l,p),e.fill&&o.append(a("polygon",{fill:e.fill,points:f.join(" ")})),s&&o.append(a("polyline",{fill:"none",points:f.slice(2,f.length-2).join(" "),stroke:e.stroke,"stroke-width":s,"stroke-linecap":"square"}))}),i.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},function(e){for(var t=this.values(),r=n.max.apply(n,null==e.max?t:t.concat(e.max)),i=n.min.apply(n,null==e.min?t:t.concat(e.min)),o=this.prepare(e.width,e.height),s=o.width(),l=o.height(),u=r-i,c=e.padding,h=this.fill(),d=this.x=function(e){return e*s/t.length},p=this.y=function(e){return l-(u?(e-i)/u*l:1)},f=0;f<t.length;f++){var g,m=d(f+c),v=d(f+1-c)-m,y=t[f],b=p(y),_=b,w=b;u?y<0?_=p(n.min(r,0)):w=p(n.max(i,0)):g=1,0==(g=w-_)&&(g=1,r>0&&u&&_--),o.append(a("rect",{"data-value":y,fill:h.call(this,y,f,t),x:m,y:_,width:v,height:g}))}})}(jQuery,document,Math)},0:function(e,t,n){e.exports=n("zUnb")},"3Rfw":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,s=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){s=3,o=i},e.debug=function(){if(s>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(o,Array.from(t))}},e.info=function(){if(s>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(o,Array.from(t))}},e.warn=function(){if(s>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(o,Array.from(t))}},e.error=function(){if(s>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(o,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return s},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");s=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setInterval(e,t)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearInterval(e)})},o=!1,s=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){s=e},r(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return s||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(7);t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(t){return i.Log.debug("MetadataService.getMetadata: json received"),e._settings.metadata=t,t})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then(function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]})},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then(function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys})})},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration"))),this._metadataUrl}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var s,a={},l=/([^&=]+)=([^&]*)/g,u=0;s=l.exec(e);)if(a[decodeURIComponent(s[1])]=decodeURIComponent(s[2]),u++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var c in a)return a;return{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(25),i=function(e){return e&&e.__esModule?e:{default:e}}(n(32));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=n(6),a=n(23),l=n(2),u="id_token",c="openid",h=900,d=300;t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,o=t.metadata,p=t.signingKeys,f=t.client_id,g=t.client_secret,m=t.response_type,v=void 0===m?u:m,y=t.scope,b=void 0===y?c:y,_=t.redirect_uri,w=t.post_logout_redirect_uri,S=t.prompt,C=t.display,E=t.max_age,x=t.ui_locales,F=t.acr_values,k=t.resource,A=t.response_mode,T=t.filterProtocolClaims,P=void 0===T||T,R=t.loadUserInfo,I=void 0===R||R,O=t.staleStateAge,D=void 0===O?h:O,N=t.clockSkew,M=void 0===N?d:N,L=t.userInfoJwtIssuer,U=void 0===L?"OP":L,j=t.stateStore,V=void 0===j?new s.WebStorageStateStore:j,B=t.ResponseValidatorCtor,H=void 0===B?a.ResponseValidator:B,q=t.MetadataServiceCtor,z=void 0===q?l.MetadataService:q,K=t.extraQueryParams,$=void 0===K?{}:K;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._authority=n,this._metadataUrl=i,this._metadata=o,this._signingKeys=p,this._client_id=f,this._client_secret=g,this._response_type=v,this._scope=b,this._redirect_uri=_,this._post_logout_redirect_uri=w,this._prompt=S,this._display=C,this._max_age=E,this._ui_locales=x,this._acr_values=F,this._resource=k,this._response_mode=A,this._filterProtocolClaims=!!P,this._loadUserInfo=!!I,this._staleStateAge=D,this._clockSkew=M,this._userInfoJwtIssuer=U,this._stateStore=V,this._validator=new H(this),this._metadataService=new z(this),this._extraQueryParams="object"===(void 0===$?"undefined":r($))?$:{}}return i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration")),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){this._extraQueryParams="object"===(void 0===e?"undefined":r(e))?e:{}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,o=t.store,s=void 0===o?i.Global.localStorage:o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=s,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),this._store.setItem(e=this._prefix+e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e);var t=this._store.getItem(e=this._prefix+e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e);var t=this._store.getItem(e=this._prefix+e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._contentTypes=t&&Array.isArray(t)?t.slice():[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise(function(i,o){var s=new n._XMLHttpRequest;s.open("GET",e);var a=n._contentTypes,l=n._jwtHandler;s.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",s.status),200===s.status){var t=s.getResponseHeader("Content-Type");if(t){var n=a.find(function(e){if(t.startsWith(e))return!0});if("application/jwt"==n)return void l(s).then(i,o);if(n)try{return void i(JSON.parse(s.responseText))}catch(i){return r.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),s.setRequestHeader("Authorization","Bearer "+t)),s.send()})},e.prototype.postForm=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise(function(i,o){var s=new n._XMLHttpRequest;s.open("POST",e);var a=n._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&a.find(function(e){if(n.startsWith(e))return!0}))try{var t=JSON.parse(s.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void o(new Error(t.error))}catch(i){return r.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void o(i)}o(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&a.find(function(e){if(n.startsWith(e))return!0}))try{return void i(JSON.parse(s.responseText))}catch(i){return r.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void o(i)}o(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),o(Error("Network Error"))};var l="";for(var u in t){var c=t[u];c&&(l.length>0&&(l+="&"),l+=encodeURIComponent(u),l+="=",l+=encodeURIComponent(c))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(l)})},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,s=t.request_type;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then(function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],s=function(s){var a=n[s];l=t.get(a).then(function(n){var o=!1;if(n)try{var s=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",a,s.created),s.created<=r&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",a,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",a),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",a),t.remove(a)}),o.push(l)},a=0;a<n.length;a++){var l;s(a)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)})},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(5),s=n(11),a=n(12),l=n(36),u=n(37),c=n(38),h=n(13),d=n(8);t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=t instanceof o.OidcClientSettings?t:new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,o=t.redirect_uri,s=t.data,l=t.state,u=t.prompt,c=t.display,h=t.max_age,d=t.ui_locales,p=t.id_token_hint,f=t.login_hint,g=t.acr_values,m=t.resource,v=t.request,y=t.request_uri,b=t.response_mode,_=t.extraQueryParams,w=t.extraTokenParams,S=t.request_type,C=t.skipUserInfo,E=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var x=this._settings.client_id;r=r||this._settings.scope,o=o||this._settings.redirect_uri,u=u||this._settings.prompt,c=c||this._settings.display,h=h||this._settings.max_age,d=d||this._settings.ui_locales,g=g||this._settings.acr_values,m=m||this._settings.resource,b=b||this._settings.response_mode,_=_||this._settings.extraQueryParams;var F=this._settings.authority;return a.SigninRequest.isCode(n=n||this._settings.response_type)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var k=new a.SigninRequest({url:t,client_id:x,redirect_uri:o,response_type:n,scope:r,data:s||l,authority:F,prompt:u,display:c,max_age:h,ui_locales:d,id_token_hint:p,login_hint:f,acr_values:g,resource:m,request:v,request_uri:y,extraQueryParams:_,extraTokenParams:w,request_type:S,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:C}),A=k.state;return(E=E||e._stateStore).set(A.id,A.toStorageString()).then(function(){return k})})},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&a.SigninRequest.isCode(this._settings.response_type)?"?":"#",o=new l.SigninResponse(e,r);return o.state?(t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(o.state).then(function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(e),response:o}})):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)})},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,o=t.state,s=t.post_logout_redirect_uri,a=t.extraQueryParams,l=t.request_type,c=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),s=s||this._settings.post_logout_redirect_uri,a=a||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var h=new u.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:s,data:r||o,extraQueryParams:a,request_type:l}),d=h.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(c=c||e._stateStore).set(d.id,d.toStorageString())),h})},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new c.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new s.ErrorResponse(r))):Promise.resolve({undefined:void 0,response:r});var o=r.state;return t=t||this._stateStore,(n?t.remove.bind(t):t.get.bind(t))(o).then(function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:r}})},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then(function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)})},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),d.State.clearStaleState(e=e||this._stateStore,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri,t.code?t.redirect_uri?t.code_verifier?t.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t).then(function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e})}):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.refresh_token?t.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t).then(function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e})}):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.error,o=n.error_description,s=n.error_uri,a=n.state;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,o||i));return l.name="ErrorResponse",l.error=i,l.error_description=o,l.error_uri=s,l.state=a,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);t.SigninRequest=function(){function e(t){var n=t.url,s=t.client_id,a=t.redirect_uri,l=t.response_type,u=t.scope,c=t.authority,h=t.data,d=t.prompt,p=t.display,f=t.max_age,g=t.ui_locales,m=t.id_token_hint,v=t.login_hint,y=t.acr_values,b=t.resource,_=t.response_mode,w=t.request,S=t.request_uri,C=t.extraQueryParams,E=t.request_type,x=t.client_secret,F=t.extraTokenParams,k=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!s)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!a)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!l)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!c)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var A=e.isOidc(l),T=e.isCode(l);_||(_=e.isCode(l)?"query":null),this.state=new o.SigninState({nonce:A,data:h,client_id:s,authority:c,redirect_uri:a,code_verifier:T,request_type:E,response_mode:_,client_secret:x,scope:u,extraTokenParams:F,skipUserInfo:k}),n=i.UrlUtility.addQueryParam(n,"client_id",s),n=i.UrlUtility.addQueryParam(n,"redirect_uri",a),n=i.UrlUtility.addQueryParam(n,"response_type",l),n=i.UrlUtility.addQueryParam(n,"scope",u),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),A&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),T&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var P={prompt:d,display:p,max_age:f,ui_locales:g,id_token_hint:m,login_hint:v,acr_values:y,resource:b,request:w,request_uri:S,response_mode:_};for(var R in P)P[R]&&(n=i.UrlUtility.addQueryParam(n,R,P[R]));for(var I in C)n=i.UrlUtility.addQueryParam(n,I,C[I]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter(function(e){return"id_token"===e})[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter(function(e){return"token"===e})[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter(function(e){return"code"===e})[0]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(8),s=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(n(14));t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,l=n.redirect_uri,u=n.code_verifier,c=n.response_mode,h=n.client_secret,d=n.scope,p=n.extraTokenParams,f=n.skipUserInfo;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));if(!0===r?g._nonce=(0,a.default)():r&&(g._nonce=r),!0===u?g._code_verifier=(0,a.default)()+(0,a.default)()+(0,a.default)():u&&(g._code_verifier=u),g.code_verifier){var m=s.JoseUtil.hashString(g.code_verifier,"SHA256");g._code_challenge=s.JoseUtil.hexToBase64Url(m)}return g._redirect_uri=l,g._authority=i,g._client_id=o,g._response_mode=c,g._client_secret=h,g._scope=d,g._extraTokenParams=p,g._skipUserInfo=f,g}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.default)().replace(/-/g,"")};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(33));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,o=t.refresh_token,s=t.token_type,a=t.scope,l=t.profile,u=t.expires_at,c=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=s,this.scope=a,this.profile=l,this.expires_at=u,this.state=c}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(48),o=60;t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?o:n,s=t.accessTokenExpiringTimer,a=void 0===s?new i.Timer("Access token expiring"):s,l=t.accessTokenExpiredTimer,u=void 0===l?new i.Timer("Access token expired"):l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=a,this._accessTokenExpired=u}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex(function(t){return t===e});t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(19);t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(e){e&&n._start(e)}).catch(function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,o=t._checkSessionInterval,s=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,o,s),t._checkSessionIFrame.load().then(function(){t._checkSessionIFrame.start(n)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)}))},e.prototype._stop=function(){this._sub=null,this._sid=null,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop())},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then(function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut())}).catch(function(t){i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut()})},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0),i=2e3;t.CheckSessionIFrame=function(){function e(t,n,r,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=o||i,this._stopOnError=s;var a=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,a),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise(function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)})},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(o){if(o)return r.Log.debug("TokenRevocationClient.revoke: Revoking "+i),n._revoke(o,n._settings.client_id,n._settings.client_secret,e,i);if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},e.prototype._revoke=function(e,t,n,i,o){var s=this;return new Promise(function(a,l){var u=new s._XMLHttpRequestCtor;u.open("POST",e),u.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?a():l(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),l("Network Error")};var c="client_id="+encodeURIComponent(t);n&&(c+="&client_secret="+encodeURIComponent(n)),c+="&token_type_hint="+encodeURIComponent(o),c+="&token="+encodeURIComponent(i),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c)})},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o="location=no,toolbar=no,zoom=no",s="_blank";t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this.features=t.popupWindowFeatures||o,this.target=t.popupWindowTarget||s,this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(t){return e.hasOwnProperty(t)})},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(9),o=n(5),s=n(6),a=n(39),l=n(40),u=n(16),c=n(2),h=n(50),d=n(51),p=n(19),f=n(20),g=n(18),m=n(1),v=n(15),y=n(52);t.default={Version:y.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:a.InMemoryWebStorage,UserManager:l.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:c.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:f.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:m.Global,User:v.User},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(2),s=n(24),a=n(10),l=n(11),u=n(4),c=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UserInfoService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.JoseUtil,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.TokenClient;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=l,this._tokenClient=new c(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e})})})},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new l.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then(function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in access_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var a=o[s];n[i]?Array.isArray(n[i])?n[i].indexOf(a)<0&&n[i].push(a):n[i]!==a&&(n[i]="object"===(void 0===a?"undefined":r(a))?this._mergeClaims(n[i],a):[n[i],a]):n[i]=a}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(c.forEach(function(e){delete t[e]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then(function(r){for(var o in r)t[o]=r[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)})},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){var o=e.client_id,s=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",s),n._joseUtil.validateJwtAttributes(t.id_token,r,o,s).then(function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then(function(e){return n._validateAccessToken(e)})},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);if(!r||!r.header||!r.payload)return i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token"));if(e.nonce!==r.payload.nonce)return i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"));var o=r.header.kid;return this._metadataService.getIssuer().then(function(s){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._metadataService.getSigningKeys().then(function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var l=void 0;if(o)l=a.filter(function(e){return e.kid===o})[0];else{if((a=n._filterByAlg(a,r.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));l=a[0]}if(!l)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=e.client_id,c=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.id_token,l,s,u,c).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,s=this._joseUtil.hashString(e.access_token,o);if(!s)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var a=s.substr(0,s.length/2),l=this._joseUtil.hexToBase64Url(a);return l!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",l,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),s=n(4);t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.JoseUtil;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new a(this._settings),this._joseUtil=l}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then(function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then(function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,s=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":s=this._metadataService.getIssuer();break;case"ANY":s=Promise.resolve(r.payload.iss);break;default:s=Promise.resolve(this._settings.userInfoJwtIssuer)}return s.then(function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then(function(s){if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var a=void 0;if(i)a=s.filter(function(e){return e.kid===i})[0];else{if((s=n._filterByAlg(s,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=s[0]}if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var l=n._settings.client_id,u=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(t.responseText,a,e,l,u,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload})})})}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter(function(e){return e.kty===n}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(26);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={userAgent:!1},i={};if(void 0===o)var o={};o.lang={extend:function(t,n,i){if(!n||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=n.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i){var s;for(s in i)t.prototype[s]=i[s];var a=function(){},l=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(a=function(e,t){for(s=0;s<l.length;s+=1){var n=l[s],r=t[n];"function"==typeof r&&r!=Object.prototype[n]&&(e[n]=r)}})}catch(e){}a(t.prototype,i)}}};var s,a,l,u,c,h,d,p,f,g,m,v=v||(s=Math,l=(a={}).lib={},u=l.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=l.WordArray=u.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new c.init(t,e)}}),h=a.enc={},d=h.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},p=h.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},f=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},g=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,r=t.sigBytes,i=this.blockSize,o=r/(4*i),a=(o=e?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,l=s.min(4*a,r);if(a){for(var u=0;u<a;u+=i)this._doProcessBlock(n,u);var h=n.splice(0,a);t.sigBytes-=l}return new c.init(h,l)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l.Hasher=g.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),m=a.algo={},a);!function(e){var t,n=(t=v).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=v.lib.WordArray;v.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)e.push(r.charAt(o>>>6*(3-s)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var n=t.length,r=this._map;(i=r.charAt(64))&&-1!=(i=t.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<s%4*2,l=r.indexOf(t.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|l)<<24-o%4*8,o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=v,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],s=[],a=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{for(var h=e.sqrt(c=l),d=2;d<=h;d++)if(!(c%d)){c=!1;break e}c=!0}c&&(8>u&&(o[u]=a(e.pow(l,.5))),s[u]=a(e.pow(l,1/3)),u++),l++}var p=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],g=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}f=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+s[d]+p[d],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=c,c=u,u=l,l=a+f|0,a=o,o=i,i=r,r=f+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=v,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,s=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],l=h[4],u=h[5],c=h[6],h=h[7],d=n.high,p=n.low,f=r.high,g=r.low,m=i.high,v=i.low,y=o.high,b=o.low,_=l.high,w=l.low,S=u.high,C=u.low,E=c.high,x=c.low,F=h.high,k=h.low,A=d,T=p,P=f,R=g,I=m,O=v,D=y,N=b,M=_,L=w,U=S,j=C,V=E,B=x,H=F,q=k,z=0;80>z;z++){var K=a[z];if(16>z)var $=K.high=0|e[t+2*z],W=K.low=0|e[t+2*z+1];else{$=((W=($=a[z-15]).high)>>>1|(G=$.low)<<31)^(W>>>8|G<<24)^W>>>7;var G=(G>>>1|W<<31)^(G>>>8|W<<24)^(G>>>7|W<<25),J=((W=(J=a[z-2]).high)>>>19|(Y=J.low)<<13)^(W<<3|Y>>>29)^W>>>6,Y=(Y>>>19|W<<13)^(Y<<3|W>>>29)^(Y>>>6|W<<26),Z=(W=a[z-7]).high,Q=(X=a[z-16]).high,X=X.low;$=($=($=$+Z+((W=G+W.low)>>>0<G>>>0?1:0))+J+((W+=Y)>>>0<Y>>>0?1:0))+Q+((W+=X)>>>0<X>>>0?1:0),K.high=$,K.low=W}K=A&P^A&I^P&I;var ee=T&R^T&O^R&O,te=(G=(A>>>28|T<<4)^(A<<30|T>>>2)^(A<<25|T>>>7),J=(T>>>28|A<<4)^(T<<30|A>>>2)^(T<<25|A>>>7),(Y=s[z]).high),ne=Y.low;Q=(Q=(Q=(Q=H+((M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9))+((Y=q+((L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9)))>>>0<q>>>0?1:0))+(Z=M&U^~M&V)+((Y+=X=L&j^~L&B)>>>0<X>>>0?1:0))+te+((Y+=ne)>>>0<ne>>>0?1:0))+$+((Y+=W)>>>0<W>>>0?1:0),H=V,q=B,V=U,B=j,U=M,j=L,M=D+Q+((L=N+Y|0)>>>0<N>>>0?1:0)|0,D=I,N=O,I=P,O=R,P=A,R=T,A=Q+(K=G+K+((W=J+ee)>>>0<J>>>0?1:0))+((T=Y+W|0)>>>0<Y>>>0?1:0)|0}p=n.low=p+T,n.high=d+A+(p>>>0<T>>>0?1:0),g=r.low=g+R,r.high=f+P+(g>>>0<R>>>0?1:0),v=i.low=v+O,i.high=m+I+(v>>>0<O>>>0?1:0),b=o.low=b+N,o.high=y+D+(b>>>0<N>>>0?1:0),w=l.low=w+L,l.high=_+M+(w>>>0<L>>>0?1:0),C=u.low=C+j,u.high=S+U+(C>>>0<j>>>0?1:0),x=c.low=x+B,c.high=E+V+(x>>>0<B>>>0?1:0),k=h.low=k+q,h.high=F+H+(k>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=v,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="=";function w(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=b.charAt(n>>6)+b.charAt(63&n);if(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=b.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=b.charAt(n>>2)+b.charAt((3&n)<<4)),_)for(;(3&r.length)>0;)r+=_;return r}function S(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&e.charAt(t)!=_;++t)(r=b.indexOf(e.charAt(t)))<0||(0==o?(i+=P(r>>2),n=3&r,o=1):1==o?(i+=P(n<<2|r>>4),n=15&r,o=2):2==o?(i+=P(n),i+=P(r>>2),n=3&r,o=3):(i+=P(n<<2|r>>4),i+=P(15&r),o=0));return 1==o&&(i+=P(n<<2)),i}function C(e){var t,n=S(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function E(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function x(){return new E(null)}"Microsoft Internet Explorer"==r.appName?(E.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=a*l+u*s;i=((l=s*l+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*u+(i>>>30),n[r++]=1073741823&l}return i},y=30):"Netscape"!=r.appName?(E.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},y=26):(E.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=a*l+u*s;i=((l=s*l+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*u,n[r++]=268435455&l}return i},y=28),E.prototype.DB=y,E.prototype.DM=(1<<y)-1,E.prototype.DV=1<<y,E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-y,E.prototype.F2=2*y-52;var F,k,A="0123456789abcdefghijklmnopqrstuvwxyz",T=new Array;for(F="0".charCodeAt(0),k=0;k<=9;++k)T[F++]=k;for(F="a".charCodeAt(0),k=10;k<36;++k)T[F++]=k;for(F="A".charCodeAt(0),k=10;k<36;++k)T[F++]=k;function P(e){return A.charAt(e)}function R(e,t){var n=T[e.charCodeAt(t)];return null==n?-1:n}function I(e){var t=x();return t.fromInt(e),t}function O(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function D(e){this.m=e}function N(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function M(e,t){return e&t}function L(e,t){return e|t}function U(e,t){return e^t}function j(e,t){return e&~t}function V(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function B(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function q(e){return e}function z(e){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}D.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},D.prototype.revert=function(e){return e},D.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},D.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},D.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},N.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(E.ZERO)>0&&this.m.subTo(t,t),t},N.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},N.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},N.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},N.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},E.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},E.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},E.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=8==n?255&e[r]:R(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},E.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},E.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},E.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},E.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},E.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},E.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&E.ZERO.subTo(t,t)},E.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},E.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var o=x(),s=this.s,a=e.s,l=this.DB-O(r[r.t-1]);l>0?(r.lShiftTo(l,o),i.lShiftTo(l,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,c=o[u-1];if(0!=c){var h=c*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,g=n.t,m=g-u,v=null==t?x():t;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),E.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--m>=0;){var y=n[--g]==c?this.DM:Math.floor(n[g]*d+(n[g-1]+f)*p);if((n[g]+=o.am(0,y,n,m,0,u))<y)for(o.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=t&&(n.drShiftTo(u,t),s!=a&&E.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),s<0&&E.ZERO.subTo(n,n)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(e,t){if(e>4294967295||e<1)return E.ONE;var n=x(),r=x(),i=t.convert(this),o=O(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},E.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=P(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=P(n));return i?o:"0"},E.prototype.negate=function(){var e=x();return E.ZERO.subTo(this,e),e},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(E.ZERO)>0&&e.subTo(t,t),t},E.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new D(t):new N(t),this.exp(e,n)},E.ZERO=I(0),E.ONE=I(1),H.prototype.convert=q,H.prototype.revert=q,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var K=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$=(1<<26)/K[K.length-1];function W(){this.i=0,this.j=0,this.S=new Array}E.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},E.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=I(n),i=x(),o=x(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s},E.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,s=0,a=0;a<e.length;++a){var l=R(e,a);l<0?"-"==e.charAt(a)&&0==this.signum()&&(i=!0):(s=t*s+l,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(s,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(E.ONE.shiftLeft(e-1),L,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(E.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},E.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},E.prototype.changeBit=function(e,t){var n=E.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},E.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},E.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},E.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},E.prototype.multiplyUpperTo=function(e,t,n){var r=n.t=this.t+e.t- --t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},E.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},E.prototype.millerRabin=function(e){var t=this.subtract(E.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>K.length&&(e=K.length);for(var i=x(),o=0;o<e;++o){i.fromInt(K[Math.floor(Math.random()*K.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(E.ONE)&&0!=s.compareTo(t)){for(var a=1;a++<n&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},E.prototype.clone=function(){var e=x();return this.copyTo(e),e},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},E.prototype.equals=function(e){return 0==this.compareTo(e)},E.prototype.min=function(e){return this.compareTo(e)<0?this:e},E.prototype.max=function(e){return this.compareTo(e)>0?this:e},E.prototype.and=function(e){var t=x();return this.bitwiseTo(e,M,t),t},E.prototype.or=function(e){var t=x();return this.bitwiseTo(e,L,t),t},E.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,U,t),t},E.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,j,t),t},E.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},E.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},E.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},E.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+V(this[e]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=B(this[n]^t);return e},E.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},E.prototype.setBit=function(e){return this.changeBit(e,L)},E.prototype.clearBit=function(e){return this.changeBit(e,j)},E.prototype.flipBit=function(e){return this.changeBit(e,U)},E.prototype.add=function(e){var t=x();return this.addTo(e,t),t},E.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},E.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},E.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},E.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},E.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},E.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=I(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new D(t):t.isEven()?new z(t):new N(t);var s=new Array,a=3,l=n-1,u=(1<<n)-1;if(s[1]=r.convert(this),n>1){var c=x();for(r.sqrTo(s[1],c);a<=u;)s[a]=x(),r.mulTo(c,s[a-2],s[a]),a+=2}var h,d,p=e.t-1,f=!0,g=x();for(i=O(e[p])-1;p>=0;){for(i>=l?h=e[p]>>i-l&u:(h=(e[p]&(1<<i+1)-1)<<l-i,p>0&&(h|=e[p-1]>>this.DB+i-l)),a=n;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),f)s[h].copyTo(o),f=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(d=o,o=g,g=d),r.mulTo(g,s[h],o)}for(;p>=0&&0==(e[p]&1<<i);)r.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--p)}return r.revert(o)},E.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return E.ZERO;for(var n=e.clone(),r=this.clone(),i=I(1),o=I(0),s=I(0),a=I(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(E.ONE)?E.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},E.prototype.pow=function(e){return this.exp(e,new H)},E.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},E.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=K[K.length-1]){for(t=0;t<K.length;++t)if(n[0]==K[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<K.length;){for(var r=K[t],i=t+1;i<K.length&&r<$;)r*=K[i++];for(r=n.modInt(r);t<i;)if(r%K[t++]==0)return!1}return n.millerRabin(e)},E.prototype.square=function(){var e=x();return this.squareTo(e),e},W.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)r=this.S[t],this.S[t]=this.S[n=n+this.S[t]+e[t%e.length]&255],this.S[n]=r;this.i=0,this.j=0},W.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var G,J,Y,Z=256;function Q(){!function(e){J[Y++]^=255&e,J[Y++]^=e>>8&255,J[Y++]^=e>>16&255,J[Y++]^=e>>24&255,Y>=Z&&(Y-=Z)}((new Date).getTime())}if(null==J){var X;if(J=new Array,Y=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var ee=i.crypto||i.msCrypto;if(ee.getRandomValues){var te=new Uint8Array(32);for(ee.getRandomValues(te),X=0;X<32;++X)J[Y++]=te[X]}else if("Netscape"==r.appName&&r.appVersion<"5"){var ne=i.crypto.random(32);for(X=0;X<ne.length;++X)J[Y++]=255&ne.charCodeAt(X)}}for(;Y<Z;)X=Math.floor(65536*Math.random()),J[Y++]=X>>>8,J[Y++]=255&X;Y=0,Q()}function re(){if(null==G){for(Q(),(G=new W).init(J),Y=0;Y<J.length;++Y)J[Y]=0;Y=0}return G.next()}function ie(){}function oe(e,t){return new E(e,t)}function se(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function ae(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function le(e,t){this.x=t,this.q=e}function ue(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?E.ONE:r,this.zinv=null}function ce(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ue(this,null,null)}ie.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=re()},ae.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ae.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=oe(e,16),this.e=parseInt(t,16)}},ae.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ie,s=new Array;t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new E(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},ae.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=de.crypto.MessageDigest,o=de.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(e){return Fe(o.hashHex(ke(e),s))}),e.length+2*r+2>t)throw"Message too long for RSA";var a,l="";for(a=0;a<t-e.length-2*r-2;a+=1)l+="\0";var u=n("")+l+"\x01"+e,c=new Array(r);(new ie).nextBytes(c);var h=se(c,u.length,n),d=[];for(a=0;a<u.length;a+=1)d[a]=u.charCodeAt(a)^h.charCodeAt(a);var p=se(d,c.length,n),f=[0];for(a=0;a<c.length;a+=1)f[a+1]=c[a]^p.charCodeAt(a);return new E(f.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},ae.prototype.type="RSA",le.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},le.prototype.toBigInteger=function(){return this.x},le.prototype.negate=function(){return new le(this.q,this.x.negate().mod(this.q))},le.prototype.add=function(e){return new le(this.q,this.x.add(e.toBigInteger()).mod(this.q))},le.prototype.subtract=function(e){return new le(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},le.prototype.multiply=function(e){return new le(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},le.prototype.square=function(){return new le(this.q,this.x.square().mod(this.q))},le.prototype.divide=function(e){return new le(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ue.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ue.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ue.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(E.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(E.ZERO))},ue.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},ue.prototype.negate=function(){return new ue(this.curve,this.x,this.y.negate(),this.z)},ue.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(E.ZERO.equals(n))return E.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new E("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=s.multiply(n),l=i.multiply(s),u=t.square().multiply(this.z),c=u.subtract(l.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=l.multiply(r).multiply(t).subtract(o.multiply(a)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),d=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ue(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),d)},ue.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new E("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=t.square().multiply(e);E.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),l=s.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ue(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),u)},ue.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new E("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add(s?this:i))}return o},ue.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},ce.prototype.getQ=function(){return this.q},ce.prototype.getA=function(){return this.a},ce.prototype.getB=function(){return this.b},ce.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ce.prototype.getInfinity=function(){return this.infinity},ce.prototype.fromBigInteger=function(e){return new le(this.q,e)},ce.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new ue(this,this.fromBigInteger(new E(n,16)),this.fromBigInteger(new E(r,16)));default:return null}},le.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ue.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},ue.decodeFrom=function(e,t){var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new E(r),s=new E(i);return new ue(e,e.fromBigInteger(o),e.fromBigInteger(s))},ue.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new E(r,16),s=new E(i,16);return new ue(e,e.fromBigInteger(o),e.fromBigInteger(s))},ue.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ue(this.curve,r,i)},ue.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(E.valueOf(2)),t=this.curve.fromBigInteger(E.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ue(this.curve,r,i)},ue.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new E("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var s=r.testBit(t);s!=n.testBit(t)&&(o=o.add2D(s?this:i))}return o},ue.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),s=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(s)},ue.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ue.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(E.ONE)<0||t.compareTo(e.subtract(E.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(E.ONE)<0||n.compareTo(e.subtract(E.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var he=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var o=new String(""),s=(Object,Array,Object.hasOwnProperty);return function(r,a){var l,u,c=r.match(e),h=c[0],d=!1;"{"===h?l={}:"["===h?l=[]:(l=[],d=!0);for(var p=[l],f=1-d,g=c.length;f<g;++f){var m;switch((h=c[f]).charCodeAt(0)){default:(m=p[0])[u||m.length]=+h,u=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(t,i)),m=p[0],!u){if(!(m instanceof Array)){u=h||o;break}u=m.length}m[u]=h,u=void 0;break;case 91:p.unshift((m=p[0])[u||m.length]=[]),u=void 0;break;case 93:p.shift();break;case 102:(m=p[0])[u||m.length]=!1,u=void 0;break;case 110:(m=p[0])[u||m.length]=null,u=void 0;break;case 116:(m=p[0])[u||m.length]=!0,u=void 0;break;case 123:p.unshift((m=p[0])[u||m.length]={}),u=void 0;break;case 125:p.shift()}}if(d){if(1!==p.length)throw new Error;l=l[0]}else if(p.length)throw new Error;return a&&(l=function e(t,r){var i=t[r];if(i&&"object"===(void 0===i?"undefined":n(i))){var o=null;for(var l in i)if(s.call(i,l)&&i!==t){var u=e(i,l);void 0!==u?i[l]=u:(o||(o=[]),o.push(l))}if(o)for(var c=o.length;--c>=0;)delete i[o[c]]}return a.call(t,r,i)}({"":l},"")),l}}();void 0!==de&&de||(t.KJUR=de={}),void 0!==de.asn1&&de.asn1||(de.asn1={}),de.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new E(r,16).xor(e).add(E.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Re(e,t)},this.newObject=function(e){var t=de.asn1,n=t.DERBoolean,r=t.DERInteger,i=t.DERBitString,o=t.DEROctetString,s=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,u=t.DERUTF8String,c=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,g=t.DERGeneralizedTime,m=t.DERSequence,v=t.DERSet,y=t.DERTaggedObject,b=t.ASN1Util.newObject,_=Object.keys(e);if(1!=_.length)throw"key of param shall be only one.";var w=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new n(e[w]);if("int"==w)return new r(e[w]);if("bitstr"==w)return new i(e[w]);if("octstr"==w)return new o(e[w]);if("null"==w)return new s(e[w]);if("oid"==w)return new a(e[w]);if("enum"==w)return new l(e[w]);if("utf8str"==w)return new u(e[w]);if("numstr"==w)return new c(e[w]);if("prnstr"==w)return new h(e[w]);if("telstr"==w)return new d(e[w]);if("ia5str"==w)return new p(e[w]);if("utctime"==w)return new f(e[w]);if("gentime"==w)return new g(e[w]);if("seq"==w){for(var S=e[w],C=[],E=0;E<S.length;E++){var x=b(S[E]);C.push(x)}return new m({array:C})}if("set"==w){for(S=e[w],C=[],E=0;E<S.length;E++)x=b(S[E]),C.push(x);return new v({array:C})}if("tag"==w){var F=e[w];if("[object Array]"===Object.prototype.toString.call(F)&&3==F.length){var k=b(F[2]);return new y({tag:F[0],explicit:F[1],obj:k})}var A={};if(void 0!==F.explicit&&(A.explicit=F.explicit),void 0!==F.tag&&(A.tag=F.tag),void 0===F.obj)throw"obj shall be specified for 'tag'.";return A.obj=b(F.obj),new y(A)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},de.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new E(r,2).toString(10),r="")}return t},de.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new E(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},de.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},de.asn1.DERAbstractString=function(e){de.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ee(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},o.lang.extend(de.asn1.DERAbstractString,de.asn1.ASN1Object),de.asn1.DERAbstractTime=function(e){de.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){return utc=e.getTime()+6e4*e.getTimezoneOffset(),new Date(utc)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var l=r(String(a),3);s=s+"."+(l=l.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=be(e)},this.setByDateValue=function(e,t,n,r,i,o){var s=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(de.asn1.DERAbstractTime,de.asn1.ASN1Object),de.asn1.DERAbstractStructured=function(e){de.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},o.lang.extend(de.asn1.DERAbstractStructured,de.asn1.ASN1Object),de.asn1.DERBoolean=function(){de.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},o.lang.extend(de.asn1.DERBoolean,de.asn1.ASN1Object),de.asn1.DERInteger=function(e){de.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=de.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(de.asn1.DERInteger,de.asn1.ASN1Object),de.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=de.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}de.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},o.lang.extend(de.asn1.DERBitString,de.asn1.ASN1Object),de.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=de.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}de.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},o.lang.extend(de.asn1.DEROctetString,de.asn1.DERAbstractString),de.asn1.DERNull=function(){de.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(de.asn1.DERNull,de.asn1.ASN1Object),de.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new E(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};de.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(e){var t=de.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},o.lang.extend(de.asn1.DERObjectIdentifier,de.asn1.ASN1Object),de.asn1.DEREnumerated=function(e){de.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=de.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new E(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(de.asn1.DEREnumerated,de.asn1.ASN1Object),de.asn1.DERUTF8String=function(e){de.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},o.lang.extend(de.asn1.DERUTF8String,de.asn1.DERAbstractString),de.asn1.DERNumericString=function(e){de.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},o.lang.extend(de.asn1.DERNumericString,de.asn1.DERAbstractString),de.asn1.DERPrintableString=function(e){de.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},o.lang.extend(de.asn1.DERPrintableString,de.asn1.DERAbstractString),de.asn1.DERTeletexString=function(e){de.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},o.lang.extend(de.asn1.DERTeletexString,de.asn1.DERAbstractString),de.asn1.DERIA5String=function(e){de.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},o.lang.extend(de.asn1.DERIA5String,de.asn1.DERAbstractString),de.asn1.DERUTCTime=function(e){de.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=be(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=be(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},o.lang.extend(de.asn1.DERUTCTime,de.asn1.DERAbstractTime),de.asn1.DERGeneralizedTime=function(e){de.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=be(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=be(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},o.lang.extend(de.asn1.DERGeneralizedTime,de.asn1.DERAbstractTime),de.asn1.DERSequence=function(e){de.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},o.lang.extend(de.asn1.DERSequence,de.asn1.DERAbstractStructured),de.asn1.DERSet=function(e){de.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},o.lang.extend(de.asn1.DERSet,de.asn1.DERAbstractStructured),de.asn1.DERTaggedObject=function(e){de.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},o.lang.extend(de.asn1.DERTaggedObject,de.asn1.ASN1Object);var de,pe,fe,ge=new function(){};function me(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function ve(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ye(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function be(e){return ye(me(e))}function _e(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function we(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function Se(e){return e.length%2==1&&(e="0"+e),_e(w(e))}function Ce(e){return S(we(e))}function Ee(e){return Ne(Ve(e))}function xe(e){return decodeURIComponent(Me(e))}function Fe(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function ke(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ae(e){return w(e)}function Te(e){return Ae(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Pe(e){return S(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Re(e,t){return"-----BEGIN "+t+"-----\r\n"+Te(e)+"\r\n-----END "+t+"-----\r\n"}function Ie(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Pe(e=void 0!==t?(e=e.replace("-----BEGIN "+t+"-----","")).replace("-----END "+t+"-----",""):(e=e.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function Oe(e){var t,n,r,i,o,s,a,l,u,c,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),o=parseInt(h[5]),s=parseInt(h[6]),a=0,""!==(u=h[7])&&(c=(u.substr(1)+"00").substr(0,3),a=parseInt(c)),Date.UTC(t,n,r,i,o,s,a);throw"unsupported zulu format: "+e}function De(e){return~~(Oe(e)/1e3)}function Ne(e){return e.replace(/%/g,"")}function Me(e){return e.replace(/(..)/g,"%$1")}function Le(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Ue(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function je(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ue(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Ve(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+be(t[r]);return n}function Be(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}ge.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},ge.getL=function(e,t){var n=ge.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},ge.getVblen=function(e,t){var n;return""==(n=ge.getL(e,t))?-1:("8"===n.substr(0,1)?new E(n.substr(2),16):new E(n,16)).intValue()},ge.getVidx=function(e,t){var n=ge.getLblen(e,t);return n<0?n:t+2*(n+1)},ge.getV=function(e,t){var n=ge.getVidx(e,t),r=ge.getVblen(e,t);return e.substr(n,2*r)},ge.getTLV=function(e,t){return e.substr(t,2)+ge.getL(e,t)+ge.getV(e,t)},ge.getNextSiblingIdx=function(e,t){return ge.getVidx(e,t)+2*ge.getVblen(e,t)},ge.getChildIdx=function(e,t){var n=ge,r=new Array,i=n.getVidx(e,t);"03"==e.substr(t,2)?r.push(i+2):r.push(i);for(var o=n.getVblen(e,t),s=i,a=0;;){var l=n.getNextSiblingIdx(e,s);if(null==l||l-i>=2*o)break;if(a>=200)break;r.push(l),s=l,a++}return r},ge.getNthChildIdx=function(e,t,n){return ge.getChildIdx(e,t)[n]},ge.getIdxbyList=function(e,t,n,r){var i,o,s=ge;if(0==n.length){if(void 0!==r&&e.substr(t,2)!==r)throw"checking tag doesn't match: "+e.substr(t,2)+"!="+r;return t}return i=n.shift(),o=s.getChildIdx(e,t),s.getIdxbyList(e,o[i],n,r)},ge.getTLVbyList=function(e,t,n,r){var i=ge,o=i.getIdxbyList(e,t,n);if(void 0===o)throw"can't find nthList object";if(void 0!==r&&e.substr(o,2)!=r)throw"checking tag doesn't match: "+e.substr(o,2)+"!="+r;return i.getTLV(e,o)},ge.getVbyList=function(e,t,n,r,i){var o,s,a=ge;if(void 0===(o=a.getIdxbyList(e,t,n,r)))throw"can't find nthList object";return s=a.getV(e,o),!0===i&&(s=s.substr(2)),s},ge.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var l=[],u="";for(a=0;a<s.length;a++)128&s[a]?u+=t((127&s[a]).toString(2),7):(u+=t((127&s[a]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},ge.dump=function(e,t,n,r){var i=ge,o=i.getV,s=i.dump,a=i.getChildIdx,l=e;e instanceof de.asn1.ASN1Object&&(l=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c=t.ommit_long_octet;if("01"==l.substr(n,2))return"00"==(h=o(l,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l.substr(n,2))return r+"INTEGER "+u(h=o(l,n),c)+"\n";if("03"==l.substr(n,2))return r+"BITSTRING "+u(h=o(l,n),c)+"\n";if("04"==l.substr(n,2)){var h=o(l,n);return i.isASN1HEX(h)?(S=r+"OCTETSTRING, encapsulates\n")+s(h,t,0,r+"  "):r+"OCTETSTRING "+u(h,c)+"\n"}if("05"==l.substr(n,2))return r+"NULL\n";if("06"==l.substr(n,2)){var d=o(l,n),p=de.asn1.ASN1Util.oidHexToInt(d),f=de.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=f?r+"ObjectIdentifier "+f+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0c"==l.substr(n,2))return r+"UTF8String '"+xe(o(l,n))+"'\n";if("13"==l.substr(n,2))return r+"PrintableString '"+xe(o(l,n))+"'\n";if("14"==l.substr(n,2))return r+"TeletexString '"+xe(o(l,n))+"'\n";if("16"==l.substr(n,2))return r+"IA5String '"+xe(o(l,n))+"'\n";if("17"==l.substr(n,2))return r+"UTCTime "+xe(o(l,n))+"\n";if("18"==l.substr(n,2))return r+"GeneralizedTime "+xe(o(l,n))+"\n";if("30"==l.substr(n,2)){if("3000"==l.substr(n,4))return r+"SEQUENCE {}\n";S=r+"SEQUENCE\n";var m=t;if((2==(b=a(l,n)).length||3==b.length)&&"06"==l.substr(b[0],2)&&"04"==l.substr(b[b.length-1],2)){f=i.oidname(o(l,b[0]));var v=JSON.parse(JSON.stringify(t));v.x509ExtName=f,m=v}for(var y=0;y<b.length;y++)S+=s(l,m,b[y],r+"  ");return S}if("31"==l.substr(n,2)){S=r+"SET\n";var b=a(l,n);for(y=0;y<b.length;y++)S+=s(l,t,b[y],r+"  ");return S}var _=parseInt(l.substr(n,2),16);if(0!=(128&_)){var w=31&_;if(0!=(32&_)){var S=r+"["+w+"]\n";for(b=a(l,n),y=0;y<b.length;y++)S+=s(l,t,b[y],r+"  ");return S}return"68747470"==(h=o(l,n)).substr(0,8)&&(h=xe(h)),"subjectAltName"===t.x509ExtName&&2==w&&(h=xe(h)),r+"["+w+"] "+h+"\n"}return r+"UNKNOWN("+l.substr(n,2)+") "+o(l,n)+"\n"},ge.isASN1HEX=function(e){var t=ge;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},ge.oidname=function(e){var t=de.asn1;de.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==de&&de||(t.KJUR=de={}),void 0!==de.lang&&de.lang||(de.lang={}),de.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=pe=function(t){return _e(new e(t,"utf8").toString("base64"))},t.b64utoutf8=fe=function(t){return new e(we(t),"base64").toString("utf8")}):(t.utf8tob64u=pe=function(e){return Se(Ne(Ve(e)))},t.b64utoutf8=fe=function(e){return decodeURIComponent(Me(Ce(e)))}),de.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},de.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},de.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},de.lang.String.isBase64URL=function(e){return!e.match(/[+\/=]/)&&(e=we(e),de.lang.String.isBase64(e))},de.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==de&&de||(t.KJUR=de={}),void 0!==de.crypto&&de.crypto||(de.crypto={}),de.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",s="00"+r,a="",l=i-o.length-s.length,u=0;u<l;u+=2)a+="ff";return o+a+s},this.hashString=function(e,t){return new de.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new de.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return new de.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(e)},this.sha256=function(e){return new de.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(e)},this.sha256Hex=function(e){return new de.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(e)},this.sha512=function(e){return new de.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(e)},this.sha512Hex=function(e){return new de.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(e)}},de.crypto.Util.md5=function(e){return new de.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},de.crypto.Util.ripemd160=function(e){return new de.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},de.crypto.Util.SECURERANDOMGEN=new ie,de.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return de.crypto.Util.SECURERANDOMGEN.nextBytes(t),ye(t)},de.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new E(de.crypto.Util.getRandomHexOfNbytes(e),16)},de.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return de.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ye(n)},de.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new E(de.crypto.Util.getRandomHexOfNbits(e),16)},de.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=de.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},de.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return de.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},de.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=de.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=de.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=de.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=de.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},de.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},de.crypto.MessageDigest.getHashLength=function(e){var t=de.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},de.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},de.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=de.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{this.mac=v.algo.HMAC.create(de.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n],this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=v.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=ke(e)),void(this.pass=v.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":n(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ee(e.utf8)),void 0!==e.rstr&&(t=ke(e.rstr)),void 0!==e.b64&&(t=S(e.b64)),void 0!==e.b64u&&(t=Ce(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=v.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=de.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},de.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new de.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e}this.init=function(e,t){var n=null;try{n=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var e=new de.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof ae&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ae&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof de.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof de.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new de.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,e,this.ecpubhex);if(this.pubKey instanceof ae&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ae&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==de.crypto.ECDSA&&this.pubKey instanceof de.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==de.crypto.DSA&&this.pubKey instanceof de.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?de.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},de.crypto.Cipher=function(e){},de.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ae&&t.isPublic){var r=de.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},de.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ae&&t.isPrivate){var r=de.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},de.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ae){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},de.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==de&&de||(t.KJUR=de={}),void 0!==de.crypto&&de.crypto||(de.crypto={}),de.crypto.ECDSA=function(e){var t=new ie;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new E(e.bitLength(),t).mod(e.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(e){this.ecparams=de.crypto.ECParameterDB.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),n=t.getX().toBigInteger(),r=t.getY().toBigInteger(),i=this.ecparams.keylen/4,o=("0000000000"+e.toString(16)).slice(-i),s="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+r.toString(16)).slice(-i);return this.setPrivateKeyHex(o),this.setPublicKeyHex(s),{ecprvhex:o,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new E(t,16),r=this.ecparams.n,i=new E(e,16);do{var o=this.getBigRandom(r),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(r)}while(s.compareTo(E.ZERO)<=0);var a=o.modInverse(r).multiply(i.add(n.multiply(s))).mod(r);return de.crypto.ECDSA.biRSSigToASN1Sig(s,a)},this.sign=function(e,t){var n=t,r=this.ecparams.n,i=E.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(r),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(r)}while(s.compareTo(E.ZERO)<=0);var a=o.modInverse(r).multiply(i.add(n.multiply(s))).mod(r);return this.serializeSig(s,a)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,n){var r,i,o,s=de.crypto.ECDSA.parseSigHex(t);r=s.r,i=s.s,o=ue.decodeFromHex(this.ecparams.curve,n);var a=new E(e,16);return this.verifyRaw(a,r,i,o)},this.verify=function(e,t,r){var i,o,s;if(Bitcoin.Util.isArray(t)){var a=this.parseSig(t);i=a.r,o=a.s}else{if("object"!==(void 0===t?"undefined":n(t))||!t.r||!t.s)throw"Invalid value for signature";i=t.r,o=t.s}if(r instanceof ue)s=r;else{if(!Bitcoin.Util.isArray(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=ue.decodeFrom(this.ecparams.curve,r)}var l=E.fromByteArrayUnsigned(e);return this.verifyRaw(l,i,o,s)},this.verifyRaw=function(e,t,n,r){var i=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(E.ONE)<0||t.compareTo(i)>=0)return!1;if(n.compareTo(E.ONE)<0||n.compareTo(i)>=0)return!1;var s=n.modInverse(i),a=e.multiply(s).mod(i),l=t.multiply(s).mod(i);return o.multiply(a).add(r.multiply(l)).getX().toBigInteger().mod(i).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:E.fromByteArrayUnsigned(n),s:E.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:E.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:E.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){var t,n,r,i=de.crypto.ECDSA.getName,o=ge.getVbyList;if(!1===ge.isASN1HEX(e))throw"not ASN.1 hex string";try{t=o(e,0,[2,0],"06"),n=o(e,0,[1],"04");try{r=o(e,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){var t,n,r,i=de.crypto.ECDSA.getName,o=ge.getVbyList;if(!1===ge.isASN1HEX(e))throw"not ASN.1 hex string";try{o(e,0,[1,0],"06"),t=o(e,0,[1,1],"06"),n=o(e,0,[2,0,1],"04");try{r=o(e,0,[2,0,2,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){var t,n,r=de.crypto.ECDSA.getName,i=ge.getVbyList;if(!1===ge.isASN1HEX(e))throw"not ASN.1 hex string";try{i(e,0,[0,0],"06"),t=i(e,0,[0,1],"06"),n=i(e,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}if(this.curveName=r(t),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,t){5!==t&&(t=6);var n,r,i=de.crypto.ECDSA.getName,o=ge.getVbyList;if(!1===ge.isASN1HEX(e))throw"not ASN.1 hex string";try{n=o(e,0,[0,t,0,1],"06"),r=o(e,0,[0,t,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}if(this.curveName=i(n),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},de.crypto.ECDSA.parseSigHex=function(e){var t=de.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new E(t.r,16),s:new E(t.s,16)}},de.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=ge.getChildIdx,n=ge.getV;if("30"!=e.substr(0,2))throw"signature is not a ASN.1 sequence";var r=t(e,0);if(2!=r.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=r[0],o=r[1];if("02"!=e.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=e.substr(o,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:n(e,i),s:n(e,o)}},de.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=de.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},de.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return de.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},de.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new E(e,16),r=new E(t,16);return de.crypto.ECDSA.biRSSigToASN1Sig(n,r)},de.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=de.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},de.crypto.ECDSA.getName=function(e){return"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==de&&de||(t.KJUR=de={}),void 0!==de.crypto&&de.crypto||(de.crypto={}),de.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new E(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,l,u,c,h,d,p,f){e[r]={};var g=n(o),m=n(s),v=n(a),y=n(l),b=n(u),_=new ce(g,m,v),w=_.decodePointHex("04"+c+h);e[r].name=r,e[r].keylen=i,e[r].curve=_,e[r].G=w,e[r].n=y,e[r].h=b,e[r].oid=p,e[r].info=f;for(var S=0;S<d.length;S++)t[d[S]]=r}},de.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),de.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),de.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),de.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),de.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),de.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),de.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),de.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),de.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),de.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,n,r){return t(v.AES,e,n,r)},t=function(e,t,n,r){var i=v.enc.Hex.parse(t),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var l=e.decrypt(a,o,{iv:s});return v.enc.Hex.stringify(l)},n=function(e,t,n){return r(v.AES,e,t,n)},r=function(e,t,n,r){var i=v.enc.Hex.parse(t),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),a=e.encrypt(i,o,{iv:s}),l=v.enc.Hex.parse(a.toString());return v.enc.Base64.stringify(l)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(v.TripleDES,e,n,r)},eproc:function(e,t,n){return r(v.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(v.DES,e,n,r)},eproc:function(e,t,n){return r(v.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var s=e.indexOf("-----END");if(-1!=i&&-1!=s){var a=e.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),t.data=a}return t},s=function(e,t,n){for(var r=n.substring(0,16),o=v.enc.Hex.parse(r),s=v.enc.Utf8.parse(t),a=i[e].keylen+i[e].ivlen,l="",u=null;;){var c=v.algo.MD5.create();if(null!=u&&c.update(u),c.update(s),c.update(o),u=c.finalize(),(l+=v.enc.Hex.stringify(u)).length>=2*a)break}var h={};return h.keyhex=l.substr(0,2*i[e].keylen),h.ivhex=l.substr(2*i[e].keylen,2*i[e].ivlen),h},a=function(e,t,n,r){var o=v.enc.Base64.parse(e),s=v.enc.Hex.stringify(o);return(0,i[t].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return s(e,t,n)},decryptKeyB64:function(e,t,n,r){return a(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=n.cipher,i=n.ivsalt,l=n.data,u=s(r,t,i).keyhex;return a(l,r,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;return void 0!==o&&null!=o||(o=function(e){var t=v.lib.WordArray.random(i[r].ivlen);return v.enc.Hex.stringify(t)}().toUpperCase()),a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",(a+=function(e,t,n,r){return(0,i[t].eproc)(e,n,o)}(t,r,s(r,n,o).keyhex).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var n=ge.getChildIdx,r=ge.getV,i={},o=n(t,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(t,o[1]);var s=n(t,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(t,s[0]))throw"this only supports pkcs5PBES2";var a=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var l=n(t,a[1]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+l.length;if("2a864886f70d0307"!=r(t,l[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(t,l[1]);var u=n(t,a[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(t,u[0]))throw"this only supports pkcs5PBKDF2";var c=n(t,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;i.pbkdf2Salt=r(t,c[0]);var h=r(t,c[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(e){throw"malformed format pbkdf2Iter: "+h}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=v.enc.Hex.parse(e.pbkdf2Salt),r=v.PBKDF2(t,n,{keySize:6,iterations:e.pbkdf2Iter});return v.enc.Hex.stringify(r)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Ie(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=He.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=v.enc.Hex.parse(r.ciphertext);var s=v.enc.Hex.parse(i),a=v.enc.Hex.parse(r.encryptionSchemeIV),l=v.TripleDES.decrypt(o,s,{iv:a});return v.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=ge,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(e,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)&&(i.algparam=r(e,s[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ie(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ae;else if("2a8648ce380401"==n.algoid)t=new de.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new de.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=ge.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ae;else if("2a8648ce380401"===n)t=new de.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new de.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=ge.getChildIdx,n=ge.getV,r={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var i=t(e,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(i[0],2))throw"malformed RSA key(code:003)";if(r.n=n(e,i[0]),"02"!=e.substr(i[1],2))throw"malformed RSA key(code:004)";return r.e=n(e,i[1]),r},parsePublicPKCS8Hex:function(e){var t=ge,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=e.substr(s,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,s);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)?i.algparam=r(e,a[1]):"30"==e.substr(a[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,a[1],[0],"02"),i.algparam.q=t.getVbyList(e,a[1],[1],"02"),i.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(e,o[1]).substr(2),i}}}();He.getKey=function(e,t,n){var r,i=(v=ge).getChildIdx,o=v.getVbyList,s=de.crypto,a=s.ECDSA,l=s.DSA,u=ae,c=Ie,h=He;if(void 0!==u&&e instanceof u)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(e.n,e.e),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(T=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(T=new u).setPrivate(e.n,e.e,e.d),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(T=new l).setPublic(e.p,e.q,e.g,e.y),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(T=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new u).setPublic(Ce(e.n),Ce(e.e)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(T=new u).setPrivateEx(Ce(e.n),Ce(e.e),Ce(e.d),Ce(e.p),Ce(e.q),Ce(e.dp),Ce(e.dq),Ce(e.qi)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(T=new u).setPrivate(Ce(e.n),Ce(e.e),Ce(e.d)),T;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(A=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+Ce(e.x)).slice(-d)+("0000000000"+Ce(e.y)).slice(-d);return A.setPublicKeyHex(p),A}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(A=new a({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+Ce(e.x)).slice(-d)+("0000000000"+Ce(e.y)).slice(-d);var f=("0000000000"+Ce(e.d)).slice(-d);return A.setPublicKeyHex(p),A.setPrivateKeyHex(f),A}if("pkcs5prv"===n){var g,m=e,v=ge;if(9===(g=i(m,0)).length)(T=new u).readPKCS5PrvKeyHex(m);else if(6===g.length)(T=new l).readPKCS5PrvKeyHex(m);else{if(!(g.length>2&&"04"===m.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(T=new a).readPKCS5PrvKeyHex(m)}return T}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return We.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return We.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var y=Ie(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=c(e,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var _=o(r=c(e,"DSA PRIVATE KEY"),0,[1],"02"),w=o(r,0,[2],"02"),S=o(r,0,[3],"02"),C=o(r,0,[4],"02"),x=o(r,0,[5],"02");return(T=new l).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(x,16)),T}if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var F=h.getDecryptedKeyHex(e,t),k=new ae;return k.readPKCS5PrvKeyHex(F),k}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A,T=o(r=h.getDecryptedKeyHex(e,t),0,[1],"04"),P=o(r,0,[2,0],"06"),R=o(r,0,[3,0],"03").substr(2);if(void 0===de.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(A=new a({curve:de.crypto.OID.oidhex2name[P]})).setPublicKeyHex(R),A.setPrivateKeyHex(T),A.isPublic=!1,A}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return _=o(r=h.getDecryptedKeyHex(e,t),0,[1],"02"),w=o(r,0,[2],"02"),S=o(r,0,[3],"02"),C=o(r,0,[4],"02"),x=o(r,0,[5],"02"),(T=new l).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(x,16)),T;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw"not supported argument"},He.generateKeypair=function(e,t){if("RSA"==e){var n=t;(s=new ae).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new ae,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==e){var s,a,l=t,u=new de.crypto.ECDSA({curve:l}).generateKeyPairHex();return(s=new de.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),s.setPrivateKeyHex(u.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new de.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw"unknown algorithm: "+e},He.getPEM=function(e,t,n,r,i,o){var s=de.asn1,a=s.DERObjectIdentifier,l=s.DERInteger,u=s.ASN1Util.newObject,c=de.crypto,h=c.DSA,d=c.ECDSA,p=ae;function f(e){return u({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function g(e){return u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function m(e){return u({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==p&&e instanceof p||void 0!==h&&e instanceof h||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Re(w=new(0,s.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate)return Re(w=f(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate){var y=new a({name:e.curveName}).getEncodedHex(),b=g(e).getEncodedHex(),_="";return(_+=Re(y,"EC PARAMETERS"))+Re(b,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return Re(w=m(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate){var w=f(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,r,o)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return w=g(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,r,o);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return w=m(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,r,o);var S=function(e,t){var n=C(e,t);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(e,t){var n=v.lib.WordArray.random(8),r=v.lib.WordArray.random(8),i=v.PBKDF2(t,n,{keySize:6,iterations:100}),o=v.enc.Hex.parse(e),s=v.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=v.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=v.enc.Hex.stringify(r),a};if("PKCS8PRV"==t&&null!=p&&e instanceof p&&1==e.isPrivate){var E=f(e).getEncodedHex();return w=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Re(w,"PRIVATE KEY"):Re(b=S(w,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return E=new u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Re(w,"PRIVATE KEY"):Re(b=S(w,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return E=new l({bigint:e.x}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Re(w,"PRIVATE KEY"):Re(b=S(w,n),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},He.getKeyFromCSRPEM=function(e){var t=Ie(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=ge.getChildIdx,n=ge.getTLV,r={},i=e;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var o=t(i,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(o[0],2))throw"malformed CSR(code:003)";var s=t(i,o[0]);if(s.length<3)throw"malformed CSR(code:004)";return r.p8pubkeyhex=n(i,s[2]),r},He.getJWKFromKey=function(e){var t={};if(e instanceof ae&&e.isPrivate)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t.d=Se(e.d.toString(16)),t.p=Se(e.p.toString(16)),t.q=Se(e.q.toString(16)),t.dp=Se(e.dmp1.toString(16)),t.dq=Se(e.dmq1.toString(16)),t.qi=Se(e.coeff.toString(16)),t;if(e instanceof ae&&e.isPublic)return t.kty="RSA",t.n=Se(e.n.toString(16)),t.e=Se(e.e.toString(16)),t;if(e instanceof de.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=Se(n.x),t.y=Se(n.y),t.d=Se(e.prvKeyHex),t}if(e instanceof de.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=Se(n.x),t.y=Se(n.y),t}throw"not supported key object"},ae.getPosArrayOfChildrenFromHex=function(e){return ge.getChildIdx(e,0)},ae.getHexValueArrayOfChildrenFromHex=function(e){var t,n=ge.getV,r=n(e,(t=ae.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),s=n(e,t[3]),a=n(e,t[4]),l=n(e,t[5]),u=n(e,t[6]),c=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(r,i,o,s,a,l,u,c,h),t},ae.prototype.readPrivateKeyFromPEMString=function(e){var t=Ie(e),n=ae.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ae.prototype.readPKCS5PrvKeyHex=function(e){var t=ae.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ae.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,s,a,l,u=ge.getVbyList;if(!1===ge.isASN1HEX(e))throw"not ASN.1 hex string";try{t=u(e,0,[2,0,1],"02"),n=u(e,0,[2,0,2],"02"),r=u(e,0,[2,0,3],"02"),i=u(e,0,[2,0,4],"02"),o=u(e,0,[2,0,5],"02"),s=u(e,0,[2,0,6],"02"),a=u(e,0,[2,0,7],"02"),l=u(e,0,[2,0,8],"02")}catch(e){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(t,n,r,i,o,s,a,l)},ae.prototype.readPKCS5PubKeyHex=function(e){var t=ge,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},ae.prototype.readPKCS8PubKeyHex=function(e){var t=ge;if(!1===t.isASN1HEX(e))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==t.getTLVbyList(e,0,[0,0]))throw"not PKCS8 RSA public key";var n=t.getTLVbyList(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ae.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new We).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var qe=new RegExp("");function ze(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Ke(e,t,n){for(var r="",i=0;r.length<t;)r+=Fe(n(ke(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function $e(e){for(var t in de.crypto.Util.DIGESTINFOHEAD){var n=de.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function We(){var e=ge,t=e.getChildIdx,n=e.getV,r=e.getTLV,i=e.getVbyList,o=e.getTLVbyList,s=e.getIdxbyList,a=e.getVidx,l=e.oidname,u=We,c=Ie;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return l(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=i(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=i(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return e.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return s(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return l(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=o(this.hex,0,[0],"30"),i=new de.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=s(this.hex,0,[0,7,0],"30"),r=t(this.hex,n);this.aExtInfo=new Array;for(var o=0;o<r.length;o++){var l={critical:!1},u=0;3===t(this.hex,r[o]).length&&(l.critical=!0,u=1),l.oid=e.hextooidstr(i(this.hex,r[o],[0],"06"));var c=s(this.hex,r[o],[1+u]);l.vidx=a(this.hex,c),this.aExtInfo.push(l)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=de.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var r=n(t,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw"malformed key usage value";var r=parseInt(t.substr(0,2)),i=parseInt(t.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(We.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var i={},o=r(this.hex,e.vidx),s=t(o,0),a=0;a<s.length;a++)"80"===o.substr(s[a],2)&&(i.kid=n(o,s[a]));return i},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var i=new Array,o=r(this.hex,e.vidx);if(""===o)return i;for(var s=t(o,0),a=0;a<s.length;a++)i.push(l(n(o,s[a])));return i},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,i,o,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,l=r(this.hex,s.vidx),u=t(l,0),c=0;c<u.length;c++)o=l.substr(u[c],2),e=n(l,u[c]),"81"===o&&(i=xe(e),a.push(["MAIL",i])),"82"===o&&(i=xe(e),a.push(["DNS",i])),"84"===o&&(i=We.hex2dn(e,0),a.push(["DN",i])),"86"===o&&(i=xe(e),a.push(["URI",i])),"87"===o&&(i=je(e),a.push(["IP",i]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var n=new Array,r=t(this.hex,e.vidx),o=0;o<r.length;o++)try{var s=xe(i(this.hex,r[o],[0,0,0],"86"));n.push(s)}catch(e){}return n},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var n={ocsp:[],caissuer:[]},r=t(this.hex,e.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0],"06"),a=i(this.hex,r[o],[1],"86");"2b06010505073001"===s&&n.ocsp.push(xe(a)),"2b06010505073002"===s&&n.caissuer.push(xe(a))}return n},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var o=r(this.hex,e.vidx),s=[],a=t(o,0),u=0;u<a.length;u++){var c={},h=t(o,a[u]);if(c.id=l(n(o,h[0])),2===h.length)for(var d=t(o,h[1]),p=0;p<d.length;p++){var f=i(o,d[p],[0],"06");"2b06010505070201"===f?c.cps=xe(i(o,d[p],[1])):"2b06010505070202"===f&&(c.unotice=xe(i(o,d[p],[1,0])))}s.push(c)}return s},this.readCertPEM=function(e){this.readCertHex(c(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Be(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Be(t.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){e+="X509v3 Extensions:\n";for(var r=0;r<n.length;r++){var i=n[r],o=de.asn1.x509.OID.oid2name(i.oid);""===o&&(o=i.oid);var s="";if(!0===i.critical&&(s="CRITICAL"),e+="  "+o+" "+s+":\n","basicConstraints"===o){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===o)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===o)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===o){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===o)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===o)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===o)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===o){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(e+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(e+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===o)for(var c=this.getExtCertificatePolicies(),h=0;h<c.length;h++)void 0!==c[h].id&&(e+="    policy oid: "+c[h].id+"\n"),void 0!==c[h].cps&&(e+="    cps: "+c[h].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}qe.compile("[^0-9a-f]","gi"),ae.prototype.sign=function(e,t){var n=de.crypto.Util.hashString(e,t);return this.signWithMessageHash(n,t)},ae.prototype.signWithMessageHash=function(e,t){var n=oe(de.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return ze(this.doPrivate(n).toString(16),this.n.bitLength())},ae.prototype.signPSS=function(e,t,n){var r=function(e){return de.crypto.Util.hashHex(e,t)}(ke(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},ae.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=Fe(e),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),l=function(e){return de.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw"invalid salt length";if(a<o+n+2)throw"data too long";var u="";n>0&&(u=new Array(n),(new ie).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=Fe(l(ke("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(r=0;r<a-n-o-2;r+=1)h[r]=0;var d=String.fromCharCode.apply(String,h)+"\x01"+u,p=Ke(c,d.length,l),f=[];for(r=0;r<d.length;r+=1)f[r]=d.charCodeAt(r)^p.charCodeAt(r);for(f[0]&=~(65280>>8*a-s&255),r=0;r<o;r++)f.push(c.charCodeAt(r));return f.push(188),ze(this.doPrivate(new E(f)).toString(16),this.n.bitLength())},ae.prototype.verify=function(e,t){var n=oe(t=(t=t.replace(qe,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=$e(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==de.crypto.Util.hashString(e,r[0])},ae.prototype.verifyWithMessageHash=function(e,t){var n=oe(t=(t=t.replace(qe,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=$e(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==e},ae.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return de.crypto.Util.hashHex(e,n)}(ke(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},ae.prototype.verifyWithMessageHashPSS=function(e,t,n,r){var i=new E(t,16);if(i.bitLength()>this.n.bitLength())return!1;var o,s=function(e){return de.crypto.Util.hashHex(e,n)},a=Fe(e),l=a.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=l;else if(-2===r)r=c-l-2;else if(r<-2)throw"invalid salt length";if(c<l+r+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(o=0;o<h.length;o+=1)h[o]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw"encoded message does not end in 0xbc";var d=(h=String.fromCharCode.apply(String,h)).substr(0,c-l-1),p=h.substr(d.length,l),f=65280>>8*c-u&255;if(0!=(d.charCodeAt(0)&f))throw"bits beyond keysize not zero";var g=Ke(p,d.length,s),m=[];for(o=0;o<d.length;o+=1)m[o]=d.charCodeAt(o)^g.charCodeAt(o);m[0]&=~f;var v=c-l-r-2;for(o=0;o<v;o+=1)if(0!==m[o])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===Fe(s(ke("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-r)))))},ae.SALT_LEN_HLEN=-1,ae.SALT_LEN_MAX=-2,ae.SALT_LEN_RECOVER=-2,We.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,r=ge.getChildIdx(e,t),i=0;i<r.length;i++)n.push(We.hex2rdn(e,r[i]));return"/"+(n=n.map(function(e){return e.replace("/","\\/")})).join("/")},We.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,r=ge.getChildIdx(e,t),i=0;i<r.length;i++)n.push(We.hex2attrTypeValue(e,r[i]));return(n=n.map(function(e){return e.replace("+","\\+")})).join("+")},We.hex2attrTypeValue=function(e,t){var n=ge,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),s=de.asn1.ASN1Util.oidHexToInt(o);return de.asn1.x509.OID.oid2atype(s)+"="+Fe(r(e,i[1]))},We.getPublicKeyFromCertHex=function(e){var t=new We;return t.readCertHex(e),t.getPublicKey()},We.getPublicKeyFromCertPEM=function(e){var t=new We;return t.readCertPEM(e),t.getPublicKey()},We.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=ge.getVbyList,i={algparam:null};return(t=new We).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},We.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==de&&de||(t.KJUR=de={}),void 0!==de.jws&&de.jws||(de.jws={}),de.jws.JWS=function(){var e=de.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var l=Ce(s),u=oe(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=fe(i),h=fe(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},de.jws.JWS.sign=function(e,t,r,i,o){var s,a,l,u=de.jws.JWS,c=u.readSafeJSONString,h=u.isSafeJSONString,d=de.crypto,p=d.Mac,f=d.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":n(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":n(t))&&(s=g.stringify(a=t)),"string"==typeof t){if(!h(s=t))throw"JWS Head is not safe JSON string: "+s;a=c(s)}if(l=r,"object"==(void 0===r?"undefined":n(r))&&(l=g.stringify(r)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,s=g.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var m=null;if(void 0===u.jwsalg2sigalg[e])throw"unsupported alg name: "+e;m=u.jwsalg2sigalg[e];var v=pe(s)+"."+pe(l),y="";if("Hmac"==m.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new p({alg:m,prov:"cryptojs",pass:i});b.updateString(v),y=b.doFinal()}else{var _;-1!=m.indexOf("withECDSA")?((_=new f({alg:m})).init(i,o),_.updateString(v),hASN1Sig=_.sign(),y=de.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=m&&((_=new f({alg:m})).init(i,o),_.updateString(v),y=_.sign())}return v+"."+Se(y)},de.jws.JWS.verify=function(e,t,r){var i,o=de.jws.JWS,s=o.readSafeJSONString,a=de.crypto,l=a.ECDSA,u=a.Mac,c=a.Signature;void 0!==n(ae)&&(i=ae);var h=e.split(".");if(3!==h.length)return!1;var d,p=h[0]+"."+h[1],f=Ce(h[2]),g=s(fe(h[0])),m=null;if(void 0===g.alg)throw"algorithm not specified in header";if(d=(m=g.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+m+":"))throw"algorithm '"+m+"' not accepted in the list";if("none"!=m&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=d&&"PS"!=d||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(t instanceof l))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===o.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+m;if("none"==(v=o.jwsalg2sigalg[m]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var y=new u({alg:v,pass:t});return y.updateString(p),f==y.doFinal()}if(-1!=v.indexOf("withECDSA")){var b,_=null;try{_=l.concatSigToASN1Sig(f)}catch(e){return!1}return(b=new c({alg:v})).init(t),b.updateString(p),b.verify(_)}return(b=new c({alg:v})).init(t),b.updateString(p),b.verify(f)},de.jws.JWS.parse=function(e){var t,n,r=e.split("."),i={};if(2!=r.length&&3!=r.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=r[1],3==r.length&&(n=r[2]),i.headerObj=de.jws.JWS.readSafeJSONString(fe(r[0])),i.payloadObj=de.jws.JWS.readSafeJSONString(fe(t)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadPP=null==i.payloadObj?fe(t):JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=Ce(n)),i},de.jws.JWS.verifyJWT=function(e,t,r){var i=de.jws,o=i.JWS,s=o.readSafeJSONString,a=o.inArray,l=o.includedArray,u=e.split("."),c=u[0],h=u[1],d=(Ce(u[2]),s(fe(c))),p=s(fe(h));if(void 0===d.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!a(d.alg,r.alg))return!1;if(void 0!==p.iss&&"object"===n(r.iss)&&!a(p.iss,r.iss))return!1;if(void 0!==p.sub&&"object"===n(r.sub)&&!a(p.sub,r.sub))return!1;if(void 0!==p.aud&&"object"===n(r.aud))if("string"==typeof p.aud){if(!a(p.aud,r.aud))return!1}else if("object"==n(p.aud)&&!l(p.aud,r.aud))return!1;var f=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(f=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+r.gracePeriod<f||void 0!==p.nbf&&"number"==typeof p.nbf&&f<p.nbf-r.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&f<p.iat-r.gracePeriod||void 0!==p.jti&&void 0!==r.jti&&p.jti!==r.jti||!o.verify(e,t,r.alg))},de.jws.JWS.includedArray=function(e,t){var r=de.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t))return!1;return!0},de.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},de.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},de.jws.JWS.isSafeJSONString=function(e,t,r){var i=null;try{return"object"!=(void 0===(i=he(e))?"undefined":n(i))?0:i.constructor===Array?0:(t&&(t[r]=i),1)}catch(e){return 0}},de.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=he(e))?"undefined":n(t))?null:t.constructor===Array?null:t}catch(e){return null}},de.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},de.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=ke(t);return Se(de.crypto.Util.hashHex(n,"sha256"))},de.jws.IntDate={},de.jws.IntDate.get=function(e){var t=de.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},de.jws.IntDate.getZulu=function(e){return De(e)},de.jws.IntDate.getNow=function(){return~~(new Date/1e3)},de.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},de.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ie,t.rng_seed_time=Q,t.BigInteger=E,t.RSAKey=ae,t.EDSA=de.crypto.EDSA,t.DSA=de.crypto.DSA,t.Signature=de.crypto.Signature,t.MessageDigest=de.crypto.MessageDigest,t.Mac=de.crypto.Mac,t.Cipher=de.crypto.Cipher,t.KEYUTIL=He,t.ASN1HEX=ge,t.X509=We,t.CryptoJS=v,t.b64tohex=S,t.b64toBA=C,t.stoBA=me,t.BAtos=ve,t.BAtohex=ye,t.stohex=be,t.stob64=function(e){return w(be(e))},t.stob64u=function(e){return _e(w(be(e)))},t.b64utos=function(e){return ve(C(we(e)))},t.b64tob64u=_e,t.b64utob64=we,t.hex2b64=w,t.hextob64u=Se,t.b64utohex=Ce,t.utf8tob64u=pe,t.b64utoutf8=fe,t.utf8tob64=function(e){return w(Ne(Ve(e)))},t.b64toutf8=function(e){return decodeURIComponent(Me(S(e)))},t.utf8tohex=Ee,t.hextoutf8=xe,t.hextorstr=Fe,t.rstrtohex=ke,t.hextob64=Ae,t.hextob64nl=Te,t.b64nltohex=Pe,t.hextopem=Re,t.pemtohex=Ie,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Oe,t.zulutosec=De,t.zulutodate=function(e){return new Date(Oe(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Ne,t.hextouricmp=Me,t.ipv6tohex=Le,t.hextoipv6=Ue,t.hextoip=je,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Le(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=Ve,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Be,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map(function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=de,t.crypto=de.crypto,t.asn1=de.asn1,t.jws=de.jws,t.lang=de.lang}).call(this,n(27).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(29),i=n(30),o=n(31);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return _(e,t,n,r)}function S(e,t,n,r){return H(B(t),e,n,r)}function C(e,t,n,r){return H(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:s=e[i+2],128==(192&(o=e[i+1]))&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+2],a=e[i+3],128==(192&(o=e[i+1]))&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=F));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?x(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||I(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:V(new l(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(28))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],s=n[1],a=new o(3*(r+s)/4-s),l=0,c=s>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,a[l++]=255&t),1===s&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,o=e.crypto,s=e.hextob64u,a=e.b64tohex,l=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,o,s,l,u,c,h){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=a(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return e._validateJwt(t,o,s,l,u,c,h)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,o,s,a){o||(o=0),s||(s=parseInt(Date.now()/1e3));var l=e.parseJwt(t).payload;if(!l.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(l.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",l.iss),Promise.reject(new Error("Invalid issuer in token: "+l.iss));if(!l.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(l.aud===i||Array.isArray(l.aud)&&l.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",l.aud),Promise.reject(new Error("Invalid audience in token: "+l.aud));if(l.azp&&l.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",l.azp),Promise.reject(new Error("Invalid azp in token: "+l.azp));if(!a){var u=s+o,c=s-o;if(!l.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<l.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",l.iat),Promise.reject(new Error("iat is in the future: "+l.iat));if(l.nbf&&u<l.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",l.nbf),Promise.reject(new Error("nbf is in the future: "+l.nbf));if(!l.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(l.exp<c)return r.Log.error("JoseUtil._validateJwt: exp is in the past",l.exp),Promise.reject(new Error("exp is in the past:"+l.exp))}return Promise.resolve(l)},e._validateJwt=function(n,i,o,s,a,u,c){return e.validateJwtAttributes(n,o,s,a,u,c).then(function(e){try{return t.JWS.verify(n,i,l)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}})},e.hashString=function e(t,n){try{return o.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return s(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){var r=n(34),i=n(35);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(8);t.SignoutRequest=function e(t){var n=t.url,s=t.id_token_hint,a=t.post_logout_redirect_uri,l=t.data,u=t.extraQueryParams,c=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var h in s&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",s)),a&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",a),l&&(this.state=new o.State({data:l,request_type:c}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),u)n=i.UrlUtility.addQueryParam(n,h,u[h]);this.url=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(9),s=n(41),a=n(15),l=n(47),u=n(49),c=n(18),h=n(20),d=n(10),p=n(4);t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.SessionMonitor,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TokenClient,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n instanceof s.UserManagerSettings||(n=new s.UserManagerSettings(n));var m=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return m._events=new l.UserManagerEvents(n),m._silentRenewService=new r(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new a(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=g,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then(function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()})},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then(function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e})},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e}).catch(function(e){i.Log.error(e.message)})},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t=Object.assign({},t)).request_type="si:s",this._loadUser().then(function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))})},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then(function(t){return t?t.access_token?e._loadUser().then(function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then(function(){return e._events.load(n),n})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then(function(r){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew).then(function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then(function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e})},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then(function(n){var r=n.state;return"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))})},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then(function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o})},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return e.processSigninResponse(t.url).then(function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then(function(t){return n._signinEnd(t.url,e)})},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then(function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then(function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)}).catch(function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e})})},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then(function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new a.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r})})},t.prototype._signinCallback=function(e,t){return i.Log.debug("UserManager._signinCallback"),t.callback(e)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then(function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e})},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then(function(e){return n._signoutEnd(e.url)})},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then(function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then(function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then(function(){var s=e.id_token_hint||o&&o.id_token;return s&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=s),t.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then(function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)})})})}).catch(function(e){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e})})},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then(function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e})},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then(function(t){return e._revokeInternal(t,!0).then(function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.refresh_token;return this._revokeAccessTokenInternal(e.access_token,t).then(function(e){return n._revokeRefreshTokenInternal(r,t).then(function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t})})}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then(function(){return!0})},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),a.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),o=n(42),s=n(43),a=n(45),l=n(6),u=n(1),c=n(12),h=60,d=2e3;t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,p=n.popupWindowFeatures,f=n.popupWindowTarget,g=n.silent_redirect_uri,m=n.silentRequestTimeout,v=n.automaticSilentRenew,y=void 0!==v&&v,b=n.validateSubOnSilentRenew,_=void 0!==b&&b,w=n.includeIdTokenInSilentRenew,S=void 0===w||w,C=n.monitorSession,E=void 0===C||C,x=n.checkSessionInterval,F=void 0===x?d:x,k=n.stopCheckSessionOnError,A=void 0===k||k,T=n.query_status_response_type,P=n.revokeAccessTokenOnSignout,R=void 0!==P&&P,I=n.accessTokenExpiringNotificationTime,O=void 0===I?h:I,D=n.redirectNavigator,N=void 0===D?new o.RedirectNavigator:D,M=n.popupNavigator,L=void 0===M?new s.PopupNavigator:M,U=n.iframeNavigator,j=void 0===U?new a.IFrameNavigator:U,V=n.userStore,B=void 0===V?new l.WebStorageStateStore({store:u.Global.sessionStorage}):V;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var H=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,arguments[0]));return H._popup_redirect_uri=r,H._popup_post_logout_redirect_uri=i,H._popupWindowFeatures=p,H._popupWindowTarget=f,H._silent_redirect_uri=g,H._silentRequestTimeout=m,H._automaticSilentRenew=y,H._validateSubOnSilentRenew=_,H._includeIdTokenInSilentRenew=S,H._accessTokenExpiringNotificationTime=O,H._monitorSession=E,H._checkSessionInterval=F,H._stopCheckSessionOnError=A,H._query_status_response_type=T||(arguments[0]&&arguments[0].response_type?c.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),H._revokeAccessTokenOnSignout=R,H._redirectNavigator=N,H._popupNavigator=L,H._iframeNavigator=j,H._userStore=B,H}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(44);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(3),s=500,a="location=no,toolbar=no,width=500,height=500,left=100,top=100;",l="_blank";t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this._popup=window.open("",t.popupWindowTarget||l,t.popupWindowFeatures||a),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),s))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=o.UrlUtility.parseUrlFragment(e,n);if(r.state){var s=window.opener["popupCallback_"+r.state];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(46);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),window.frameElement&&(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(1),s=n(17);t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s._timer=r,s._nowFunc=i||function(){return Date.now()/1e3},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){i.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(s.Event)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(e){}).catch(function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)}))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then(function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)})},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.9.0"}])},Onkx:function(e,n){var r;(r=jQuery).fn.extend({slimScroll:function(e){var n=r.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},e);return this.each(function(){var i,o,s,a,l,u,c,h,d="<div></div>",p=30,f=!1,g=r(this);if(g.parent().hasClass(n.wrapperClass)){var m=g.scrollTop();if(w=g.siblings("."+n.barClass),_=g.siblings("."+n.railClass),x(),r.isPlainObject(e)){if("height"in e&&"auto"==e.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}else if("height"in e){var y=e.height;g.parent().css("height",y),g.css("height",y)}if("scrollTo"in e)m=parseInt(n.scrollTo);else if("scrollBy"in e)m+=parseInt(n.scrollBy);else if("destroy"in e)return w.remove(),_.remove(),void g.unwrap();E(m,!1,!0)}}else if(!(r.isPlainObject(e)&&"destroy"in e)){n.height="auto"==n.height?g.parent().height():n.height;var b=r(d).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});g.css({overflow:"hidden",width:n.width,height:n.height});var _=r(d).addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),w=r(d).addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),S="right"==n.position?{right:n.distance}:{left:n.distance};_.css(S),w.css(S),g.wrap(b),g.parent().append(w),g.parent().append(_),n.railDraggable&&w.bind("mousedown",function(e){var n=r(document);return s=!0,t=parseFloat(w.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),E(0,w.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){s=!1,k(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),_.hover(function(){F()},function(){k()}),w.hover(function(){o=!0},function(){o=!1}),g.hover(function(){i=!0,F(),k()},function(){i=!1,k()}),g.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(l=e.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(e){f||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(E((l-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),l=e.originalEvent.touches[0].pageY)}),x(),"bottom"===n.start?(w.css({top:g.outerHeight()-w.outerHeight()}),E(0,!0)):"top"!==n.start&&(E(r(n.start).position().top,null,!0),n.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}function C(e){if(i){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3),r(e.target||e.srcTarget||e.srcElement).closest("."+n.wrapperClass).is(g.parent())&&E(t,!0),e.preventDefault&&!f&&e.preventDefault(),f||(e.returnValue=!1)}}function E(e,t,r){f=!1;var i=e,o=g.outerHeight()-w.outerHeight();if(t&&(i=parseInt(w.css("top"))+e*parseInt(n.wheelStep)/100*w.outerHeight(),i=Math.min(Math.max(i,0),o),i=e>0?Math.ceil(i):Math.floor(i),w.css({top:i+"px"})),i=(c=parseInt(w.css("top"))/(g.outerHeight()-w.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),r){var s=(i=e)/g[0].scrollHeight*g.outerHeight();s=Math.min(Math.max(s,0),o),w.css({top:s+"px"})}g.scrollTop(i),g.trigger("slimscrolling",~~i),F(),k()}function x(){u=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),p),w.css({height:u+"px"});var e=u==g.outerHeight()?"none":"block";w.css({display:e})}function F(){x(),clearTimeout(a),c==~~c?(f=n.allowPageScroll,h!=c&&g.trigger("slimscroll",0==~~c?"top":"bottom")):f=!1,h=c,u>=g.outerHeight()?f=!0:(w.stop(!0,!0).fadeIn("fast"),n.railVisible&&_.stop(!0,!0).fadeIn("fast"))}function k(){n.alwaysVisible||(a=setTimeout(function(){n.disableFadeOut&&i||o||s||(w.fadeOut("slow"),_.fadeOut("slow"))},1e3))}}),this}}),r.fn.extend({slimscroll:r.fn.slimScroll})},PdH4:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function l(e,t,n){return(l=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var h=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},d=function(e){return Object.keys(e).map(function(t){return e[t]})},p=function(e){return Array.prototype.slice.call(e)},f=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},g=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},m=[],v=function(e){return"function"==typeof e?e():e},y=function(e){return e&&"function"==typeof e.toPromise},b=function(e){return y(e)?e.toPromise():Promise.resolve(e)},_=function(e){return e&&Promise.resolve(e)===e},w=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),S=function(t){return t instanceof Element||function(t){return"object"===e(t)&&t.jquery}(t)},C=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},E=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=C(["success","warning","info","question","error"]),F=function(){return document.body.querySelector(".".concat(E.container))},k=function(e){var t=F();return t?t.querySelector(e):null},A=function(e){return k(".".concat(e))},T=function(){return A(E.popup)},P=function(){var e=T();return p(e.querySelectorAll(".".concat(E.icon)))},R=function(){var e=P().filter(function(e){return de(e)});return e.length?e[0]:null},I=function(){return A(E.title)},O=function(){return A(E.content)},D=function(){return A(E.image)},N=function(){return A(E["progress-steps"])},M=function(){return A(E["validation-message"])},L=function(){return k(".".concat(E.actions," .").concat(E.confirm))},U=function(){return k(".".concat(E.actions," .").concat(E.deny))},j=function(){return k(".".concat(E.loader))},V=function(){return k(".".concat(E.actions," .").concat(E.cancel))},B=function(){return A(E.actions)},H=function(){return A(E.header)},q=function(){return A(E.footer)},z=function(){return A(E["timer-progress-bar"])},K=function(){return A(E.close)},$=function(){var e=p(T().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0}),t=p(T().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(e){return"-1"!==e.getAttribute("tabindex")});return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter(function(e){return de(e)})},W=function(){return!G()&&!document.body.classList.contains(E["no-backdrop"])},G=function(){return document.body.classList.contains(E["toast-shown"])},J=function(){return T().hasAttribute("data-loading")},Y={previousBodyPadding:null},Z=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");p(n.querySelector("head").childNodes).forEach(function(t){e.appendChild(t)}),p(n.querySelector("body").childNodes).forEach(function(t){e.appendChild(t)})}},Q=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},X=function(t,n,r){if(function(e,t){p(e.classList).forEach(function(n){-1===d(E).indexOf(n)&&-1===d(x).indexOf(n)&&-1===d(t.showClass).indexOf(n)&&e.classList.remove(n)})}(t,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return f("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(e(n.customClass[r]),'"'));ie(t,n.customClass[r])}};function ee(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return se(e,E[t]);case"checkbox":return e.querySelector(".".concat(E.checkbox," input"));case"radio":return e.querySelector(".".concat(E.radio," input:checked"))||e.querySelector(".".concat(E.radio," input:first-child"));case"range":return e.querySelector(".".concat(E.range," input"));default:return se(e,E.input)}}var te,ne=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},re=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(function(t){e.forEach?e.forEach(function(e){n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},ie=function(e,t){re(e,t,!0)},oe=function(e,t){re(e,t,!1)},se=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(Q(e.childNodes[n],t))return e.childNodes[n]},ae=function(e,t,n){n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.opacity="",e.style.display=t},ue=function(e){e.style.opacity="",e.style.display="none"},ce=function(e,t,n,r){var i=e.querySelector(t);i&&(i.style[n]=r)},he=function(e,t,n){t?le(e,n):ue(e)},de=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},pe=function(e){return!!(e.scrollHeight>e.clientHeight)},fe=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z();de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},me=function(){return"undefined"==typeof window||"undefined"==typeof document},ve='\n <div aria-labelledby="'.concat(E.title,'" aria-describedby="').concat(E.content,'" class="').concat(E.popup,'" tabindex="-1">\n   <div class="').concat(E.header,'">\n     <ul class="').concat(E["progress-steps"],'"></ul>\n     <div class="').concat(E.icon," ").concat(x.error,'"></div>\n     <div class="').concat(E.icon," ").concat(x.question,'"></div>\n     <div class="').concat(E.icon," ").concat(x.warning,'"></div>\n     <div class="').concat(E.icon," ").concat(x.info,'"></div>\n     <div class="').concat(E.icon," ").concat(x.success,'"></div>\n     <img class="').concat(E.image,'" />\n     <h2 class="').concat(E.title,'" id="').concat(E.title,'"></h2>\n     <button type="button" class="').concat(E.close,'"></button>\n   </div>\n   <div class="').concat(E.content,'">\n     <div id="').concat(E.content,'" class="').concat(E["html-container"],'"></div>\n     <input class="').concat(E.input,'" />\n     <input type="file" class="').concat(E.file,'" />\n     <div class="').concat(E.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(E.select,'"></select>\n     <div class="').concat(E.radio,'"></div>\n     <label for="').concat(E.checkbox,'" class="').concat(E.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(E.label,'"></span>\n     </label>\n     <textarea class="').concat(E.textarea,'"></textarea>\n     <div class="').concat(E["validation-message"],'" id="').concat(E["validation-message"],'"></div>\n   </div>\n   <div class="').concat(E.actions,'">\n     <div class="').concat(E.loader,'"></div>\n     <button type="button" class="').concat(E.confirm,'"></button>\n     <button type="button" class="').concat(E.deny,'"></button>\n     <button type="button" class="').concat(E.cancel,'"></button>\n   </div>\n   <div class="').concat(E.footer,'"></div>\n   <div class="').concat(E["timer-progress-bar-container"],'">\n     <div class="').concat(E["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ye=function(e){It.isVisible()&&te!==e.target.value&&It.resetValidationMessage(),te=e.target.value},be=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?_e(t,n):t&&Z(n,t)},_e=function(e,t){e.jquery?we(t,e):Z(t,e.toString())},we=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Se=function(){if(me())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function Ce(e,t,n){he(e,n["show".concat(h(t),"Button")],"inline-block"),Z(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=E[t],X(e,n,"".concat(t,"Button")),ie(e,n["".concat(t,"ButtonClass")])}var Ee={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},xe=["input","file","range","select","radio","checkbox","textarea"],Fe=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},ke=function(e){var t=E[e]?E[e]:E.input;return se(O(),t)},Ae={};Ae.text=Ae.email=Ae.password=Ae.number=Ae.tel=Ae.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:_(n.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),Fe(t,n),t.type=n.input,t},Ae.file=function(e,t){return Fe(e,t),e},Ae.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,e},Ae.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");Z(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},Ae.radio=function(e){return e.textContent="",e},Ae.checkbox=function(e,t){var n=ee(O(),"checkbox");n.value=1,n.id=E.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return Z(r,t.inputPlaceholder),e},Ae.textarea=function(e,t){if(e.value=t.inputValue,Fe(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(T()).width),r=parseInt(window.getComputedStyle(T()).paddingLeft)+parseInt(window.getComputedStyle(T()).paddingRight);new MutationObserver(function(){var t=e.offsetWidth+r;T().style.width=t>n?"".concat(t,"px"):null}).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var Te=function(e){return'<div class="'.concat(E["icon-content"],'">').concat(e,"</div>")},Pe=[],Re=function(){return F()&&F().getAttribute("data-queue-step")},Ie=function(e,t){!function(e,t){var n=T();ae(n,"width",t.width),ae(n,"padding",t.padding),t.background&&(n.style.background=t.background),function(e,t){e.className="".concat(E.popup," ").concat(de(e)?t.showClass.popup:""),t.toast?(ie([document.documentElement,document.body],E["toast-shown"]),ie(e,E.toast)):ie(e,E.modal),X(e,t,"popup"),"string"==typeof t.customClass&&ie(e,t.customClass),t.icon&&ie(e,E["icon-".concat(t.icon)])}(n,t)}(0,t),function(e,t){var n=F();if(n){!function(e,t){"string"==typeof t?e.style.background=t:t||ie([document.documentElement,document.body],E["no-backdrop"])}(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in E?ie(e,E[t]):(f('The "position" parameter is not valid, defaulting to "center"'),ie(e,E.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in E&&ie(e,E[n])}}(n,t.grow),X(n,t,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,t),function(e,t){var n=H();X(n,t,"header"),function(e,t){var n=N();if(!t.progressSteps||0===t.progressSteps.length)return ue(n);le(n),n.textContent="";var r=parseInt(void 0===t.currentProgressStep?Re():t.currentProgressStep);r>=t.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(function(e,i){var o=function(e){var t=document.createElement("li");return ie(t,E["progress-step"]),Z(t,e),t}(e);if(n.appendChild(o),i===r&&ie(o,E["active-progress-step"]),i!==t.progressSteps.length-1){var s=function(e){var t=document.createElement("li");return ie(t,E["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(t);n.appendChild(s)}})}(0,t),function(e,t){var n=Ee.innerParams.get(e);if(n&&t.icon===n.icon&&R())X(R(),t,"icon");else if(function(){for(var e=P(),t=0;t<e.length;t++)ue(e[t])}(),t.icon)if(-1!==Object.keys(x).indexOf(t.icon)){var r=k(".".concat(E.icon,".").concat(x[t.icon]));le(r),function(e,t){e.textContent="",Z(e,t.iconHtml?Te(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Te({question:"?",warning:"!",info:"i"}[t.icon]))}(r,t),function(e,t){if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)ce(e,r[n],"backgroundColor",t.iconColor);ce(e,".swal2-success-ring","borderColor",t.iconColor)}}(r,t),function(){for(var e=T(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t}(),X(r,t,"icon"),ie(r,t.showClass.icon)}else g('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"'))}(e,t),function(e,t){var n=D();if(!t.imageUrl)return ue(n);le(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ae(n,"width",t.imageWidth),ae(n,"height",t.imageHeight),n.className=E.image,X(n,t,"image")}(0,t),function(e,t){var n=I();he(n,t.title||t.titleText),t.title&&be(t.title,n),t.titleText&&(n.innerText=t.titleText),X(n,t,"title")}(0,t),function(e,t){var n=K();Z(n,t.closeButtonHtml),X(n,t,"closeButton"),he(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)}(e,t),function(e,t){var n=O().querySelector("#".concat(E.content));t.html?(be(t.html,n),le(n,"block")):t.text?(n.textContent=t.text,le(n,"block")):ue(n),function(e,t){var n=O(),r=Ee.innerParams.get(e),i=!r||t.input!==r.input;xe.forEach(function(e){var r=E[e],o=se(n,r);(function(e,t){var n=ee(O(),e);if(n)for(var r in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}}(n),t)"range"===e&&"placeholder"===r||n.setAttribute(r,t[r])})(e,t.inputAttributes),o.className=r,i&&ue(o)}),t.input&&(i&&function(e){if(!Ae[e.input])return g('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=ke(e.input),n=Ae[e.input](t,e);le(n),setTimeout(function(){ne(n)})}(t),function(e){var t=ke(e.input);e.customClass&&ie(t,e.customClass.input)}(t))}(e,t),X(O(),t,"content")}(e,t),function(e,t){var n=B(),r=j(),i=L(),o=U(),s=V();t.showConfirmButton||t.showDenyButton||t.showCancelButton||ue(n),X(n,t,"actions"),Ce(i,"confirm",t),Ce(o,"deny",t),Ce(s,"cancel",t),r.innerHTML=t.loaderHtml,t.buttonsStyling?function(e,t,n,r){if(ie([e,t,n],E.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor),!J()){var i=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=i,e.style.borderRightColor=i}}(i,o,s,t):oe([i,o,s],E.styled),t.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r))}(0,t),function(e,t){var n=q();he(n,t.footer),t.footer&&be(t.footer,n),X(n,t,"footer")}(0,t),"function"==typeof t.onRender&&t.onRender(T())},Oe=function(){return L()&&L().click()},De=function(){var e=T();e||It.fire(),e=T();var t=B(),n=L(),r=j();le(t),ue(n),ie([e,t],E.loading),le(r),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Ne={},Me=function(){return new Promise(function(e){var t=window.scrollX,n=window.scrollY;Ne.restoreFocusTimeout=setTimeout(function(){Ne.previousActiveElement&&Ne.previousActiveElement.focus?(Ne.previousActiveElement.focus(),Ne.previousActiveElement=null):document.body&&document.body.focus(),e()},100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)})},Le=function(){if(Ne.timeout)return function(){var e=z(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),r=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(r,"%")}(),Ne.timeout.stop()},Ue=function(){if(Ne.timeout){var e=Ne.timeout.start();return ge(e),e}},je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Ve=["allowEscapeKey","allowOutsideClick","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","footer","hideClass","html","icon","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText"],Be={animation:'showClass" and "hideClass'},He=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],qe=function(e){return Object.prototype.hasOwnProperty.call(je,e)},ze=function(e){return Be[e]},Ke=function(e){qe(e)||f('Unknown parameter "'.concat(e,'"'))},$e=function(e){-1!==He.indexOf(e)&&f('The parameter "'.concat(e,'" is incompatible with toasts'))},We=function(e){var t,n,r;ze(e)&&(t=e,n=ze(e),r='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===m.indexOf(r)&&(m.push(r),f(r)))},Ge=Object.freeze({isValidParameter:qe,isUpdatableParameter:function(e){return-1!==Ve.indexOf(e)},isDeprecatedParameter:ze,argsToParams:function(t){var n={};return"object"!==e(t[0])||S(t[0])?["title","html","icon"].forEach(function(r,i){var o=t[i];"string"==typeof o||S(o)?n[r]=o:void 0!==o&&g("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(e(o)))}):i(n,t[0]),n},isVisible:function(){return de(T())},clickConfirm:Oe,clickDeny:function(){return U()&&U().click()},clickCancel:function(){return V()&&V().click()},getContainer:F,getPopup:T,getTitle:I,getContent:O,getHtmlContainer:function(){return A(E["html-container"])},getImage:D,getIcon:R,getIcons:P,getCloseButton:K,getActions:B,getConfirmButton:L,getDenyButton:U,getCancelButton:V,getHeader:H,getFooter:q,getTimerProgressBar:z,getFocusableElements:$,getValidationMessage:M,isLoading:J,fire:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(this,t)},mixin:function(e){return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,n);var l,h,d=(l=p,h=a(),function(){var e,t=o(l);if(h){var n=o(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return u(this,e)});function p(){return t(this,p),d.apply(this,arguments)}return r(p,[{key:"_main",value:function(t){return c(o(p.prototype),"_main",this).call(this,i({},e,t))}}]),p}(this)},queue:function(e){var t=this;Pe=e;var n=function(e,t){Pe=[],e(t)},r=[];return new Promise(function(e){!function i(o,s){o<Pe.length?(document.body.setAttribute("data-swal2-queue-step",o),t.fire(Pe[o]).then(function(t){void 0!==t.value?(r.push(t.value),i(o+1,s)):n(e,{dismiss:t.dismiss})})):n(e,{value:r})}(0)})},getQueueStep:Re,insertQueueStep:function(e,t){return t&&t<Pe.length?Pe.splice(t,0,e):Pe.push(e)},deleteQueueStep:function(e){void 0!==Pe[e]&&Pe.splice(e,1)},showLoading:De,enableLoading:De,getTimerLeft:function(){return Ne.timeout&&Ne.timeout.getTimerLeft()},stopTimer:Le,resumeTimer:Ue,toggleTimer:function(){var e=Ne.timeout;return e&&(e.running?Le():Ue())},increaseTimer:function(e){if(Ne.timeout){var t=Ne.timeout.increase(e);return ge(t,!0),t}},isTimerRunning:function(){return Ne.timeout&&Ne.timeout.isRunning()}});function Je(){var e=Ee.innerParams.get(this);if(e){var t=Ee.domCache.get(this);ue(t.loader),e.showConfirmButton?le(t.confirmButton):e.showConfirmButton||e.showCancelButton||ue(t.actions),oe([t.popup,t.actions],E.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}}var Ye=function(){null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)},Ze=function(){if(Q(document.body,E.iosfix)){var e=parseInt(document.body.style.top,10);oe(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Qe=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Xe=function(){var e=F(),t=T();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},et=function(){"undefined"!=typeof window&&Qe()&&window.removeEventListener("resize",Xe)},tt=function(){p(document.body.children).forEach(function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},nt={swalPromiseResolve:new WeakMap};function rt(e,t,n,r){n?lt(e,r):(Me().then(function(){return lt(e,r)}),Ne.keydownTarget.removeEventListener("keydown",Ne.keydownHandler,{capture:Ne.keydownListenerCapture}),Ne.keydownHandlerAdded=!1),t.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&t.parentNode.removeChild(t),W()&&(Ye(),Ze(),et(),tt()),oe([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"],E["toast-column"]])}function it(e){var t=T();if(t){e=ot(e);var n=Ee.innerParams.get(this);if(n&&!Q(t,n.hideClass.popup)){var r=nt.swalPromiseResolve.get(this);oe(t,n.showClass.popup),ie(t,n.hideClass.popup);var i=F();oe(i,n.showClass.backdrop),ie(i,n.hideClass.backdrop),st(this,t,n),r(e)}}}var ot=function(e){return void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},e)},st=function(e,t,n){var r=F(),i=Se&&fe(t),o=n.onClose,s=n.onAfterClose;null!==o&&"function"==typeof o&&o(t),i?at(e,t,r,s):rt(e,r,G(),s)},at=function(e,t,n,r){Ne.swalCloseEventFinishedCallback=rt.bind(null,e,n,G(),r),t.addEventListener(Se,function(e){e.target===t&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback)})},lt=function(e,t){setTimeout(function(){"function"==typeof t&&t(),e._destroy()})};function ut(e,t,n){var r=Ee.domCache.get(e);t.forEach(function(e){r[e].disabled=n})}function ct(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}var ht=function(){function e(n,r){t(this,e),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),dt={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&\/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function pt(e){var t=T();if(e.target===t){var n=F();t.removeEventListener(Se,pt),n.style.overflowY="auto"}}var ft,gt=function(e,t,n){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,E.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),ie(document.body,E.iosfix),function(){var e,t=F();t.ontouchstart=function(t){e=function(e){var t=F();return e===t||!(pe(t)||"INPUT"===e.tagName||pe(O())&&O().contains(e))}(t.target)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||T().scrollHeight>window.innerHeight-44&&(F().style.paddingBottom="".concat(44,"px"))}}(),"undefined"!=typeof window&&Qe()&&(Xe(),window.addEventListener("resize",Xe)),t&&"hidden"!==n&&null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+function(){var e=document.createElement("div");e.className=E["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout(function(){e.scrollTop=0})},mt={select:function(e,t,n){var r=se(e,E.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,Z(i,t),n.inputValue.toString()===r.toString()&&(i.selected=!0),e.appendChild(i)};t.forEach(function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=t,o.disabled=!1,r.appendChild(o),n.forEach(function(e){return i(o,e[1],e[0])})}else i(r,n,t)}),r.focus()},radio:function(e,t,n){var r=se(e,E.radio);t.forEach(function(e){var t=e[0],i=e[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=E.radio,o.value=t,n.inputValue.toString()===t.toString()&&(o.checked=!0);var a=document.createElement("span");Z(a,i),a.className=E.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},vt=function(e,t){e.closePopup({isConfirmed:!0,value:t})},yt=function(e,t,n){t.showLoaderOnConfirm&&De(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then(function(){return b(t.preConfirm(n,t.validationMessage))}).then(function(t){de(M())||!1===t?e.hideLoading():vt(e,void 0===t?n:t)})):vt(e,n)},bt=function(e,t,n){for(var r=$(),i=0;i<r.length;i++)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();T().focus()},_t=["ArrowRight","ArrowDown","Right","Down"],wt=["ArrowLeft","ArrowUp","Left","Up"],St=["Escape","Esc"],Ct=!1,Et=function(t,n,r){return new Promise(function(i){var o=function(e){t.closePopup({isDismissed:!0,dismiss:e})};nt.swalPromiseResolve.set(t,i),n.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?function(e,t){var n=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then(function(){return b(t.inputValidator(n,t.validationMessage))}).then(function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):yt(e,t,n)})):e.getInput().checkValidity()?yt(e,t,n):(e.enableButtons(),e.showValidationMessage(t.validationMessage))}(e,t):yt(e,t,!0)}(t,r)},n.denyButton.onclick=function(){return function(e){e.disableButtons(),function(e){e.closePopup({isDenied:!0,value:!1})}(e)}(t)},n.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(w.cancel)}(t,o)},n.closeButton.onclick=function(){return o(w.close)},function(e,t,n){Ee.innerParams.get(e).toast?function(e,t,n){t.popup.onclick=function(){var t=Ee.innerParams.get(e);t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton||t.input||n(w.close)}}(e,t,n):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(Ct=!0)}}}(t),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(Ct=!0)}}}(t),function(e,t,n){t.container.onclick=function(r){var i=Ee.innerParams.get(e);Ct?Ct=!1:r.target===t.container&&v(i.allowOutsideClick)&&n(w.backdrop)}}(e,t,n))}(t,n,o),function(e,t,n,r){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return function(e,t,n){var r=Ee.innerParams.get(e);r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Oe(),t.preventDefault()}}(e,t,r):"Tab"===t.key?function(e,t){for(var n=e.target,r=$(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}bt(0,i,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(t):-1!==[].concat(_t,wt).indexOf(t.key)?function(e){if(-1!==[L(),U(),V()].indexOf(document.activeElement)){var t=-1!==_t.indexOf(e)?"nextElementSibling":"previousElementSibling",n=document.activeElement[t];n&&n.focus()}}(t.key):-1!==St.indexOf(t.key)&&function(e,t,n){v(t.allowEscapeKey)&&(e.preventDefault(),n(w.esc))}(t,r,n)}(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:T(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(t,Ne,r,o),r.toast&&(r.input||r.footer||r.showCloseButton)?ie(document.body,E["toast-column"]):oe(document.body,E["toast-column"]),function(t,n){"select"===n.input||"radio"===n.input?function(t,n){var r=O(),i=function(t){return mt[n.input](r,function t(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,i){var o=n;"object"===e(o)&&(o=t(o)),r.push([i,o])}):Object.keys(n).forEach(function(i){var o=n[i];"object"===e(o)&&(o=t(o)),r.push([i,o])}),r}(t),n)};y(n.inputOptions)||_(n.inputOptions)?(De(),b(n.inputOptions).then(function(e){t.hideLoading(),i(e)})):"object"===e(n.inputOptions)?i(n.inputOptions):g("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))}(t,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(y(n.inputValue)||_(n.inputValue))&&function(e,t){var n=e.getInput();ue(n),b(t.inputValue).then(function(r){n.value="number"===t.input?parseFloat(r)||0:"".concat(r),le(n),n.focus(),e.hideLoading()}).catch(function(t){g("Error in inputValue promise: ".concat(t)),n.value="",le(n),n.focus(),e.hideLoading()})}(t,n)}(t,r),function(e){var t=F(),n=T();"function"==typeof e.onBeforeOpen&&e.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;(function(e,t,n){ie(e,n.showClass.backdrop),le(t),ie(t,n.showClass.popup),ie([document.documentElement,document.body],E.shown),n.heightAuto&&n.backdrop&&!n.toast&&ie([document.documentElement,document.body],E["height-auto"])})(t,n,e),function(e,t){Se&&fe(t)?(e.style.overflowY="hidden",t.addEventListener(Se,pt)):e.style.overflowY="auto"}(t,n),W()&&(gt(t,e.scrollbarPadding,r),p(document.body.children).forEach(function(e){e===F()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,F())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),G()||Ne.previousActiveElement||(Ne.previousActiveElement=document.activeElement),"function"==typeof e.onOpen&&setTimeout(function(){return e.onOpen(n)}),oe(t,E["no-transition"])}(r),xt(Ne,r,o),Ft(n,r),setTimeout(function(){n.container.scrollTop=0})})},xt=function(e,t,n){var r=z();ue(r),t.timer&&(e.timeout=new ht(function(){n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(le(r),setTimeout(function(){e.timeout.running&&ge(t.timer)})))},Ft=function(e,t){if(!t.toast)return v(t.allowEnterKey)?void(kt(e,t)||bt(0,-1,1)):At()},kt=function(e,t){return t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton)||(e.confirmButton.focus(),0))},At=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Tt=function(e){for(var t in e)e[t]=new WeakMap},Pt=Object.freeze({hideLoading:Je,disableLoading:Je,getInput:function(e){var t=Ee.innerParams.get(e||this),n=Ee.domCache.get(e||this);return n?ee(n.content,t.input):null},close:it,closePopup:it,closeModal:it,closeToast:it,enableButtons:function(){ut(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ut(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ct(this.getInput(),!1)},disableInput:function(){return ct(this.getInput(),!0)},showValidationMessage:function(e){var t=Ee.domCache.get(this);Z(t.validationMessage,e);var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),le(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",E["validation-message"]),ne(r),ie(r,E.inputerror))},resetValidationMessage:function(){var e=Ee.domCache.get(this);e.validationMessage&&ue(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),oe(t,E.inputerror))},getProgressSteps:function(){return Ee.domCache.get(this).progressSteps},_main:function(e){(function(e){for(var t in e)Ke(t),e.toast&&$e(t),We(t)})(e),Ne.currentInstance&&Ne.currentInstance._destroy(),Ne.currentInstance=this;var t,n=function(e){var t=i({},je.showClass,e.showClass),n=i({},je.hideClass,e.hideClass),r=i({},je,e);return r.showClass=t,r.hideClass=n,!1===e.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r}(e);(function(e){e.inputValidator||Object.keys(dt).forEach(function(t){e.input===t&&(e.inputValidator=dt[t])})})(t=n),t.showLoaderOnConfirm&&!t.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=v(t.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),e.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(e){var t,n=!!(t=F())&&(t.parentNode.removeChild(t),oe([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0);if(me())g("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=E.container,n&&ie(r,E["no-transition"]),Z(r,ve);var i,o,s,a,l,u,c,h,d,p="string"==typeof(i=e.target)?document.querySelector(i):i;p.appendChild(r),function(e){var t=T();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&ie(F(),E.rtl)}(p),o=O(),s=se(o,E.input),a=se(o,E.file),l=o.querySelector(".".concat(E.range," input")),u=o.querySelector(".".concat(E.range," output")),c=se(o,E.select),h=o.querySelector(".".concat(E.checkbox," input")),d=se(o,E.textarea),s.oninput=ye,a.onchange=ye,c.onchange=ye,h.onchange=ye,d.oninput=ye,l.oninput=function(e){ye(e),u.value=l.value},l.onchange=function(e){ye(e),l.nextSibling.value=l.value}}}(t),Object.freeze(n),Ne.timeout&&(Ne.timeout.stop(),delete Ne.timeout),clearTimeout(Ne.restoreFocusTimeout);var r=function(e){var t={popup:T(),container:F(),content:O(),actions:B(),confirmButton:L(),denyButton:U(),cancelButton:V(),loader:j(),closeButton:K(),validationMessage:M(),progressSteps:N()};return Ee.domCache.set(e,t),t}(this);return Ie(this,n),Ee.innerParams.set(this,n),Et(this,r,n)},update:function(e){var t=T(),n=Ee.innerParams.get(this);if(!t||Q(t,n.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(e).forEach(function(t){It.isUpdatableParameter(t)?r[t]=e[t]:f('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var o=i({},n,r);Ie(this,o),Ee.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=Ee.domCache.get(this),t=Ee.innerParams.get(this);t&&(e.popup&&Ne.swalCloseEventFinishedCallback&&(Ne.swalCloseEventFinishedCallback(),delete Ne.swalCloseEventFinishedCallback),Ne.deferDisposalTimer&&(clearTimeout(Ne.deferDisposalTimer),delete Ne.deferDisposalTimer),"function"==typeof t.onDestroy&&t.onDestroy(),delete this.params,delete Ne.keydownHandler,delete Ne.keydownTarget,Tt(Ee),Tt(nt))}}),Rt=function(){function e(){if(t(this,e),"undefined"!=typeof window){"undefined"==typeof Promise&&g("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ft=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=this._main(this.params);Ee.promise.set(this,s)}}return r(e,[{key:"then",value:function(e){return Ee.promise.get(this).then(e)}},{key:"finally",value:function(e){return Ee.promise.get(this).finally(e)}}]),e}();i(Rt.prototype,Pt),i(Rt,Ge),Object.keys(Pt).forEach(function(e){Rt[e]=function(){var t;if(ft)return(t=ft)[e].apply(t,arguments)}}),Rt.DismissReason=w,Rt.version="10.1.0";var It=Rt;return It.default=It,It}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},l=Array.isArray||(e=>e&&"number"==typeof e.length);function u(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(r(i))try{i.call(this)}catch(s){t=s instanceof h?p(s.errors):[s]}if(l(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(u(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof h?t=t.concat(p(s.errors)):t.push(s)}}}if(t)throw new h(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;(n=new e)._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[f](){return this}static create(e,t,n){const r=new g(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends g{constructor(e,t,n,i){let o;super(),this._parentSubscriber=e;let s=this;r(t)?o=t:t&&(o=t.next,n=t.error,i=t.complete,t!==a&&(r((s=Object.create(t)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...e){return _(e)}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:y}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:r}=this,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[f])return e[f]()}return e||t||n?new g(e,t,n):new g(a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=S(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:_(e)(this)}toPromise(e){return new(e=S(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function S(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const E=C;class x extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class F extends g{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new F(this)}lift(e){const t=new A(this,this);return t.operator=e,t}next(e){if(this.closed)throw new E;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new E;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new E;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new E;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new A(e,t),e})();class A extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class P extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const R=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=I(),D=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const M=e=>{if(e&&"function"==typeof e[v])return(e=>t=>{const n=e[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(D(e))return R(e);if(N(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,s),t))(e);if(e&&"function"==typeof e[O])return(e=>t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const t=u(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function L(e,t,n,r,i=new P(e,n,r)){if(!i.closed)return t instanceof w?t.subscribe(i):M(t)(i)}class U extends g{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function j(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(e,t))}}class V{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}class B extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function H(e,t){return new w(n=>{const r=new d;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[v]}(e))return function(e,t){return new w(n=>{const r=new d;return r.add(t.schedule(()=>{const i=e[v]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(N(e))return function(e,t){return new w(n=>{const r=new d;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if(D(e))return H(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[O](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const o=i.next();e=o.value,t=o.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(M(e))}function z(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(z((n,r)=>q(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new K(e,n)))}class K{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new $(e,this.project,this.concurrent))}}class $ extends U{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const r=new P(this,void 0,void 0);this.destination.add(r),L(this,e,t,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(e){return e}function G(e=Number.POSITIVE_INFINITY){return z(W,e)}function J(e,t){return t?H(e,t):new w(R(e))}function Y(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new Q(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const X=class extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new te(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return Y()(this)}}.prototype,ee={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}};class te extends F{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ne(){return new k}const re="__annotations__",ie="__parameters__",oe="__prop__metadata__";function se(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(ie)?e[ie]:Object.defineProperty(e,ie,{value:[]})[ie];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const ae=se("Inject",e=>({token:e})),le=se("Optional"),ue=se("Self"),ce=se("SkipSelf");var he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function de(e){for(let t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function fe(e){const t=e[ge];return t&&t.token===e?t:null}const ge=de({ngInjectableDef:de});function me(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(me).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const ve=de({__forward_ref__:de});function ye(e){return e.__forward_ref__=ye,e.toString=function(){return me(this())},e}function be(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(ve)&&t.__forward_ref__===ye?t():e}const _e="undefined"!=typeof globalThis&&globalThis,we="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce="undefined"!=typeof global&&global,Ee=_e||Ce||we||Se;class xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fe=new xe("INJECTOR",-1),ke=new Object,Ae="ngTempTokenPath",Te="ngTokenPath",Pe=/\n/gm,Re="\u0275",Ie="__source",Oe=de({provide:String,useValue:de});let De,Ne=void 0;function Me(e){const t=Ne;return Ne=e,t}function Le(e,t=he.Default){return(De||function(e,t=he.Default){if(void 0===Ne)throw new Error("inject() must be called from an injection context");return null===Ne?function(e,t,n){const r=fe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;throw new Error(`Injector: NOT_FOUND [${me(e)}]`)}(e,0,t):Ne.get(e,t&he.Optional?null:void 0,t)})(e,t)}class Ue{get(e,t=ke){if(t===ke){const t=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw t.name="NullInjectorError",t}return t}}function je(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==Re?e.substr(2):e;let i=me(t);if(t instanceof Array)i=t.map(me).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):me(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Pe,"\n  ")}`}class Ve{}class Be{}function He(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function qe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ze=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ke=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ee))(),$e="ngDebugContext",We="ngOriginalError",Ge="ngErrorLogger";function Je(e){return e[$e]}function Ye(e){return e[We]}function Ze(e,...t){e.error(...t)}class Qe{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Ge]||Ze}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Je(e)?Je(e):this._findContext(Ye(e)):null}_findOriginalError(e){let t=Ye(e);for(;t&&Ye(t);)t=Ye(t);return t}}let Xe=!0,et=!1;function tt(){return et=!0,Xe}class nt{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const rt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,it=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ot(e){return(e=String(e)).match(rt)||e.match(it)?e:(tt()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function st(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function at(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const lt=st("area,br,col,hr,img,wbr"),ut=st("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ct=st("rp,rt"),ht=at(ct,ut),dt=at(lt,at(ut,st("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),at(ct,st("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ht),pt=st("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ft=st("srcset"),gt=at(pt,ft,st("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),st("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mt=st("script,style,template");class vt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!dt.hasOwnProperty(t))return this.sanitizedSomething=!0,!mt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!gt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;pt[o]&&(s=ot(s)),ft[o]&&(r=s,s=(r=String(r)).split(",").map(e=>ot(e.trim())).join(", ")),this.buf.push(" ",t,'="',_t(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();dt.hasOwnProperty(t)&&!lt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(_t(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bt=/([^\#-~ |!])/g;function _t(e){return e.replace(/&/g,"&amp;").replace(yt,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(bt,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wt;function St(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Ct=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class Et{}const xt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ft=/^url\(([^)]+)\)$/,kt=/([A-Z])/g;function At(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Tt=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Pt(),e})();const Pt=(...e)=>{},Rt=Function;function It(e){return"function"==typeof e}const Ot=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Dt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Nt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Mt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Lt{constructor(e){this._reflect=e||Ee.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(function(e){return Ot.test(e)||Mt.test(e)||Dt.test(e)&&!Nt.test(e)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const n=e.ctorParameters;if(n&&n!==t.ctorParameters){const e="function"==typeof n?n():n,t=e.map(e=>e&&e.type),r=e.map(e=>e&&Ut(e.decorators));return this._zipTypesAndAnnotations(t,r)}const r=e.hasOwnProperty(ie)&&e[ie],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!It(e))return[];const t=jt(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Ut(e.decorators):e.hasOwnProperty(re)?e[re]:null}annotations(e){if(!It(e))return[];const t=jt(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Ut(t[e])}),n}return e.hasOwnProperty(oe)?e[oe]:null}propMetadata(e){if(!It(e))return{};const t=jt(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return It(e)&&this._ownPropMetadata(e,jt(e))||{}}hasLifecycleHook(e,t){return e instanceof Rt&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${me(e)}`}resourceUri(e){return`./${me(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function Ut(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function jt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Vt=new xe("The presence of this token marks an injector as being the root injector."),Bt=function(e,t,n){return new Gt(e,t,n)};let Ht=(()=>{class e{static create(e,t){return Array.isArray(e)?Bt(e,t,""):Bt(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=ke,e.NULL=new Ue,e.ngInjectableDef=pe({token:e,providedIn:"any",factory:()=>Le(Fe)}),e.__NG_ELEMENT_ID__=-1,e})();const qt=function(e){return e},zt=[],Kt=qt,$t=function(){return Array.prototype.slice.call(arguments)},Wt="\u0275";class Gt{constructor(e,t=Ht.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(Ht,{token:Ht,fn:qt,deps:zt,value:this,useNew:!1}),r.set(Fe,{token:Fe,fn:qt,deps:zt,value:this,useNew:!1}),function e(t,n){if(n)if((n=be(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Yt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Yt("Unexpected provider",n);{let e=be(n.provide);const r=function(e){const t=function(e){let t=zt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=be(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof le||n==le?r|=1:n instanceof ce||n==ce?r&=-3:n instanceof ue||n==ue?r&=-5:i=n instanceof ae?n.token:be(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:be(e.useExisting),options:6}];else if(!(n||Oe in e))throw Yt("'deps' required",e);return t}(e);let n=qt,r=zt,i=!1,o=be(e.provide);if(Oe in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=be(e.useClass);else{if("function"!=typeof o)throw Yt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==$t)throw Jt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:$t,value:zt});r.deps.push({token:e=n,options:6})}const i=t.get(e);if(i&&i.fn==$t)throw Jt(e);t.set(e,r)}}}(r,e)}get(e,t,n=he.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){let a;if(!n||s&he.SkipSelf)s&he.Self||(a=i.get(t,o,he.Default));else{if((a=n.value)==Kt)throw Error(Wt+"Circular dependency");if(a===zt){n.value=Kt;let t=void 0,o=n.useNew,s=n.fn,l=n.deps,u=zt;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],o=n.options,s=2&o?r.get(n.token):void 0;u.push(e(n.token,s,r,s||4&o?i:Ht.NULL,1&o?null:Ht.THROW_IF_NOT_FOUND,he.Default))}}n.value=a=o?new s(...u):s.apply(t,u)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Ae]=a[Ae]||[]).unshift(t),n&&n.value==Kt&&(n.value=zt),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e[Ae];throw t[Ie]&&i.unshift(t[Ie]),e.message=je("\n"+e.message,i,"StaticInjectorError",r),e[Te]=i,e[Ae]=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(me(n))),`StaticInjector[${e.join(", ")}]`}}function Jt(e){return Yt("Cannot mix multi providers and regular providers",e)}function Yt(e,t){return new Error(je(e,t,"StaticInjectorError"))}function Zt(e){return e.length>1?" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>me(e.token)).join(" -> ")+")":""}function Qt(e,t,n,r){const i=[t],o=n(i),s=r?function(e,t){const n=`${o} caused by: ${t instanceof Error?t.message:t}`,r=Error(n);return r[We]=t,r}(0,r):Error(o);return s.addKey=Xt,s.keys=i,s.injectors=[e],s.constructResolvingMessage=n,s[We]=r,s}function Xt(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function en(e,t){const n=[];for(let r=0,i=t.length;r<i;r++){const e=t[r];n.push(e&&0!=e.length?e.map(me).join(" "):"?")}return Error("Cannot resolve all parameters for '"+me(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+me(e)+"' is decorated with Injectable.")}class tn{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=me(this.token)}static get(e){return rn.get(be(e))}static get numberOfKeys(){return rn.numberOfKeys}}class nn{constructor(){this._allKeys=new Map}get(e){if(e instanceof tn)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new tn(e,tn.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}}const rn=new nn;class on{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,r){return this.reflectionCapabilities.resolveIdentifier(e,t,n,r)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}const sn=new on(new Lt);class an{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new an(e,!1,null)}}const ln=[];class un{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class cn{constructor(e,t){this.factory=e,this.dependencies=t}}function hn(e){let t,n;if(e.useClass){const r=be(e.useClass);t=sn.factory(r),n=pn(r)}else e.useExisting?(t=e=>e,n=[an.fromKey(tn.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>fn(e,t,n))}return pn(e)}(e.useFactory,e.deps)):(t=()=>e.useValue,n=ln);return new cn(t,n)}function dn(e){return new un(tn.get(e.provide),[hn(e)],e.multi||!1)}function pn(e){const t=sn.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw en(e,t);return t.map(n=>fn(e,n,t))}function fn(e,t,n){let r=null,i=!1;if(!Array.isArray(t))return gn(t instanceof ae?t.token:t,i,null);let o=null;for(let s=0;s<t.length;++s){const e=t[s];e instanceof Rt?r=e:e instanceof ae?r=e.token:e instanceof le?i=!0:e instanceof ue||e instanceof ce?o=e:e instanceof xe&&(r=e)}if(null!=(r=be(r)))return gn(r,i,o);throw en(e,n)}function gn(e,t,n){return new an(tn.get(e),t,n)}const mn=new Object;class vn{static resolve(e){return function(e){const t=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],i=t.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let e=0;e<r.resolvedFactories.length;e++)i.resolvedFactories.push(r.resolvedFactories[e]);else t.set(r.key.id,r)}else{let e;e=r.multiProvider?new un(r.key,r.resolvedFactories.slice(),r.multiProvider):r,t.set(r.key.id,e)}}return t}(function e(t,n){return t.forEach(t=>{if(t instanceof Rt)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${t}`)}();e(t,n)}}),n}(e,[]).map(dn),new Map);return Array.from(t.values())}(e)}static resolveAndCreate(e,t){const n=vn.resolve(e);return vn.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new yn(e,t)}}let yn=(()=>{class e{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=e[r].key.id,this.objs[r]=mn}get(e,t=ke){return this._getByKey(tn.get(e),null,t)}resolveAndCreateChild(e){const t=vn.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(t){const n=new e(t);return n.parent=this,n}resolveAndInstantiate(e){return this.instantiateResolved(vn.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Qt(this,e.key,function(e){return`Cannot instantiate cyclic dependency!${Zt(e)}`});return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let r,i;try{r=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(s){throw s.addKey&&s.addKey(this,e.key),s}try{i=n(...r)}catch(s){throw Qt(this,e.key,function(e){const t=me(e[0].token);return`${o.message}: Error during instantiation of ${t}!${Zt(e)}.`},o=s)}var o;return i}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:ke)}_getByKey(t,n,r){return t===e.INJECTOR_KEY?this:n instanceof ue?this._getByKeySelf(t,r):this._getByKeyDefault(t,r,n)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===mn&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return mn}_throwOrNull(e,t){if(t!==ke)return t;throw function(e,t){return Qt(e,t,function(e){return`No provider for ${me(e[0].token)}!${Zt(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==mn?n:this._throwOrNull(e,t)}_getByKeyDefault(t,n,r){let i;for(i=r instanceof ce?this.parent:this;i instanceof e;){const e=i,n=e._getObjByKeyId(t.id);if(n!==mn)return n;i=e.parent}return null!==i?i.get(t.token,n):this._throwOrNull(t,n)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let r=0;r<e._providers.length;++r)n[r]=t(e.getProviderAtIndex(r));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return e.INJECTOR_KEY=tn.get(Ht),e})();const bn=new xe("AnalyzeForEntryComponents");let _n=null;function wn(){if(!_n){const e=Ee.Symbol;if(e&&e.iterator)_n=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_n=n)}}}return _n}function Sn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Cn(e,t){const n=xn(e),r=xn(t);if(n&&r)return function(e,t,n){const r=e[wn()](),i=t[wn()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,Cn);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||Sn(e,t)}}class En{constructor(e){this.wrapped=e}static wrap(e){return new En(e)}static unwrap(e){return En.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof En}}function xn(e){return!!Fn(e)&&(Array.isArray(e)||!(e instanceof Map)&&wn()in e)}function Fn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function kn(e){return!!e&&"function"==typeof e.then}function An(e){return!!e&&"function"==typeof e.subscribe}class Tn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class Pn{}class Rn{}function In(e){const t=Error(`No component factory found for ${me(e)}. Did you add it to @NgModule.entryComponents?`);return t[On]=e,t}const On="ngComponent";class Dn{resolveComponentFactory(e){throw In(e)}}let Nn=(()=>{class e{}return e.NULL=new Dn,e})();class Mn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw In(e);return new Ln(t,this._ngModule)}}class Ln extends Rn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function Un(...e){}let jn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Vn(e),e})();const Vn=Un;class Bn{}class Hn{}const qn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Kn(),e})();const Kn=Un;class $n{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Wn=new $n("8.2.2");class Gn{constructor(){}supports(e){return xn(e)}create(e){return new Yn(e)}}const Jn=(e,t)=>t;class Yn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Jn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<er(n,r,i)?t:n,s=er(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xn(e))throw new Error(`Error trying to diff '${me(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)r=this._trackByFn(t,n=e[t]),null!==i&&Sn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Sn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[wn()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Sn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Sn(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Sn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Sn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Zn(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Xn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Zn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qn{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Sn(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Xn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Qn,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function er(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class tr{constructor(){}supports(e){return e instanceof Map||Fn(e)}create(){return new nr}}class nr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Fn(e)))throw new Error(`Error trying to diff '${me(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rr(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Sn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class rr{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ir=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new le]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new Gn])}),e})(),or=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new le]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new e([new tr])}),e})();const sr=[new tr],ar=new ir([new Gn]),lr=new or(sr);let ur=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>cr(e,jn),e})();const cr=Un;let hr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>dr(e,jn),e})();const dr=Un;function pr(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return fr(n,t),n}(i,e)}function fr(e,t){e[$e]=t,e[Ge]=t.logError.bind(t)}function gr(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}function mr(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function vr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function yr(e,t){return e.nodes[t]}function br(e,t){return e.nodes[t]}function _r(e,t){return e.nodes[t]}function wr(e,t){return e.nodes[t]}function Sr(e,t){return e.nodes[t]}const Cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Er=()=>{},xr=new Map;function Fr(e){let t=xr.get(e);return t||(t=me(e)+"_"+xr.size,xr.set(e,t)),t}function kr(e,t,n,r){if(En.isWrapped(r)){r=En.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=En.unwrap(e.oldValues[i]);e.oldValues[i]=new En(o)}return r}const Ar="$$undefined",Tr="$$empty";function Pr(e){return{id:Ar,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Rr=0;function Ir(e,t,n,r){return!(!(2&e.state)&&Sn(e.oldValues[t.bindingIndex+n],r))}function Or(e,t,n,r){return!!Ir(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Dr(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Cn(i,r)){const o=t.bindings[n].name;throw pr(Cr.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function Nr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Mr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Lr(e,t,n,r){try{return Nr(33554432&e.def.nodes[t].flags?br(e,t).componentView:e),Cr.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Ur(e){return e.parent?br(e.parent,e.parentNodeDef.nodeIndex):null}function jr(e){return e.parent?e.parentNodeDef.parent:null}function Vr(e,t){switch(201347067&t.flags){case 1:return br(e,t.nodeIndex).renderElement;case 2:return yr(e,t.nodeIndex).renderText}}function Br(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Hr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function qr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=function(e){return 1<<e%32}(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function zr(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,Ie,{value:t,configurable:!0}),{flags:r,token:n,tokenKey:Fr(n)}})}function Kr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===ze.Native?br(e,n.renderParent.nodeIndex).renderElement:void 0:t}const $r=new WeakMap;function Wr(e){let t=$r.get(e);return t||((t=e(()=>Er)).factory=e,$r.set(e,t)),t}function Gr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Vr(e,e.def.lastRenderRootNode))),Jr(e,t,0,e.def.nodes.length-1,n,r,i)}function Jr(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&Zr(e,n,t,i,o,s),a+=n.childCount}}function Yr(e,t,n,r,i,o){let s=e;for(;s&&!Br(s);)s=s.parent;const a=s.parent,l=jr(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&Zr(a,e,n,r,i,o),c+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Qr(e,s[t],n,r,i,o)}}function Zr(e,t,n,r,i,o){if(8&t.flags)Yr(e,t.ngContent.index,n,r,i,o);else{const s=Vr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Qr(e,s,n,r,i,o),32&t.bindingFlags&&Qr(br(e,t.nodeIndex).componentView,s,n,r,i,o)):Qr(e,s,n,r,i,o),16777216&t.flags){const s=br(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Gr(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&Jr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Qr(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Xr=/^:([^:]+):(.+)$/;function ei(e){if(":"===e[0]){const t=e.match(Xr);return[t[1],t[2]]}return["",e]}function ti(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}const ni=new Object,ri=Fr(Ht),ii=Fr(Fe),oi=Fr(Ve);function si(e,t,n,r){return n=be(n),{index:-1,deps:zr(r,me(t)),flags:e,token:t,value:n}}function ai(e,t,n=Ht.THROW_IF_NOT_FOUND){const r=Me(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case ri:case ii:case oi:return e}const a=e._def.providersByKey[s];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=li(e,a)),t===ni?void 0:t}if((l=fe(t.token))&&(i=e,null!=(o=l).providedIn&&(function(e,t){return e._def.modules.indexOf(o.providedIn)>-1}(i)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=ni,e._providers[n]=li(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Me(r)}var i,o}function li(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(ai(e,n[0]));case 2:return new t(ai(e,n[0]),ai(e,n[1]));case 3:return new t(ai(e,n[0]),ai(e,n[1]),ai(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=ai(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(ai(e,n[0]));case 2:return t(ai(e,n[0]),ai(e,n[1]));case 3:return t(ai(e,n[0]),ai(e,n[1]),ai(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=ai(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=ai(e,t.deps[0]);break;case 256:n=t.value}return n===ni||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?ni:n}function ui(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,qe(n,t),Cr.dirtyParentQueries(r),hi(r),r}function ci(e,t,n){const r=t?Vr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Gr(n,2,i,o,void 0)}function hi(e){Gr(e,3,null,null,void 0)}const di=new Object;function pi(e,t,n,r,i,o){return new fi(e,t,n,r,i,o)}class fi extends Rn{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Wr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Cr.createRootView(e,t||[],n,i,r,di),a=_r(s,o).instance;return n&&s.renderer.setAttribute(br(s,0).renderElement,"ng-version",Wn.full),new gi(s,new bi(s),a)}}class gi extends Pn{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new jn(br(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ci(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function mi(e,t,n){return new vi(e,t,n)}class vi{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new jn(this._data.renderElement)}get injector(){return new Ci(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=jr(e),e=e.parent;return e?new Ci(e,t):new Ci(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ui(this._data,e);Cr.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new bi(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof Ln||(i=o.get(Ve));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,He(i,n,r),function(e,t){const n=Ur(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(4&n.flags)return;t.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,t.parentNodeDef)}(t,r),Cr.dirtyParentQueries(r),ci(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,r){const i=e.viewContainer._embeddedViews,o=i[n];qe(i,n),null==r&&(r=i.length),He(i,r,o),Cr.dirtyParentQueries(o),hi(o),ci(e,r>0?i[r-1]:null,o)}(this._data,0,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ui(this._data,e);t&&Cr.destroyView(t)}detach(e){const t=ui(this._data,e);return t?new bi(t):null}}function yi(e){return new bi(e)}class bi{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Gr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Nr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Cr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Cr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Cr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,hi(this._view),Cr.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function _i(e,t){return new wi(e,t)}class wi extends ur{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new bi(Cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new jn(br(this._parentView,this._def.nodeIndex).renderElement)}}function Si(e,t){return new Ci(e,t)}class Ci{constructor(e,t){this.view=e,this.elDef=t}get(e,t=Ht.THROW_IF_NOT_FOUND){return Cr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Fr(e)},t)}}function Ei(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=br(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return yr(e,n.nodeIndex).renderText;if(20240&n.flags)return _r(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function xi(e){return new Fi(e.renderer)}class Fi{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=ei(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=ei(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ki(e,t,n,r){return new Ai(e,t,n,r)}class Ai{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=li(e,i))}}(this)}get(e,t=Ht.THROW_IF_NOT_FOUND,n=he.Default){let r=0;return n&he.SkipSelf?r|=1:n&he.Self&&(r|=4),ai(this,{token:e,tokenKey:Fr(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Nn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${me(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==ni){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Ti=Fr(Bn),Pi=Fr(zn),Ri=Fr(jn),Ii=Fr(hr),Oi=Fr(ur),Di=Fr(Tt),Ni=Fr(Ht),Mi=Fr(Fe);function Li(e,t,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[e,t]=s[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Vi(e,t|=16384,n,r,i,i,o,l,u)}function Ui(e,t,n){return Vi(-1,e|=16,null,0,t,t,n)}function ji(e,t,n,r,i){return Vi(-1,e,t,0,n,r,i)}function Vi(e,t,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=qr(n);l||(l=[]),a||(a=[]),o=be(o);const d=zr(s,me(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:ti(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Bi(e,t){return Ki(e,t)}function Hi(e,t){let n=e;for(;n.parent&&!Br(n);)n=n.parent;return $i(n.parent,jr(n),!0,t.provider.value,t.provider.deps)}function qi(e,t){const n=$i(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!An(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(zi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function zi(e,t,n){return r=>Lr(e,t,n,r)}function Ki(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return $i(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Gi(e,t,n,i[0]));case 2:return r(Gi(e,t,n,i[0]),Gi(e,t,n,i[1]));case 3:return r(Gi(e,t,n,i[0]),Gi(e,t,n,i[1]),Gi(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Gi(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return Gi(e,t.parent,n,r.deps[0]);case 256:return r.value}}function $i(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Gi(e,t,n,i[0]));case 2:return new r(Gi(e,t,n,i[0]),Gi(e,t,n,i[1]));case 3:return new r(Gi(e,t,n,i[0]),Gi(e,t,n,i[1]),Gi(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Gi(e,t,n,i[r]);return new r(...s)}}const Wi={};function Gi(e,t,n,r,i=Ht.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===Di&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case Ti:return xi(Ji(a,t,n));case Pi:return Ji(a,t,n).renderer;case Ri:return new jn(br(a,t.nodeIndex).renderElement);case Ii:return br(a,t.nodeIndex).viewContainer;case Oi:if(t.element.template)return br(a,t.nodeIndex).template;break;case Di:return yi(Ji(a,t,n));case Ni:case Mi:return Si(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=_r(a,e.nodeIndex);return t||(t={instance:Ki(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Br(a),t=jr(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,Wi);return l!==Wi||i===Wi?l:o.root.ngModule.injector.get(r.token,i)}function Ji(e,t,n){let r;if(n)r=br(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Br(r);)r=r.parent;return r}function Yi(e,t,n,r,i,o){if(32768&n.flags){const t=br(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=En.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Tn(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Zi(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&Xi(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Qi(e,s,t,r)),s=s.parent}}function Qi(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Xi(e,i,t.flags&n,r++),i+=t.childCount}return r}function Xi(e,t,n,r){const i=_r(e,t);if(!i)return;const o=i.instance;o&&(Cr.setCurrentNode(e,t),1048576&n&&vr(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&vr(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const eo=new xe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ke}),to={},no=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),ro=void 0;var io=["en",[["a","p"],["AM","PM"],ro],[["AM","PM"],ro,ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ro,"{1} 'at' {0}",ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function oo(e){const t=e.toLowerCase().replace(/_/g,"-");let n=to[t];if(n)return n;const r=t.split("-")[0];if(n=to[r])return n;if("en"===r)return io;throw new Error(`Missing locale data for the locale "${e}".`)}const so="en-US";let ao=so;function lo(e){var t;t="Expected localeId to be defined",null==e&&function(e){throw new Error(`ASSERTION ERROR: ${e}`)}(t),"string"==typeof e&&(ao=e.toLowerCase().replace(/_/g,"-"))}class uo extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,i=e=>null,o=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(i=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return e instanceof d&&e.add(s),s}}function co(){return this._results[wn()]()}class ho{constructor(){this.dirty=!0,this._results=[],this.changes=new uo,this.length=0;const e=wn(),t=ho.prototype;t[e]||(t[e]=co)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const po=new xe("Application Initializer");class fo{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();kn(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const go=new xe("AppId");function mo(){return`${vo()}${vo()}${vo()}`}function vo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yo=new xe("Platform Initializer"),bo=new xe("Platform ID"),_o=new xe("appBootstrapListener");class wo{log(e){console.log(e)}warn(e){console.warn(e)}}const So=new xe("LocaleId"),Co=!1;function Eo(){throw new Error("Runtime compiler is not loaded")}const xo=Eo,Fo=Eo,ko=Eo,Ao=Eo;class To{constructor(){this.compileModuleSync=xo,this.compileModuleAsync=Fo,this.compileModuleAndAllComponentsSync=ko,this.compileModuleAndAllComponentsAsync=Ao}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class Po{}let Ro,Io;function Oo(){const e=Ee.wtf;return!(!e||!(Ro=e.trace)||(Io=Ro.events,0))}const Do=Oo(),No=Do?function(e,t=null){return Io.createScope(e,t)}:(e,t)=>(function(e,t){return null}),Mo=Do?function(e,t){return Ro.leaveScope(e,t),t}:(e,t)=>t,Lo=(()=>Promise.resolve(0))();function Uo(e){"undefined"==typeof Zone?Lo.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jo{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo(!1),this.onMicrotaskEmpty=new uo(!1),this.onStable=new uo(!1),this.onError=new uo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return qo(t),e.invokeTask(r,i,o,s)}finally{zo(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return qo(t),e.invoke(r,i,o,s,a)}finally{zo(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Ho(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Bo,Vo,Vo);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function Vo(){}const Bo={};function Ho(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zo(e){e._nesting--,Ho(e)}class Ko{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uo,this.onMicrotaskEmpty=new uo,this.onStable=new uo,this.onError=new uo}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class $o{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jo.assertNotInAngularZone(),Uo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uo(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}let Wo=(()=>{class e{constructor(){this._applications=new Map,Yo.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Yo.findTestabilityInTree(this,e,t)}}return e.ctorParameters=()=>[],e})();class Go{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Jo,Yo=new Go,Zo=function(e,t,n){return e.get(Po).createCompiler([t]).compileModuleAsync(n)},Qo=function(e){return e instanceof Ln};const Xo=new xe("AllowMultipleToken");class es{constructor(e,t){this.name=e,this.token=t}}function ts(e,t,n=[]){const r=`Platform: ${t}`,i=new xe(r);return(t=[])=>{let o=ns();if(!o||o.injector.get(Xo,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Jo&&!Jo.destroyed&&!Jo.injector.get(Xo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jo=e.get(rs);const t=e.get(yo,null);t&&t.forEach(e=>e())}(Ht.create({providers:e,name:r}))}return function(e){const t=ns();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ns(){return Jo&&!Jo.destroyed?Jo:null}class rs{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n="noop"===(i=t?t.ngZone:void 0)?new Ko:("zone.js"===i?void 0:i)||new jo({enableLongStackTrace:tt()}),r=[{provide:jo,useValue:n}];var i;return n.run(()=>{const t=Ht.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Qe,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Co&&lo(i.injector.get(So,so)||so),i.onDestroy(()=>ss(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const i=n();return kn(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(fo);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=is({},t);return Zo(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(os);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${me(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function is(e,t){return Array.isArray(t)?t.reduce(is,e):Object.assign({},e,t)}let os=(()=>{class e{constructor(e,t,n,r,i,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=tt(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{jo.assertNotInAngularZone(),Uo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return T(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:G(t)(J(e,n))}(s,a.pipe(e=>Y()(function(e,t){return function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,ee);return r.source=t,r.subjectFactory=n,r}}(ne)(e))))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Rn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=Qo(n)?null:this._injector.get(Ve),i=n.create(Ht.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get($o,null);return o&&i.injector.get(Wo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),tt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Mo(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;ss(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(_o,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),ss(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=No("ApplicationRef#tick()"),e})();function ss(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class as{}const ls="#",us="NgFactory";class cs{}const hs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class ds{constructor(e,t){this._compiler=e,this._config=t||hs}load(e){return!Co&&this._compiler instanceof To?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split(ls);return void 0===r&&(r="default"),n("crnd")(t).then(e=>e[r]).then(e=>ps(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split(ls),i=us;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>ps(e,t,r))}}function ps(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class fs{constructor(e,t){this.name=e,this.callback=t}}class gs{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof ms&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ms extends gs{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof ms&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof ms&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof ms&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof ms)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const vs=new Map,ys=function(e){return vs.get(e)||null};function bs(e){vs.set(e.nativeNode,e)}const _s=ts(null,"core",[{provide:bo,useValue:"unknown"},{provide:rs,deps:[Ht]},{provide:Wo,deps:[]},{provide:wo,deps:[]}]);function ws(){return ar}function Ss(){return lr}function Cs(e){return e?(Co&&lo(e),e):so}function Es(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class xs{constructor(e){}}function Fs(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=qr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Wr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Er},provider:null,text:null,query:null,ngContent:null}}function ks(e,t,n,r,i,o,s=[],a,l,u,c,h){u||(u=Er);const{matchedQueries:d,references:p,matchedQueryIds:f}=qr(n);let g=null,m=null;o&&([g,m]=ei(o)),a=a||[];const v=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t,n]=a[_],[r,i]=ei(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let _=0;_<l.length;_++){const[e,t]=l[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=ei(e);return[n,r,t]});return h=function(e){if(e&&e.id===Ar){const t=null!=e.encapsulation&&e.encapsulation!==ze.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Rr++}`:Tr}return e&&e.id===Tr&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:ti(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Er},provider:null,text:null,query:null,ngContent:null}}function As(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Kr(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===ze.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function Ts(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=Ps(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=e;"component"===a.target&&(u=null,c=t);const h=c.renderer.listen(u||r,a.eventName,l);e.disposables[n.outputIndex+s]=h}var i,o}function Ps(e,t,n){return r=>Lr(e,t,n,r)}function Rs(e,t,n,r){if(!Or(e,t,n,r))return!1;const i=t.bindings[n],o=br(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=e.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(Ct.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function Is(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Hr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&Sr(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&Sr(e,n).setDirty(),n+=t.childCount}}function Os(e,t){const n=Sr(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=Ds(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=_r(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Ds(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function Ds(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(Ns(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=br(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(Ds(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=Ur(o);s&&s===n&&Ds(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];Ds(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function Ns(e,t,n){if(null!=n)switch(n){case 1:return br(e,t.nodeIndex).renderElement;case 0:return new jn(br(e,t.nodeIndex).renderElement);case 2:return br(e,t.nodeIndex).template;case 3:return br(e,t.nodeIndex).viewContainer;case 4:return _r(e,t.nodeIndex).instance}}function Ms(e,t,n){const r=Kr(e,t,n);r&&Yr(e,n.ngContent.index,1,r,null,void 0)}function Ls(e,t){return Vs(128,e,new Array(t+1))}function Us(e,t){return Vs(32,e,new Array(t))}function js(e,t){const n=Object.keys(t),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const e=n[o];i[t[e]]=e}return Vs(64,e,i)}function Vs(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ti(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Bs(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Hs(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=Kr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function qs(e,t){return(null!=e?e.toString():"")+t.suffix}function zs(e,t,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<t.length;f++){const e=t[f];if(e.nodeIndex=f,e.parent=u,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,s|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if($s(u,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[Fr(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Fr(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,Ks(e)||(c=e);else for(;u&&f===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),c=(u=e)&&Ks(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||Er,updateRenderer:r||Er,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Ks(e){return 0!=(1&e.flags)&&null===e.element.name}function $s(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Ws(e,t,n,r){const i=Ys(e.root,e.renderer,e,t,n);return Zs(i,e.component,r),Qs(i),i}function Gs(e,t,n){const r=Ys(e,e.renderer,null,null,t);return Zs(r,n,n),Qs(r),r}function Js(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Ys(e.root,o,e,t.element.componentProvider,n)}function Ys(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Zs(e,t,n){e.component=t,e.context=n}function Qs(e){let t;Br(e)&&(t=br(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Cr.setCurrentNode(e,i),201347067&o.flags){case 1:const n=As(e,t,o);let a=void 0;if(33554432&o.flags){const t=Wr(o.element.componentView);a=Cr.createComponentView(e,o,t,n)}Ts(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?_i(e,o):void 0},16777216&o.flags&&(s.viewContainer=mi(e,o,s));break;case 2:s=Hs(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Bi(e,o)});break;case 16:s={instance:Hi(e,o)};break;case 16384:(s=r[i])||(s={instance:qi(e,o)}),32768&o.flags&&Zs(br(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new ho;break;case 8:Ms(e,t,o),s=void 0}r[i]=s}aa(e,sa.CreateViewNodes),ha(e,201326592,268435456,0)}function Xs(e){na(e),Cr.updateDirectives(e,1),la(e,sa.CheckNoChanges),Cr.updateRenderer(e,1),aa(e,sa.CheckNoChanges),e.state&=-97}function ea(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,mr(e,0,256),na(e),Cr.updateDirectives(e,0),la(e,sa.CheckAndUpdate),ha(e,67108864,536870912,0);let t=mr(e,256,512);Zi(e,2097152|(t?1048576:0)),Cr.updateRenderer(e,0),aa(e,sa.CheckAndUpdate),ha(e,134217728,536870912,0),Zi(e,8388608|((t=mr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,mr(e,768,1024)}function ta(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;let p=!1;return d>0&&Rs(e,t,0,n)&&(p=!0),d>1&&Rs(e,t,1,r)&&(p=!0),d>2&&Rs(e,t,2,i)&&(p=!0),d>3&&Rs(e,t,3,o)&&(p=!0),d>4&&Rs(e,t,4,s)&&(p=!0),d>5&&Rs(e,t,5,a)&&(p=!0),d>6&&Rs(e,t,6,l)&&(p=!0),d>7&&Rs(e,t,7,u)&&(p=!0),d>8&&Rs(e,t,8,c)&&(p=!0),d>9&&Rs(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,o,s,a,l,u,c,h);case 2:return function(e,t,n,r,i,o,s,a,l,u,c,h){let d=!1;const p=t.bindings,f=p.length;if(f>0&&Or(e,t,0,n)&&(d=!0),f>1&&Or(e,t,1,r)&&(d=!0),f>2&&Or(e,t,2,i)&&(d=!0),f>3&&Or(e,t,3,o)&&(d=!0),f>4&&Or(e,t,4,s)&&(d=!0),f>5&&Or(e,t,5,a)&&(d=!0),f>6&&Or(e,t,6,l)&&(d=!0),f>7&&Or(e,t,7,u)&&(d=!0),f>8&&Or(e,t,8,c)&&(d=!0),f>9&&Or(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;f>0&&(d+=qs(n,p[0])),f>1&&(d+=qs(r,p[1])),f>2&&(d+=qs(i,p[2])),f>3&&(d+=qs(o,p[3])),f>4&&(d+=qs(s,p[4])),f>5&&(d+=qs(a,p[5])),f>6&&(d+=qs(l,p[6])),f>7&&(d+=qs(u,p[7])),f>8&&(d+=qs(c,p[8])),f>9&&(d+=qs(h,p[9]));const g=yr(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,l,u,c,h);case 16384:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=_r(e,t.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=t.bindings.length;return m>0&&Ir(e,t,0,n)&&(f=!0,g=Yi(e,d,t,0,n,g)),m>1&&Ir(e,t,1,r)&&(f=!0,g=Yi(e,d,t,1,r,g)),m>2&&Ir(e,t,2,i)&&(f=!0,g=Yi(e,d,t,2,i,g)),m>3&&Ir(e,t,3,o)&&(f=!0,g=Yi(e,d,t,3,o,g)),m>4&&Ir(e,t,4,s)&&(f=!0,g=Yi(e,d,t,4,s,g)),m>5&&Ir(e,t,5,a)&&(f=!0,g=Yi(e,d,t,5,a,g)),m>6&&Ir(e,t,6,l)&&(f=!0,g=Yi(e,d,t,6,l,g)),m>7&&Ir(e,t,7,u)&&(f=!0,g=Yi(e,d,t,7,u,g)),m>8&&Ir(e,t,8,c)&&(f=!0,g=Yi(e,d,t,8,c,g)),m>9&&Ir(e,t,9,h)&&(f=!0,g=Yi(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&vr(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings;let p=!1;const f=d.length;if(f>0&&Or(e,t,0,n)&&(p=!0),f>1&&Or(e,t,1,r)&&(p=!0),f>2&&Or(e,t,2,i)&&(p=!0),f>3&&Or(e,t,3,o)&&(p=!0),f>4&&Or(e,t,4,s)&&(p=!0),f>5&&Or(e,t,5,a)&&(p=!0),f>6&&Or(e,t,6,l)&&(p=!0),f>7&&Or(e,t,7,u)&&(p=!0),f>8&&Or(e,t,8,c)&&(p=!0),f>9&&Or(e,t,9,h)&&(p=!0),p){const p=wr(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(f){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,l);break;case 8:g=e.transform(r,i,o,s,a,l,u);break;case 9:g=e.transform(r,i,o,s,a,l,u,c);break;case 10:g=e.transform(r,i,o,s,a,l,u,c,h)}}p.value=g}return p}(e,t,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)Rs(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Or(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=qs(n[e],r[e]);i=t.text.prefix+i;const o=yr(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=_r(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)Ir(e,t,a,n[a])&&(o=!0,s=Yi(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&vr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)Or(e,t,o,n[o])&&(i=!0);if(i){const i=wr(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let t=0;t<n.length;t++)o[r[t].name]=n[t];break;case 128:const e=n[0],i=n.slice(1);o=e.transform(...i)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function na(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=br(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Mr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ra(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;d>0&&Dr(e,t,0,n),d>1&&Dr(e,t,1,r),d>2&&Dr(e,t,2,i),d>3&&Dr(e,t,3,o),d>4&&Dr(e,t,4,s),d>5&&Dr(e,t,5,a),d>6&&Dr(e,t,6,l),d>7&&Dr(e,t,7,u),d>8&&Dr(e,t,8,c),d>9&&Dr(e,t,9,h)}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)Dr(e,t,r,n[r])}(e,t,r),!1}function ia(e,t){if(Sr(e,t.nodeIndex).dirty)throw pr(Cr.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function oa(e){if(!(128&e.state)){if(la(e,sa.Destroy),aa(e,sa.Destroy),Zi(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Ur(e);if(t){const n=t.template._projectedViews;n&&(qe(n,n.indexOf(e)),Cr.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(br(e,n).renderElement):2&t.flags?e.renderer.destroyNode(yr(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&Sr(e,n).destroy()}}(e),Br(e)&&e.renderer.destroy(),e.state|=128}}const sa=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function aa(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ua(br(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function la(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=br(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)ua(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ua(e,t){const n=e.state;switch(t){case sa.CheckNoChanges:0==(128&n)&&(12==(12&n)?Xs(e):64&n&&ca(e,sa.CheckNoChangesProjectedViews));break;case sa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Xs(e):64&n&&ca(e,t));break;case sa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ea(e):64&n&&ca(e,sa.CheckAndUpdateProjectedViews));break;case sa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ea(e):64&n&&ca(e,t));break;case sa.Destroy:oa(e);break;case sa.CreateViewNodes:Qs(e)}}function ca(e,t){la(e,t),aa(e,t)}function ha(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(Cr.setCurrentNode(e,i.nodeIndex),r){case 0:Os(e,i);break;case 1:ia(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let da=!1;function pa(e,t,n,r,i,o){const s=i.injector.get(Hn);return Gs(ga(e,i,s,t,n),r,o)}function fa(e,t,n,r,i,o){const s=i.injector.get(Hn),a=ga(e,i,new Wa(s),t,n),l=xa(r);return Ka(Ra.create,Gs,null,[a,l,o])}function ga(e,t,n,r,i){const o=t.injector.get(Et),s=t.injector.get(Qe),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ma(e,t,n,r){const i=xa(n);return Ka(Ra.create,Ws,null,[e,t,i,r])}function va(e,t,n,r){return n=wa.get(t.element.componentProvider.provider.token)||xa(n),Ka(Ra.create,Js,null,[e,t,n,r])}function ya(e,t,n,r){return ki(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===ba.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(e=>{const r=ba.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{_a.forEach((r,i)=>{fe(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=ba.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=zr(i.deps),r.value=i.value)}if(_a.size>0){let t=new Set(e.modules);_a.forEach((r,i)=>{if(t.has(fe(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:zr(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Fr(i)]=t}})}}(e=e.factory(()=>Er)),e):e}(r))}const ba=new Map,_a=new Map,wa=new Map;function Sa(e){let t;ba.set(e.token,e),"function"==typeof e.token&&(t=fe(e.token))&&"function"==typeof t.providedIn&&_a.set(e.token,e)}function Ca(e,t){const n=Wr(t.viewDefFactory),r=Wr(n.nodes[0].element.componentView);wa.set(e,r)}function Ea(){ba.clear(),_a.clear(),wa.clear()}function xa(e){if(0===ba.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ba.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>Er);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=ba.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=zr(n.deps),e.value=n.value)}}}}function Fa(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return ta(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?wr(e,t).value:void 0}function ka(e,t,n,r,i,o,s,a,l,u,c,h,d){const p=e.def.nodes[t];return ra(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?wr(e,t).value:void 0}function Aa(e){return Ka(Ra.detectChanges,ea,null,[e])}function Ta(e){return Ka(Ra.checkNoChanges,Xs,null,[e])}function Pa(e){return Ka(Ra.destroy,oa,null,[e])}const Ra=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let Ia,Oa,Da;function Na(e,t){Oa=e,Da=t}function Ma(e,t,n,r){return Na(e,t),Ka(Ra.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function La(e,t){if(128&e.state)throw gr(Ra[Ia]);return Na(e,Ba(e,0)),e.def.updateDirectives(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ja(e,o,r,i):Va(e,o,r,i),16384&o.flags&&Na(e,Ba(e,n)),224&o.flags?wr(e,o.nodeIndex).value:void 0},e)}function Ua(e,t){if(128&e.state)throw gr(Ra[Ia]);return Na(e,Ha(e,0)),e.def.updateRenderer(function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?ja(e,o,r,i):Va(e,o,r,i),3&o.flags&&Na(e,Ha(e,n)),224&o.flags?wr(e,o.nodeIndex).value:void 0},e)}function ja(e,t,n,r){if(ta(e,t,n,...r)){const s=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],a=s[e];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(kt,(...e)=>"-"+e[1].toLowerCase())}`)]=At(a))}const r=t.parent,a=br(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(a,t,r):e.renderer.removeAttribute(a,t)}else e.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Va(e,t,n,r){ra(e,t,n,...r)}function Ba(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Ha(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class qa{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=jr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return br(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Si(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){za(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&za(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Br(e);)e=e.parent;return e.parent?br(e.parent,jr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Vr(this.view,this.nodeDef):Vr(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?e.error.bind(e,...t):Er),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function za(e,t,n){for(let r in t.references)n[r]=Ns(e,t,t.references[r])}function Ka(e,t,n,r){const i=Ia,o=Oa,s=Da;try{Ia=e;const l=t.apply(n,r);return Oa=o,Da=s,Ia=i,l}catch(a){if(Je(a)||!Oa)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),fr(e,t),e}(a,$a())}}function $a(){return Oa?new qa(Oa,Da):null}class Wa{constructor(e){this.delegate=e}createRenderer(e,t){return new Ga(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Ga{constructor(e){this.delegate=e,this.debugContextFactory=$a,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=ys(e);vs.delete(t.nativeNode),t instanceof gs&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new ms(n,null,r);t.name=e,bs(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&bs(new gs(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&bs(new gs(t,null,n)),t}appendChild(e,t){const n=ys(e),r=ys(t);n&&r&&n instanceof ms&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=ys(e),i=ys(t),o=ys(n);r&&i&&r instanceof ms&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=ys(e),r=ys(t);n&&r&&n instanceof ms&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=$a();return r&&bs(new ms(n,null,r)),n}setAttribute(e,t,n,r){const i=ys(e);i&&i instanceof ms&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=ys(e);r&&r instanceof ms&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=ys(e);n&&n instanceof ms&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=ys(e);n&&n instanceof ms&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=ys(e);i&&i instanceof ms&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=ys(e);r&&r instanceof ms&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=ys(e);r&&r instanceof ms&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=ys(e);r&&r.listeners.push(new fs(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Ja(e,t,n){return new Ya(e,t,n)}class Ya extends Be{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if(da)return;da=!0;const e=tt()?{setCurrentNode:Na,createRootView:fa,createEmbeddedView:ma,createComponentView:va,createNgModuleRef:ya,overrideProvider:Sa,overrideComponentView:Ca,clearOverrides:Ea,checkAndUpdateView:Aa,checkNoChangesView:Ta,destroyView:Pa,createDebugContext:(e,t)=>new qa(e,t),handleEvent:Ma,updateDirectives:La,updateRenderer:Ua}:{setCurrentNode:()=>{},createRootView:pa,createEmbeddedView:Ws,createComponentView:Js,createNgModuleRef:ki,overrideProvider:Er,overrideComponentView:Er,clearOverrides:Er,checkAndUpdateView:ea,checkNoChangesView:Xs,destroyView:oa,createDebugContext:(e,t)=>new qa(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?Fa:ka,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?Fa:ka,e)};Cr.setCurrentNode=e.setCurrentNode,Cr.createRootView=e.createRootView,Cr.createEmbeddedView=e.createEmbeddedView,Cr.createComponentView=e.createComponentView,Cr.createNgModuleRef=e.createNgModuleRef,Cr.overrideProvider=e.overrideProvider,Cr.overrideComponentView=e.overrideComponentView,Cr.clearOverrides=e.clearOverrides,Cr.checkAndUpdateView=e.checkAndUpdateView,Cr.checkNoChangesView=e.checkNoChangesView,Cr.destroyView=e.destroyView,Cr.resolveDep=Gi,Cr.createDebugContext=e.createDebugContext,Cr.handleEvent=e.handleEvent,Cr.updateDirectives=e.updateDirectives,Cr.updateRenderer=e.updateRenderer,Cr.dirtyParentQueries=Is}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Wr(this._ngModuleDefFactory));return Cr.createNgModuleRef(this.moduleType,e||Ht.NULL,this._bootstrapComponents,t)}}class Za{}class Qa{}class Xa{}const el=new xe("Location Initialized");class tl{}const nl=new xe("appBaseHref");class rl{constructor(e,t){this._subject=new uo,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=rl.stripTrailingSlash(il(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+rl.normalizeQueryParams(t))}normalize(e){return rl.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,il(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rl.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rl.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function il(e){return e.replace(/\/index.html$/,"")}class ol extends tl{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=rl.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+rl.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+rl.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class sl extends tl{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rl.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+rl.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+rl.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+rl.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const al=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),ll=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ul=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),cl=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),hl=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),dl=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function pl(e,t){return bl(oo(e)[no.DateFormat],t)}function fl(e,t){return bl(oo(e)[no.TimeFormat],t)}function gl(e,t){return bl(oo(e)[no.DateTimeFormat],t)}function ml(e,t){const n=oo(e),r=n[no.NumberSymbols][t];if(void 0===r){if(t===dl.CurrencyDecimal)return n[no.NumberSymbols][dl.Decimal];if(t===dl.CurrencyGroup)return n[no.NumberSymbols][dl.Group]}return r}const vl=function(e){return oo(e)[no.PluralCase]};function yl(e){if(!e[no.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[no.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function bl(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function _l(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const wl=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sl={},Cl=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,El=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),xl=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Fl=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function kl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function Al(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Tl(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case xl.FullYear:return t.getFullYear();case xl.Month:return t.getMonth();case xl.Date:return t.getDate();case xl.Hours:return t.getHours();case xl.Minutes:return t.getMinutes();case xl.Seconds:return t.getSeconds();case xl.FractionalSeconds:return t.getMilliseconds();case xl.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===xl.Hours)0===a&&-12===n&&(a=12);else if(e===xl.FractionalSeconds)return l=t,Al(a,3).substr(0,l);var l;const u=ml(s,dl.MinusSign);return Al(a,t,u,r,i)}}function Pl(e,t,n=ul.Format,r=!1){return function(i,o){return function(e,t,n,r,i,o){switch(n){case Fl.Months:return function(e,t,n){const r=oo(e),i=bl([r[no.MonthsFormat],r[no.MonthsStandalone]],t);return bl(i,n)}(t,i,r)[e.getMonth()];case Fl.Days:return function(e,t,n){const r=oo(e),i=bl([r[no.DaysFormat],r[no.DaysStandalone]],t);return bl(i,n)}(t,i,r)[e.getDay()];case Fl.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const e=function(e){const t=oo(e);return yl(t),(t[no.ExtraData][2]||[]).map(e=>"string"==typeof e?_l(e):[_l(e[0]),_l(e[1])])}(t),n=function(e,t,n){const r=oo(e);yl(r);const i=bl([r[no.ExtraData][0],r[no.ExtraData][1]],t)||[];return bl(i,n)||[]}(t,i,r);let o;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:r,minutes:i}=e[0],{hours:l,minutes:u}=e[1];s>=r&&a>=i&&(s<l||s===l&&a<u)&&(o=n[t])}else{const{hours:r,minutes:i}=e;r===s&&i===a&&(o=n[t])}}),o)return o}return function(e,t,n){const r=oo(e),i=bl([r[no.DayPeriodsFormat],r[no.DayPeriodsStandalone]],t);return bl(i,n)}(t,i,r)[s<12?0:1];case Fl.Eras:return function(e,t){return bl(oo(e)[no.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function Rl(e){return function(t,n,r){const i=-1*r,o=ml(n,dl.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case El.Short:return(i>=0?"+":"")+Al(s,2,o)+Al(Math.abs(i%60),2,o);case El.ShortGMT:return"GMT"+(i>=0?"+":"")+Al(s,1,o);case El.Long:return"GMT"+(i>=0?"+":"")+Al(s,2,o)+":"+Al(Math.abs(i%60),2,o);case El.Extended:return 0===r?"Z":(i>=0?"+":"")+Al(s,2,o)+":"+Al(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const Il=0,Ol=4;function Dl(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,Il,1).getDay();return new Date(e,0,1+(t<=Ol?Ol:Ol+7)-t)}(n.getFullYear()),t=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(Ol-o.getDay()))).getTime()-e.getTime();i=1+Math.round(t/6048e5)}var o;return Al(i,e,ml(r,dl.MinusSign))}}const Nl={};function Ml(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Ll(e){return e instanceof Date&&!isNaN(e.valueOf())}const Ul=/^(\d+)?\.((\d+)(-(\d+))?)?$/,jl=22,Vl=".",Bl="0",Hl=";",ql=",",zl="#";function Kl(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const $l=new xe("UseV4Plurals");class Wl{}class Gl extends Wl{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):vl(t||this.locale)(e)){case ll.Zero:return"zero";case ll.One:return"one";case ll.Two:return"two";case ll.Few:return"few";case ll.Many:return"many";default:return"other"}}}function Jl(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class Yl{}class Zl{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(xn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${me(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}let Ql=(()=>{class e{constructor(e){this._delegate=e}getValue(){return this._delegate.getValue()}}return e.ngDirectiveDef=void 0,e})();class Xl extends Ql{constructor(e){super(e)}set klass(e){this._delegate.setClass(e)}set ngClass(e){this._delegate.setNgClass(e)}ngDoCheck(){this._delegate.applyChanges()}}class eu{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class tu{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){tt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new eu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new nu(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new nu(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class nu{constructor(e,t){this.record=e,this.view=t}}class ru{constructor(e,t){this._viewContainer=e,this._context=new iu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ou("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ou("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class iu{constructor(){this.$implicit=null,this.ngIf=null}}function ou(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${me(t)}'.`)}function su(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${me(e)}'`)}class au{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class lu{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const uu=new lu,cu=new au;class hu{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Sn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,En.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(kn(e))return uu;if(An(e))return cu;throw su(hu,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}class du{constructor(e){this.locale=e}transform(e,t="mediumDate",n,r){if(null==e||""===e||e!=e)return null;try{return function(e,t,n,r){let i=function(e){if(Ll(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,r]=e.split("-").map(e=>+e);return new Date(t,n-1,r)}let n;if(n=e.match(wl))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,l,u),t}(n)}const t=new Date(e);if(!Ll(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const r=function(e){return oo(e)[no.LocaleId]}(t);if(Sl[r]=Sl[r]||{},Sl[r][n])return Sl[r][n];let i="";switch(n){case"shortDate":i=pl(t,hl.Short);break;case"mediumDate":i=pl(t,hl.Medium);break;case"longDate":i=pl(t,hl.Long);break;case"fullDate":i=pl(t,hl.Full);break;case"shortTime":i=fl(t,hl.Short);break;case"mediumTime":i=fl(t,hl.Medium);break;case"longTime":i=fl(t,hl.Long);break;case"fullTime":i=fl(t,hl.Full);break;case"short":const r=e(t,"shortTime"),o=e(t,"shortDate");i=kl(gl(t,hl.Short),[r,o]);break;case"medium":const s=e(t,"mediumTime"),a=e(t,"mediumDate");i=kl(gl(t,hl.Medium),[s,a]);break;case"long":const l=e(t,"longTime"),u=e(t,"longDate");i=kl(gl(t,hl.Long),[l,u]);break;case"full":const c=e(t,"fullTime"),h=e(t,"fullDate");i=kl(gl(t,hl.Full),[c,h])}return i&&(Sl[r][n]=i),i}(n,t)||t;let o,s=[];for(;t;){if(!(o=Cl.exec(t))){s.push(t);break}{const e=(s=s.concat(o.slice(1))).pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=Ml(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Ml(t,r)-r))}(i,r));let l="";return s.forEach(e=>{const t=function(e){if(Nl[e])return Nl[e];let t;switch(e){case"G":case"GG":case"GGG":t=Pl(Fl.Eras,cl.Abbreviated);break;case"GGGG":t=Pl(Fl.Eras,cl.Wide);break;case"GGGGG":t=Pl(Fl.Eras,cl.Narrow);break;case"y":t=Tl(xl.FullYear,1,0,!1,!0);break;case"yy":t=Tl(xl.FullYear,2,0,!0,!0);break;case"yyy":t=Tl(xl.FullYear,3,0,!1,!0);break;case"yyyy":t=Tl(xl.FullYear,4,0,!1,!0);break;case"M":case"L":t=Tl(xl.Month,1,1);break;case"MM":case"LL":t=Tl(xl.Month,2,1);break;case"MMM":t=Pl(Fl.Months,cl.Abbreviated);break;case"MMMM":t=Pl(Fl.Months,cl.Wide);break;case"MMMMM":t=Pl(Fl.Months,cl.Narrow);break;case"LLL":t=Pl(Fl.Months,cl.Abbreviated,ul.Standalone);break;case"LLLL":t=Pl(Fl.Months,cl.Wide,ul.Standalone);break;case"LLLLL":t=Pl(Fl.Months,cl.Narrow,ul.Standalone);break;case"w":t=Dl(1);break;case"ww":t=Dl(2);break;case"W":t=Dl(1,!0);break;case"d":t=Tl(xl.Date,1);break;case"dd":t=Tl(xl.Date,2);break;case"E":case"EE":case"EEE":t=Pl(Fl.Days,cl.Abbreviated);break;case"EEEE":t=Pl(Fl.Days,cl.Wide);break;case"EEEEE":t=Pl(Fl.Days,cl.Narrow);break;case"EEEEEE":t=Pl(Fl.Days,cl.Short);break;case"a":case"aa":case"aaa":t=Pl(Fl.DayPeriods,cl.Abbreviated);break;case"aaaa":t=Pl(Fl.DayPeriods,cl.Wide);break;case"aaaaa":t=Pl(Fl.DayPeriods,cl.Narrow);break;case"b":case"bb":case"bbb":t=Pl(Fl.DayPeriods,cl.Abbreviated,ul.Standalone,!0);break;case"bbbb":t=Pl(Fl.DayPeriods,cl.Wide,ul.Standalone,!0);break;case"bbbbb":t=Pl(Fl.DayPeriods,cl.Narrow,ul.Standalone,!0);break;case"B":case"BB":case"BBB":t=Pl(Fl.DayPeriods,cl.Abbreviated,ul.Format,!0);break;case"BBBB":t=Pl(Fl.DayPeriods,cl.Wide,ul.Format,!0);break;case"BBBBB":t=Pl(Fl.DayPeriods,cl.Narrow,ul.Format,!0);break;case"h":t=Tl(xl.Hours,1,-12);break;case"hh":t=Tl(xl.Hours,2,-12);break;case"H":t=Tl(xl.Hours,1);break;case"HH":t=Tl(xl.Hours,2);break;case"m":t=Tl(xl.Minutes,1);break;case"mm":t=Tl(xl.Minutes,2);break;case"s":t=Tl(xl.Seconds,1);break;case"ss":t=Tl(xl.Seconds,2);break;case"S":t=Tl(xl.FractionalSeconds,1);break;case"SS":t=Tl(xl.FractionalSeconds,2);break;case"SSS":t=Tl(xl.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Rl(El.Short);break;case"ZZZZZ":t=Rl(El.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Rl(El.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Rl(El.Long);break;default:return null}return Nl[e]=t,t}(e);l+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,t,r||this.locale,n)}catch(i){throw su(du,i.message)}}}class pu{constructor(e){this._locale=e}transform(e,t,n){if(function(e){return null==e||""===e||e!=e}(e))return null;n=n||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,o,s=!1){let a="",l=!1;if(isFinite(e)){let u=function(t){let n,r,i,o,s,a=Math.abs(e)+"",l=0;for((r=a.indexOf(Vl))>-1&&(a=a.replace(Vl,"")),(i=a.search(/e/i))>0?(r<0&&(r=i),r+=+a.slice(i+1),a=a.substring(0,i)):r<0&&(r=a.length),i=0;a.charAt(i)===Bl;i++);if(i===(s=a.length))n=[0],r=1;else{for(s--;a.charAt(s)===Bl;)s--;for(r-=i,n=[],o=0;i<=s;i++,o++)n[o]=Number(a.charAt(i))}return r>jl&&(n=n.splice(0,jl-1),l=r-1,r=1),{digits:n,exponent:l,integerLen:r}}();s&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let c=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(Ul);if(null===e)throw new Error(`${o} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(c=Kl(t)),null!=n&&(h=Kl(n)),null!=r?d=Kl(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=t+e.integerLen,c=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,l&&(0===r[n]&&n>=u?r.pop():l=!1),t>=10?1:0},0);c&&(r.unshift(c),e.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const g=u.exponent;let m=[];for(l=p.every(e=>!e);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const v=[];for(p.length>=t.lgSize&&v.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)v.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),a=v.join(ml(n,r)),m.length&&(a+=ml(n,i)+m.join("")),g&&(a+=ml(n,dl.Exponential)+"+"+g)}else a=ml(n,dl.Infinity);return e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}(e,function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(Hl),i=r[0],o=r[1],s=-1!==i.indexOf(Vl)?i.split(Vl):[i.substring(0,i.lastIndexOf(Bl)+1),i.substring(i.lastIndexOf(Bl)+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf(zl));for(let c=0;c<l.length;c++){const e=l.charAt(c);e===Bl?n.minFrac=n.maxFrac=c+1:e===zl?n.maxFrac=c+1:n.posSuf+=e}const u=a.split(ql);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf(zl);n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return oo(e)[no.NumberFormats][t]}(t,al.Decimal),ml(t,dl.MinusSign)),t,dl.Group,dl.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(e),n,t)}catch(r){throw su(pu,r.message)}}}class fu{}const gu=new xe("DocumentToken"),mu="server";let vu=(()=>{class e{}return e.ngInjectableDef=pe({token:e,providedIn:"root",factory:()=>new yu(Le(gu),window,Le(Qe))}),e})();class yu{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${e}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${e}']`);if(r)return void this.scrollToElement(r)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}function bu(...e){let t=e[e.length-1];return T(t)?(e.pop(),H(e,t)):J(e)}class _u extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(e){super.next(this._value=e)}}function wu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}wu.prototype=Object.create(Error.prototype);const Su=wu,Cu={};class Eu{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new xu(e,this.resultSelector))}}class xu extends U{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Cu),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(L(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===Cu?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Fu=new w(e=>e.complete());function ku(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Fu}function Au(e){return new w(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?q(n):ku()).subscribe(t)})}function Tu(){return G(1)}function Pu(e,t){return function(n){return n.lift(new Ru(e,t))}}class Ru{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Iu(e,this.predicate,this.thisArg))}}class Iu extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ou(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ou.prototype=Object.create(Error.prototype);const Du=Ou;function Nu(e){return function(t){return 0===e?ku():t.lift(new Mu(e))}}class Mu{constructor(e){if(this.total=e,this.total<0)throw new Du}call(e,t){return t.subscribe(new Lu(e,this.total))}}class Lu extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function Uu(e=function(){return new Su}){return t=>t.lift(new ju(e))}class ju{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Vu(e,this.errorFactory))}}class Vu extends g{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Bu(e=null){return t=>t.lift(new Hu(e))}class Hu{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new qu(e,this.defaultValue))}}class qu extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function zu(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pu((t,n)=>e(t,n,r)):W,Nu(1),n?Bu(t):Uu(()=>new Su))}function Ku(e){return function(t){const n=new $u(e),r=t.lift(n);return n.caught=r}}class $u{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Wu(e,this.selector,this.caught))}}class Wu extends U{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new P(this,void 0,void 0);this.add(r),L(this,n,void 0,void 0,r)}}}function Gu(e){return t=>0===e?ku():t.lift(new Ju(e))}class Ju{constructor(e){if(this.total=e,this.total<0)throw new Du}call(e,t){return t.subscribe(new Yu(e,this.total))}}class Yu extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Zu(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pu((t,n)=>e(t,n,r)):W,Gu(1),n?Bu(t):Uu(()=>new Su))}class Qu{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Xu(e,this.predicate,this.thisArg,this.source))}}class Xu extends g{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ec(e,t){return"function"==typeof t?n=>n.pipe(ec((n,r)=>q(e(n,r)).pipe(j((e,i)=>t(n,e,r,i))))):t=>t.lift(new tc(e))}class tc{constructor(e){this.project=e}call(e,t){return t.subscribe(new nc(e,this.project))}}class nc extends U{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new P(this,void 0,void 0);this.destination.add(i),this.innerSubscription=L(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}function rc(...e){return Tu()(bu(...e))}function ic(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new oc(e,t,n))}}class oc{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new sc(e,this.accumulator,this.seed,this.hasSeed))}}class sc extends g{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ac(e,t){return z(e,t,1)}function lc(e,t,n){return function(r){return r.lift(new uc(e,t,n))}}class uc{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new cc(e,this.nextOrObserver,this.error,this.complete))}}class cc extends g{constructor(e,t,n,i){super(e),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||y,this._tapError=t.error||y,this._tapComplete=t.complete||y)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class hc{constructor(e){this.callback=e}call(e,t){return t.subscribe(new dc(e,this.callback))}}class dc extends g{constructor(e,t){super(e),this.add(new d(t))}}let pc=null;function fc(){return pc}class gc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class mc extends gc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const vc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},yc=3,bc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wc=(()=>{if(Ee.Node)return Ee.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class Sc extends mc{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new Sc,pc||(pc=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return vc}contains(e,t){return wc.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===yc&&_c.hasOwnProperty(t)&&(t=_c[t]))}return bc[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Ec||(Ec=document.querySelector("base"))?Ec.getAttribute("href"):null;return null==t?null:(n=t,Cc||(Cc=document.createElement("a")),Cc.setAttribute("href",n),"/"===Cc.pathname.charAt(0)?Cc.pathname:"/"+Cc.pathname);var n}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Jl(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let Cc,Ec=null;function xc(){return!!window.history.pushState}let Fc=(()=>{class e extends Xa{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=fc().getLocation(),this._history=fc().getHistory()}getBaseHrefFromDOM(){return fc().getBaseHref(this._doc)}onPopState(e){fc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){fc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){xc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){xc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.ctorParameters=()=>[{type:void 0,decorators:[{type:ae,args:[gu]}]}],e})();const kc=new xe("TRANSITION_ID"),Ac=[{provide:po,useFactory:function(e,t,n){return()=>{n.get(fo).donePromise.then(()=>{const n=fc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[kc,gu,Ht],multi:!0}];class Tc{static init(){var e;e=new Tc,Yo=e}addToWindow(e){Ee.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Ee.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ee.getAllAngularRootElements=()=>e.getAllRootElements(),Ee.frameworkStabilizers||(Ee.frameworkStabilizers=[]),Ee.frameworkStabilizers.push(e=>{const t=Ee.getAllAngularTestabilities();let n=t.length,r=!1;const i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?fc().isShadowRoot(t)?this.findTestabilityInTree(e,fc().getHost(t),!0):this.findTestabilityInTree(e,fc().parentElement(t),!0):null}}function Pc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ee.ng=Ee.ng||{})[e]=t)}const Rc=(()=>({ApplicationRef:os,NgZone:jo}))();function Ic(e){return ys(e)}const Oc=new xe("EventManagerPlugins");class Dc{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}class Nc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=fc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class Mc{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class Lc extends Mc{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>fc().remove(e))}}const Uc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jc=/%COMP%/g,Vc="_nghost-%COMP%",Bc="_ngcontent-%COMP%";function Hc(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Hc(e,i,n):(i=i.replace(jc,e),n.push(i))}return n}function qc(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class zc{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Kc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ze.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Gc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case ze.Native:case ze.ShadowDom:return new Jc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Hc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Kc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Uc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Uc[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Uc[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&qn.DashCase?e.style.setProperty(t,n,r&qn.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){Wc(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return Wc(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qc(n)):this.eventManager.addEventListener(e,t,qc(n))}}const $c=(()=>"@".charCodeAt(0))();function Wc(e,t){if(e.charCodeAt(0)===$c)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Gc extends Kc{constructor(e,t,n,r){super(e),this.component=n;const i=Hc(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr=Bc.replace(jc,r+"-"+n.id),this.hostAttr=Vc.replace(jc,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Jc extends Kc{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ze.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Hc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const Yc=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Zc=Yc("addEventListener"),Qc=Yc("removeEventListener"),Xc={},eh="FALSE",th="ANGULAR",nh="addEventListener",rh="removeEventListener",ih="__zone_symbol__propagationStopped",oh="__zone_symbol__stopImmediatePropagation",sh=(()=>{const e="undefined"!=typeof Zone&&Zone[Yc("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),ah=function(e){return!!sh&&sh.hasOwnProperty(e)},lh=function(e){const t=Xc[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[ih];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class uh extends Nc{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===mu}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[oh])return;const e=Event.prototype[oh]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ih]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let r=n;if(!e[Zc]||jo.isInAngularZone()&&!ah(t))e[nh](t,r,!1);else{let n=Xc[t];n||(n=Xc[t]=Yc(th+t+eh));let i=e[n];const o=i&&i.length>0;i||(i=e[n]=[]);const s=ah(t)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let e=!1;for(let t=0;t<i.length;t++)if(i[t].handler===r){e=!0;break}e||i.push({zone:s,handler:r})}o||e[Zc](t,lh,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let r=e[Qc];if(!r)return e[rh].apply(e,[t,n,!1]);let i=Xc[t],o=i&&e[i];if(!o)return e[rh].apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,lh,!1]):e[rh].apply(e,[t,n,!1])}}const ch={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},hh=new xe("HammerGestureConfig"),dh=new xe("HammerLoader");class ph{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class fh extends Nc{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!ch.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded(function(){n(e)})};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const gh=["alt","control","meta","shift"],mh={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class vh extends Nc{constructor(e){super(e)}supports(e){return null!=vh.parseEventName(e)}addEventListener(e,t,n){const r=vh.parseEventName(t),i=vh.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fc().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=vh._normalizeKey(t.pop());let i="";if(gh.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=fc().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),gh.forEach(r=>{r!=n&&(0,mh[r])(e)&&(t+=r+".")}),t+=n}static eventCallback(e,t,n){return r=>{vh.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class yh{}class bh extends yh{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Ct.NONE:return t;case Ct.HTML:return t instanceof wh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){let n=null;try{wt=wt||new nt(e);let r=t?String(t):"";n=wt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=wt.getInertBodyElement(r)}while(r!==o);const s=new vt,a=s.sanitizeChildren(St(n)||n);return tt()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=St(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)));case Ct.STYLE:return t instanceof Sh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";const t=e.match(Ft);return t&&ot(t[1])===t[1]||e.match(xt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(tt()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t));case Ct.SCRIPT:if(t instanceof Ch)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Ct.URL:return t instanceof xh||t instanceof Eh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ot(String(t)));case Ct.RESOURCE_URL:if(t instanceof xh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof _h)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new wh(e)}bypassSecurityTrustStyle(e){return new Sh(e)}bypassSecurityTrustScript(e){return new Ch(e)}bypassSecurityTrustUrl(e){return new Eh(e)}bypassSecurityTrustResourceUrl(e){return new xh(e)}}class _h{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class wh extends _h{getTypeName(){return"HTML"}}class Sh extends _h{getTypeName(){return"Style"}}class Ch extends _h{getTypeName(){return"Script"}}class Eh extends _h{getTypeName(){return"URL"}}class xh extends _h{getTypeName(){return"ResourceURL"}}const Fh=ts(_s,"browser",[{provide:bo,useValue:"browser"},{provide:yo,useValue:function(){Sc.makeCurrent(),Tc.init()},multi:!0},{provide:Xa,useClass:Fc,deps:[gu]},{provide:gu,useFactory:function(){return document},deps:[]}]);function kh(){return new Qe}class Ah{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:Ah,providers:[{provide:go,useValue:e.appId},{provide:kc,useExisting:go},Ac]}}}"undefined"!=typeof window&&window;class Th{constructor(e,t){this.id=e,this.url=t}}class Ph extends Th{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rh extends Th{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ih extends Th{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Oh extends Th{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dh extends Th{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nh extends Th{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh extends Th{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lh extends Th{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uh extends Th{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vh{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bh{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hh{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qh{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $h{}const Wh="primary";class Gh{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jh(e){return new Gh(e)}const Yh="ngNavigationCancelingError";function Zh(e){const t=Error("NavigationCancelingError: "+e);return t[Yh]=!0,t}function Qh(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Xh{constructor(e,t){this.routes=e,this.module=t}}function ed(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];td(r,nd(t,r))}}function td(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Wh)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ed(e.children,t)}function nd(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function rd(e){const t=e.children&&e.children.map(rd),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Wh&&(n.component=$h),n}function id(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(e[i=n[o]]!==t[i])return!1;return!0}function od(e){return Array.prototype.concat.apply([],e)}function sd(e){return e.length>0?e[e.length-1]:null}function ad(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ld(e){return An(e)?e:kn(e)?q(Promise.resolve(e)):bu(e)}function ud(e,t,n){return n?function(e,t){return id(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!pd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length){return!!pd(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!pd(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!pd(n.segments,e)&&!!n.children[Wh]&&t(n.children[Wh],r,o)}}(t,n,n.segments)}(e.root,t.root)}class cd{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jh(this.queryParams)),this._queryParamMap}toString(){return vd.serialize(this)}}class hd{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ad(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}}class dd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jh(this.parameters)),this._parameterMap}toString(){return Ed(this)}}function pd(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function fd(e,t){let n=[];return ad(e.children,(e,r)=>{r===Wh&&(n=n.concat(t(e,r)))}),ad(e.children,(e,r)=>{r!==Wh&&(n=n.concat(t(e,r)))}),n}class gd{}class md{parse(e){const t=new Td(e);return new cd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return yd(t);if(n){const n=t.children[Wh]?e(t.children[Wh],!1):"",r=[];return ad(t.children,(t,n)=>{n!==Wh&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=fd(t,(n,r)=>r===Wh?[e(t.children[Wh],!1)]:[`${r}:${e(n,!1)}`]);return`${yd(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${_d(t)}=${_d(e)}`).join("&"):`${_d(t)}=${_d(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const vd=new md;function yd(e){return e.segments.map(e=>Ed(e)).join("/")}function bd(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _d(e){return bd(e).replace(/%3B/gi,";")}function wd(e){return bd(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sd(e){return decodeURIComponent(e)}function Cd(e){return Sd(e.replace(/\+/g,"%20"))}function Ed(e){return`${wd(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${wd(e)}=${wd(t[e])}`).join("")}`;var t}const xd=/^[^\/()?;=#]+/;function Fd(e){const t=e.match(xd);return t?t[0]:""}const kd=/^[^=?&#]+/,Ad=/^[^?&#]+/;class Td{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hd([],{}):new hd([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Wh]=new hd(e,t)),n}parseSegment(){const e=Fd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new dd(Sd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Fd(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Fd(this.remaining);e&&this.capture(n=e)}e[Sd(t)]=Sd(n)}parseQueryParam(e){const t=function(e){const t=e.match(kd);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Ad);return t?t[0]:""}(this.remaining);e&&this.capture(n=e)}const r=Cd(t),i=Cd(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(e[r]=t=[t]),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Fd(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Wh);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Wh]:new hd([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Pd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rd(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Rd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Id(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Id(e,this._root).map(e=>e.value)}}function Rd(e,t){if(e===t.value)return t;for(const n of t.children){const t=Rd(e,n);if(t)return t}return null}function Id(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Id(e,n);if(r.length)return r.unshift(t),r}return[]}class Od{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Dd(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Nd extends Pd{constructor(e,t){super(e),this.snapshot=t,Bd(this,e)}toString(){return this.snapshot.toString()}}function Md(e,t){const n=function(e,t){const n=new jd([],{},{},"",{},Wh,t,null,e.root,-1,{});return new Vd("",new Od(n,[]))}(e,t),r=new _u([new dd("",{})]),i=new _u({}),o=new _u({}),s=new _u({}),a=new _u(""),l=new Ld(r,i,s,a,o,Wh,t,n.root);return l.snapshot=n.root,new Nd(new Od(l,[]),n)}class Ld{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(e=>Jh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(e=>Jh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ud(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jd{constructor(e,t,n,r,i,o,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vd extends Pd{constructor(e,t){super(t),this.url=e,Bd(this,t)}toString(){return Hd(this._root)}}function Bd(e,t){t.value._routerState=e,t.children.forEach(t=>Bd(e,t))}function Hd(e){const t=e.children.length>0?` { ${e.children.map(Hd).join(", ")} } `:"";return`${e.value}${t}`}function qd(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,id(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),id(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!id(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),id(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function zd(e,t){var n,r;return id(e.params,t.params)&&pd(n=e.url,r=t.url)&&n.every((e,t)=>id(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||zd(e.parent,t.parent))}function Kd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function $d(e,t,n,r,i){let o={};return r&&ad(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new cd(n.root===e?t:function e(t,n,r){const i={};return ad(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new hd(t.segments,i)}(n.root,e,t),o,i)}class Wd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Kd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==sd(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gd{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Jd(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Wh]:`${e}`}function Yd(e,t,n){if(e||(e=new hd([],{})),0===e.segments.length&&e.hasChildren())return Zd(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=Jd(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!tp(s,a,t))return o;r+=2}else{if(!tp(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new hd(e.segments.slice(0,r.pathIndex),{});return t.children[Wh]=new hd(e.segments.slice(r.pathIndex),e.children),Zd(t,0,i)}return r.match&&0===i.length?new hd(e.segments,{}):r.match&&!e.hasChildren()?Qd(e,t,n):r.match?Zd(e,0,i):Qd(e,t,n)}function Zd(e,t,n){if(0===n.length)return new hd(e.segments,{});{const r=function(e){return"object"!=typeof e[0]?{[Wh]:e}:void 0===e[0].outlets?{[Wh]:e}:e[0].outlets}(n),i={};return ad(r,(n,r)=>{null!==n&&(i[r]=Yd(e.children[r],t,n))}),ad(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new hd(e.segments,i)}}function Qd(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Xd(n[i].outlets);return new hd(r,e)}if(0===i&&Kd(n[0])){r.push(new dd(e.segments[t].path,n[0])),i++;continue}const o=Jd(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Kd(s)?(r.push(new dd(o,ep(s))),i+=2):(r.push(new dd(o,{})),i++)}return new hd(r,{})}function Xd(e){const t={};return ad(e,(e,n)=>{null!==e&&(t[n]=Qd(new hd([],{}),0,e))}),t}function ep(e){const t={};return ad(e,(e,n)=>t[n]=`${e}`),t}function tp(e,t,n){return e==n.path&&id(t,n.parameters)}const np=(e,t,n)=>j(r=>(new rp(t,r.targetRouterState,r.currentRouterState,n).activate(e),r));class rp{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),qd(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Dd(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),ad(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=Dd(e),i=e.value.component?n.children:t;ad(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=Dd(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new zh(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Hh(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(qd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),ip(e.route)}else{const n=function(e){for(let t=r.snapshot.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function ip(e){qd(e.value),e.children.forEach(ip)}function op(e){return"function"==typeof e}function sp(e){return e instanceof cd}class ap{constructor(e){this.segmentGroup=e||null}}class lp{constructor(e){this.urlTree=e}}function up(e){return new w(t=>t.error(new ap(e)))}function cp(e){return new w(t=>t.error(new lp(e)))}function hp(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class dp{constructor(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(Ve)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Wh).pipe(j(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ku(e=>{if(e instanceof lp)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof ap)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wh).pipe(j(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ku(e=>{if(e instanceof ap)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new hd([],{[Wh]:e}):e;return new cd(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(j(e=>new hd([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return bu({});const n=[],r=[],i={};return ad(e,(e,o)=>{const s=t(o,e).pipe(j(e=>i[o]=e));o===Wh?n.push(s):r.push(s)}),bu.apply(null,n.concat(r)).pipe(Tu(),zu(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return bu(...n).pipe(j(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Ku(e=>{if(e instanceof ap)return bu(null);throw e}))),Tu(),Zu(e=>!!e),Ku((e,n)=>{if(e instanceof Su||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return bu(new hd([],{}));throw new ap(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return mp(r)!==o?up(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):up(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?cp(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new hd(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=pp(t,r,i);if(!s)return up(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?cp(c):this.lineralizeSegments(r,c).pipe(z(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(j(e=>(n._loadedConfig=e,new hd(r,{})))):bu(new hd(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=pp(t,n,r);if(!i)return up(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(z(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return r.some(n=>gp(e,t,n)&&mp(n)!==Wh)}(e,n)?{segmentGroup:fp(new hd(t,function(e,t){const n={};n[Wh]=t;for(const r of e)""===r.path&&mp(r)!==Wh&&(n[mp(r)]=new hd([],{}));return n}(r,new hd(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return r.some(n=>gp(e,t,n))}(e,n)?{segmentGroup:fp(new hd(e.segments,function(e,t,n,r){const i={};for(const o of n)gp(e,t,o)&&!r[mp(o)]&&(i[mp(o)]=new hd([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(j(e=>new hd(o,e))):0===r.length&&0===s.length?bu(new hd(o,{})):this.expandSegment(n,i,r,s,Wh,!0).pipe(j(e=>new hd(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?bu(new Xh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?bu(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?q(r).pipe(j(r=>{const i=e.get(r);let o;if(function(e){return e&&op(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!op(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return ld(o)})).pipe(Tu(),(i=e=>!0===e,e=>e.lift(new Qu(i,void 0,e)))):bu(!0);var i}(e.injector,t,n).pipe(z(n=>n?this.configLoader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(Zh(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):bu(new Xh([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return bu(n);if(r.numberOfChildren>1||!r.children[Wh])return hp(e.redirectTo);r=r.children[Wh]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new cd(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ad(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return ad(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new hd(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function pp(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||Qh)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function fp(e){if(1===e.numberOfChildren&&e.children[Wh]){const t=e.children[Wh];return new hd(e.segments.concat(t.segments),t.children)}return e}function gp(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function mp(e){return e.outlet||Wh}class vp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yp{constructor(e,t){this.component=e,this.route=t}}function bp(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Dd(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!pd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!pd(e.url,t.url)||!id(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(e,t)||!id(e.queryParams,t.queryParams);case"paramsChange":default:return!zd(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new vp(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new yp(l&&l.outlet&&l.outlet.component||null,a))}else a&&wp(n,l,o),o.canActivateChecks.push(new vp(i)),e(t,null,s.component?l?l.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),ad(s,(e,t)=>wp(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function _p(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function wp(e,t,n){const r=Dd(e),i=e.value;ad(r,(e,r)=>{wp(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new yp(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const Sp=Symbol("INITIAL_VALUE");function Cp(){return ec(e=>(function(...e){let t=null,n=null;return T(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),J(e,n).lift(new Eu(t))})(...e.map(e=>e.pipe(Gu(1),function(...e){const t=e[e.length-1];return T(t)?(e.pop(),n=>rc(e,n,t)):t=>rc(e,t)}(Sp)))).pipe(ic((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Sp)return e;if(r===Sp&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||sp(r))return r}return e},e)},Sp),Pu(e=>e!==Sp),j(e=>sp(e)?e:!0===e),Gu(1)))}function Ep(e,t){return null!==e&&t&&t(new qh(e)),bu(!0)}function xp(e,t){return null!==e&&t&&t(new Bh(e)),bu(!0)}function Fp(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?bu(r.map(r=>Au(()=>{const i=_p(r,t,n);let o;if(function(e){return e&&op(e.canActivate)}(i))o=ld(i.canActivate(t,e));else{if(!op(i))throw new Error("Invalid CanActivate guard");o=ld(i(t,e))}return o.pipe(Zu())}))).pipe(Cp()):bu(!0)}function kp(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>Au(()=>bu(t.guards.map(i=>{const o=_p(i,t.node,n);let s;if(function(e){return e&&op(e.canActivateChild)}(o))s=ld(o.canActivateChild(r,e));else{if(!op(o))throw new Error("Invalid CanActivateChild guard");s=ld(o(r,e))}return s.pipe(Zu())})).pipe(Cp())));return bu(i).pipe(Cp())}class Ap{}class Tp{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Ip(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Wh),r=new jd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Od(r,n),o=new Vd(this.url,i);return this.inheritParamsAndData(o._root),bu(o)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=Ud(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=fd(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};n.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(),n.sort((e,t)=>e.value.outlet===Wh?-1:t.value.outlet===Wh?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(i){if(!(i instanceof Ap))throw i}if(this.noLeftoversInUrl(t,n,r))return[];throw new Ap}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new Ap;if((e.outlet||Wh)!==r)throw new Ap;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?sd(n).parameters:{};i=new jd(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Np(e),r,e.component,e,Pp(t),Rp(t)+n.length,Mp(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ap;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||Qh)(n,e,t);if(!r)throw new Ap;const i={};ad(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new jd(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Np(e),r,e.component,e,Pp(t),Rp(t)+o.length,Mp(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=Ip(t,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Od(i,e)]}if(0===a.length&&0===u.length)return[new Od(i,[])];const c=this.processSegment(a,l,u,Wh);return[new Od(i,c)]}}function Pp(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Rp(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Ip(e,t,n,r,i){if(n.length>0&&function(e,t,n){return r.some(n=>Op(e,t,n)&&Dp(n)!==Wh)}(e,n)){const i=new hd(t,function(e,t,n,r){const i={};i[Wh]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Dp(o)!==Wh){const n=new hd([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Dp(o)]=n}return i}(e,t,r,new hd(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return r.some(n=>Op(e,t,n))}(e,n)){const o=new hd(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(Op(e,n,a)&&!i[Dp(a)]){const n=new hd([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Dp(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new hd(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Op(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Dp(e){return e.outlet||Wh}function Np(e){return e.data||{}}function Mp(e){return e.resolve||{}}function Lp(e,t,n,r){const i=_p(e,t,r);return ld(i.resolve?i.resolve(t,n):i(t,n))}function Up(e){return function(t){return t.pipe(ec(t=>{const n=e(t);return n?q(n).pipe(j(()=>t)):q([t])}))}}class jp{}class Vp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const Bp=new xe("ROUTES");class Hp{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Xh(od(r.injector.get(Bp)).map(rd),r)}))}loadModuleFactory(e){return"string"==typeof e?q(this.loader.load(e)):ld(e()).pipe(z(e=>e instanceof Be?bu(e):q(this.compiler.compileModuleAsync(e))))}}class qp{}class zp{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Kp(e){throw e}function $p(e,t,n){return t.parse("/")}function Wp(e,t){return bu(null)}class Gp{constructor(e,t,n,r,i,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Kp,this.malformedUriErrorHandler=$p,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wp,afterPreactivation:Wp},this.urlHandlingStrategy=new zp,this.routeReuseStrategy=new Vp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Ve),this.console=i.get(wo);const l=i.get(jo);this.isNgZoneEnabled=l instanceof jo,this.resetConfig(a),this.currentUrlTree=new cd(new hd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hp(o,s,e=>this.triggerEvent(new jh(e)),e=>this.triggerEvent(new Vh(e))),this.routerState=Md(this.currentUrlTree,this.rootComponentType),this.transitions=new _u({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Pu(e=>0!==e.id),j(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),ec(e=>{let n=!1,r=!1;return bu(e).pipe(lc(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ec(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return bu(e).pipe(ec(e=>{const n=this.transitions.getValue();return t.next(new Ph(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Fu:[e]}),ec(e=>Promise.resolve(e)),function(e,t,n,r){return function(i){return i.pipe(ec(i=>(function(e,t,n,r,o){return new dp(e,t,n,i.extractedUrl,o).apply()})(e,t,n,0,r).pipe(j(e=>Object.assign({},i,{urlAfterRedirects:e})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),lc(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(z(o=>(function(e,t,n,r,i="emptyOnly",o="legacy"){return new Tp(e,t,n,r,i,o).recognize()})(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(j(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),lc(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),lc(e=>{const n=new Dh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new Ph(n,this.serializeUrl(r),i,o);t.next(a);const l=Md(r,this.rootComponentType).snapshot;return bu(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Fu}),Up(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),lc(e=>{const t=new Nh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),j(e=>Object.assign({},e,{guards:bp(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?bu(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return q(s).pipe(z(e=>(function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?bu(o.map(o=>{const s=_p(o,t,i);let a;if(function(e){return e&&op(e.canDeactivate)}(s))a=ld(s.canDeactivate(e,t,n,r));else{if(!op(s))throw new Error("Invalid CanDeactivate guard");a=ld(s(e,t,n,r))}return a.pipe(Zu())})).pipe(Cp()):bu(!0)})(e.component,e.route,n,t,r)),Zu(e=>!0!==e,!0))}(0,r,i,e).pipe(z(n=>n&&function(e){return"boolean"==typeof n}()?function(e,t,n,r){return q(o).pipe(ac(t=>q([xp(t.route.parent,r),Ep(t.route,r),kp(e,t.path,n),Fp(e,t.route,n)]).pipe(Tu(),Zu(e=>!0!==e,!0))),Zu(e=>!0!==e,!0))}(r,0,e,t):bu(n)),j(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),lc(e=>{if(sp(e.guardsResult)){const t=Zh(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),lc(e=>{const t=new Mh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Pu(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ih(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),Up(e=>{if(e.guards.canActivateChecks.length)return bu(e).pipe(lc(e=>{const t=new Lh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),function(e,t){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?q(i).pipe(ac(n=>(function(e,t,n,i){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return bu({});if(1===i.length){const o=i[0];return Lp(e[o],t,n,r).pipe(j(e=>({[o]:e})))}const o={};return q(i).pipe(z(i=>Lp(e[i],t,n,r).pipe(j(e=>(o[i]=e,e))))).pipe(zu(),j(()=>o))}(e._resolve,e,r,i).pipe(j(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,Ud(e,n).resolve),null)))})(n.route,0,e,t)),function(e,t){return arguments.length>=2?function(n){return b(ic(e,t),Nu(1),Bu(t))(n)}:function(t){return b(ic((t,n,r)=>e(t,n,r+1)),Nu(1))(t)}}((e,t)=>e),j(e=>n)):bu(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),lc(e=>{const t=new Uh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Up(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),j(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new Od(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new Ld(new _u((i=n.value).url),new _u(i.params),new _u(i.queryParams),new _u(i.fragment),new _u(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new Od(r,o)}}var i}(e,t._root,n?n._root:void 0);return new Nd(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),lc(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),np(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),lc({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new hc(e))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ih(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),Ku(n=>{if(r=!0,function(e){return n&&n[Yh]}()){const r=sp(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Ih(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new Oh(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(i){e.reject(i)}}return Fu}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ed(e),this.config=e.map(rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=t;tt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return $d(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Wd(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return ad(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Wd(n,t,r)}(n);if(o.toRoot())return $d(t.root,new hd([],{}),t,r,i);const s=function(e,n,r){if(e.isAbsolute)return new Gd(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Gd(r.snapshot._urlSegment,!0,0);const i=Kd(e.commands[0])?0:1;return function(t,n,o){let s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=e.numberOfDoubleDots;for(;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new Gd(s,!1,a-l)}()}(o,0,e),a=s.processChildren?Zd(s.segmentGroup,s.index,o.commands):Yd(s.segmentGroup,s.index,o.commands);return $d(s.segmentGroup,a,t,r,i)}(l,this.currentUrlTree,e,c,u)}navigateByUrl(e,t={skipLocationChange:!1}){tt()&&this.isNgZoneEnabled&&!jo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=sp(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(sp(e))return ud(this.currentUrlTree,e,t);const n=this.parseUrl(e);return ud(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Rh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Jp{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Rh&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){tt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Yp(this.skipLocationChange),replaceUrl:Yp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yp(this.preserveFragment)})}}function Yp(e){return""===e||!!e}class Zp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qp,this.attachRef=null}}class Qp{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Zp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Xp{constructor(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new uo,this.deactivateEvents=new uo,this.name=r||Wh,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ef(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class ef{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ld?this.route:e===Qp?this.childContexts:this.parent.get(e,t)}}class tf{}class nf{preload(e,t){return t().pipe(Ku(()=>bu(null)))}}class rf{preload(e,t){return bu(null)}}class of{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Hp(t,n,t=>e.triggerEvent(new jh(t)),t=>e.triggerEvent(new Vh(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pu(e=>e instanceof Rh),ac(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ve);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return q(n).pipe(G(),j(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class sf{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Rh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kh&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Kh(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const af=new xe("ROUTER_CONFIGURATION"),lf=new xe("ROUTER_FORROOT_GUARD"),uf=[rl,{provide:gd,useClass:md},{provide:Gp,useFactory:mf,deps:[os,gd,Qp,rl,Ht,as,To,Bp,af,[qp,new le],[jp,new le]]},Qp,{provide:Ld,useFactory:vf,deps:[Gp]},{provide:as,useClass:ds},of,rf,nf,{provide:af,useValue:{enableTracing:!1}}];function cf(){return new es("Router",Gp)}class hf{constructor(e,t){}static forRoot(e,t){return{ngModule:hf,providers:[uf,gf(e),{provide:lf,useFactory:ff,deps:[[Gp,new le,new ce]]},{provide:af,useValue:t||{}},{provide:tl,useFactory:pf,deps:[Xa,[new ae(nl),new le],af]},{provide:sf,useFactory:df,deps:[Gp,vu,af]},{provide:tf,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:rf},{provide:es,multi:!0,useFactory:cf},[yf,{provide:po,multi:!0,useFactory:bf,deps:[yf]},{provide:wf,useFactory:_f,deps:[yf]},{provide:_o,multi:!0,useExisting:wf}]]}}static forChild(e){return{ngModule:hf,providers:[gf(e)]}}}function df(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new sf(e,t,n)}function pf(e,t,n={}){return n.useHash?new ol(e,t):new sl(e,t)}function ff(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gf(e){return[{provide:bn,multi:!0,useValue:e},{provide:Bp,multi:!0,useValue:e}]}function mf(e,t,n,r,i,o,s,a,l={},u,c){const h=new Gp(null,t,n,r,i,o,s,od(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=fc();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function vf(e){return e.routerState.root}class yf{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(el,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Gp),r=this.injector.get(af);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?bu(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(af),n=this.injector.get(of),r=this.injector.get(sf),i=this.injector.get(Gp),o=this.injector.get(os);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function bf(e){return e.appInitializer.bind(e)}function _f(e){return e.bootstrapListener.bind(e)}const wf=new xe("Router Initializer");var Sf=Pr({encapsulation:2,styles:[],data:{}});function Cf(e){return zs(0,[(e()(),ks(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,Xp,[Qp,hr,Nn,[8,null],Tt],null,null)],function(e,t){e(t,1,0)},null)}function Ef(e){return zs(0,[(e()(),ks(0,0,null,null,1,"ng-component",[],null,null,null,Cf,Sf)),Li(1,49152,null,0,$h,[],null,null)],null,null)}var xf,Ff=pi("ng-component",$h,Ef,{},{},[]),kf=function(){return function(){var e=this;this.direction="down",this.isOpenChange=new uo,this.isDisabledChange=new uo,this.toggleClick=new uo,this.dropdownMenu=new Promise(function(t){e.resolveDropdownMenu=t})}}(),Af="undefined"!=typeof window&&window||{};function Tf(){return void 0===Af||(void 0===Af.__theme?xf?"bs3"===xf:"bs3"===(xf=function(){if("undefined"==typeof document)return null;var e=document.createElement("span");e.innerText="test bs version",document.body.appendChild(e),e.classList.add("d-none");var t=e.getBoundingClientRect();return document.body.removeChild(e),t&&0===t.top?"bs4":"bs3"}()):"bs4"!==Af.__theme)}var Pf=function(){function e(e,t,n,r){var i=this;this._state=e,this.cd=t,this._renderer=n,this.isOpen=!1,this._subscription=e.isOpenChange.subscribe(function(e){i.isOpen=e;var t=r.nativeElement.querySelector(".dropdown-menu");t&&!Tf()&&(i._renderer.addClass(t,"show"),t.classList.contains("dropdown-menu-right")&&(i._renderer.setStyle(t,"left","auto"),i._renderer.setStyle(t,"right","0")),"up"===i.direction&&(i._renderer.setStyle(t,"top","auto"),i._renderer.setStyle(t,"transform","translateY(-101%)"))),i.cd.markForCheck(),i.cd.detectChanges()})}return Object.defineProperty(e.prototype,"direction",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},e}(),Rf=Pr({encapsulation:2,styles:[],data:{}});function If(e){return zs(2,[(e()(),ks(0,0,null,null,1,"div",[],[[2,"dropup",null],[2,"dropdown",null],[2,"show",null],[2,"open",null]],null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}}],null,function(e,t){var n=t.component;e(t,0,0,"up"===n.direction,"down"===n.direction,n.isOpen,n.isOpen)})}function Of(e){return zs(0,[(e()(),ks(0,0,null,null,1,"bs-dropdown-container",[["style","display:block;position: absolute;"]],null,null,null,If,Rf)),Li(1,180224,null,0,Pf,[kf,Tt,zn,jn],null,null)],null,null)}var Df=pi("bs-dropdown-container",Pf,Of,{},{},["*"]);function Nf(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})}var Mf=n("3Rfw");const Lf="TestCore5",Uf={ReturnUrl:"returnUrl",Message:"message"},jf={LogoutCallback:"logout-callback",Logout:"logout",LoggedOut:"logged-out"},Vf={Login:"login",LoginCallback:"login-callback",LoginFailed:"login-failed",Profile:"profile",Register:"register"},Bf=function(){var e={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:`/_configuration/${Lf}`,Login:`authentication/${Vf.Login}`,LoginFailed:`authentication/${Vf.LoginFailed}`,LoginCallback:`authentication/${Vf.LoginCallback}`,Register:`authentication/${Vf.Register}`,Profile:`authentication/${Vf.Profile}`,LogOut:`authentication/${jf.Logout}`,LoggedOut:`authentication/${jf.LoggedOut}`,LogOutCallback:`authentication/${jf.LogoutCallback}`,LoginPathComponents:[],LoginFailedPathComponents:[],LoginCallbackPathComponents:[],RegisterPathComponents:[],ProfilePathComponents:[],LogOutPathComponents:[],LoggedOutPathComponents:[],LogOutCallbackPathComponents:[],IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"};return Object.assign({},e,{LoginPathComponents:e.Login.split("/"),LoginFailedPathComponents:e.LoginFailed.split("/"),RegisterPathComponents:e.Register.split("/"),ProfilePathComponents:e.Profile.split("/"),LogOutPathComponents:e.LogOut.split("/"),LoggedOutPathComponents:e.LoggedOut.split("/"),LogOutCallbackPathComponents:e.LogOutCallback.split("/")})}();var Hf=function(e){return e[e.Success=0]="Success",e[e.Redirect=1]="Redirect",e[e.Fail=2]="Fail",e}({});let qf=(()=>{class e{constructor(){this.popUpDisabled=!0,this.userSubject=new _u(null)}isAuthenticated(){return this.getUser().pipe(j(e=>!!e))}getUser(){return rc(this.userSubject.pipe(Gu(1),Pu(e=>!!e)),this.getUserFromStorage().pipe(Pu(e=>!!e),lc(e=>this.userSubject.next(e))),this.userSubject.asObservable())}getAccessToken(){return q(this.ensureUserManagerInitialized()).pipe(z(()=>q(this.userManager.getUser())),j(e=>e&&e.access_token))}signIn(e){return Nf(this,void 0,void 0,function*(){yield this.ensureUserManagerInitialized();let t=null;try{return t=yield this.userManager.signinSilent(this.createArguments()),this.userSubject.next(t.profile),this.success(e)}catch(n){console.log("Silent authentication error: ",n);try{if(this.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return t=yield this.userManager.signinPopup(this.createArguments()),this.userSubject.next(t.profile),this.success(e)}catch(r){if("Popup window closed"===r.message)return this.error("The user closed the window.");this.popUpDisabled||console.log("Popup authentication error: ",r);try{return yield this.userManager.signinRedirect(this.createArguments(e)),this.redirect()}catch(i){return console.log("Redirect authentication error: ",i),this.error(i)}}}})}completeSignIn(e){return Nf(this,void 0,void 0,function*(){try{yield this.ensureUserManagerInitialized();const n=yield this.userManager.signinCallback(e);return this.userSubject.next(n&&n.profile),this.success(n&&n.state)}catch(t){return console.log("There was an error signing in: ",t),this.error("There was an error signing in.")}})}signOut(e){return Nf(this,void 0,void 0,function*(){try{if(this.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return yield this.ensureUserManagerInitialized(),yield this.userManager.signoutPopup(this.createArguments()),this.userSubject.next(null),this.success(e)}catch(t){console.log("Popup signout error: ",t);try{return yield this.userManager.signoutRedirect(this.createArguments(e)),this.redirect()}catch(n){return console.log("Redirect signout error: ",t),this.error(n)}}})}completeSignOut(e){return Nf(this,void 0,void 0,function*(){yield this.ensureUserManagerInitialized();try{const n=yield this.userManager.signoutCallback(e);return this.userSubject.next(null),this.success(n&&n.data)}catch(t){return console.log(`There was an error trying to log out '${t}'.`),this.error(t)}})}createArguments(e){return{useReplaceToNavigate:!0,data:e}}error(e){return{status:Hf.Fail,message:e}}success(e){return{status:Hf.Success,state:e}}redirect(){return{status:Hf.Redirect}}ensureUserManagerInitialized(){return Nf(this,void 0,void 0,function*(){if(void 0!==this.userManager)return;const e=yield fetch(Bf.ApiAuthorizationClientConfigurationUrl);if(!e.ok)throw new Error(`Could not load settings for '${Lf}'`);const t=yield e.json();t.automaticSilentRenew=!0,t.includeIdTokenInSilentRenew=!0,this.userManager=new Mf.UserManager(t),this.userManager.events.addUserSignedOut(()=>Nf(this,void 0,void 0,function*(){yield this.userManager.removeUser(),this.userSubject.next(null)}))})}getUserFromStorage(){return q(this.ensureUserManagerInitialized()).pipe(z(()=>this.userManager.getUser()),j(e=>e&&e.profile))}}return e.ngInjectableDef=pe({factory:function(){return new e},token:e,providedIn:"root"}),e})();class zf{constructor(e,t,n){this.authorizeService=e,this.activatedRoute=t,this.router=n,this.message=new _u(null)}ngOnInit(){return Nf(this,void 0,void 0,function*(){const e=this.activatedRoute.snapshot.url[1];switch(e.path){case Vf.Login:yield this.login(this.getReturnUrl());break;case Vf.LoginCallback:yield this.processLoginCallback();break;case Vf.LoginFailed:const t=this.activatedRoute.snapshot.queryParamMap.get(Uf.Message);this.message.next(t);break;case Vf.Profile:this.redirectToProfile();break;case Vf.Register:this.redirectToRegister();break;default:throw new Error(`Invalid action '${e}'`)}})}login(e){return Nf(this,void 0,void 0,function*(){const t={returnUrl:e},n=yield this.authorizeService.signIn(t);switch(this.message.next(void 0),n.status){case Hf.Redirect:break;case Hf.Success:yield this.navigateToReturnUrl(e);break;case Hf.Fail:yield this.router.navigate(Bf.LoginFailedPathComponents,{queryParams:{[Uf.Message]:n.message}});break;default:throw new Error(`Invalid status result ${n.status}.`)}})}processLoginCallback(){return Nf(this,void 0,void 0,function*(){const e=window.location.href,t=yield this.authorizeService.completeSignIn(e);switch(t.status){case Hf.Redirect:throw new Error("Should not redirect.");case Hf.Success:yield this.navigateToReturnUrl(this.getReturnUrl(t.state));break;case Hf.Fail:this.message.next(t.message)}})}redirectToRegister(){this.redirectToApiAuthorizationPath(`${Bf.IdentityRegisterPath}?returnUrl=${encodeURI("/"+Bf.Login)}`)}redirectToProfile(){this.redirectToApiAuthorizationPath(Bf.IdentityManagePath)}navigateToReturnUrl(e){return Nf(this,void 0,void 0,function*(){yield this.router.navigateByUrl(e,{replaceUrl:!0})})}getReturnUrl(e){const t=this.activatedRoute.snapshot.queryParams.returnUrl;if(t&&!t.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(t))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||Bf.DefaultLoginRedirectPath}redirectToApiAuthorizationPath(e){const t=`${window.location.origin}${e}`;window.location.replace(t)}}var Kf=Pr({encapsulation:0,styles:[[".loading-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;color:#fafafa;display:flex;flex-direction:column;justify-content:center;align-items:center}div.loading-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px}div.loading-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin-top:12px;position:relative;height:8px;width:160px;border-radius:4px;background:#fafafa;overflow:hidden}div.loading-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]::after{content:'';position:absolute;background:linear-gradient(45deg,#1ab394,#94d7f8);width:80px;height:10px;left:-20px;border-radius:2px;-webkit-animation:1.8s linear infinite progressAnimation;animation:1.8s linear infinite progressAnimation}@-webkit-keyframes progressAnimation{50%{left:100px}}@keyframes progressAnimation{50%{left:100px}}"]],data:{}});function $f(e){return zs(0,[(e()(),ks(0,0,null,null,7,"div",[["class","loading-container"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,0,"img",[["src","assets/images/logo_palma2_white.png"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,0,"div",[["class","progress-bar"]],null,null,null,null,null)),(e()(),ks(3,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Por Favor Espere..."])),(e()(),ks(5,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Bs(6,null,["",""])),Ui(131072,hu,[Tt])],null,function(e,t){var n=t.component;e(t,6,0,kr(t,6,0,Ei(t,7).transform(n.message)))})}function Wf(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-login",[],null,null,null,$f,Kf)),Li(1,114688,null,0,zf,[qf,Ld,Gp],null,null)],function(e,t){e(t,1,0)},null)}var Gf=pi("app-login",zf,Wf,{},{},[]);class Jf{constructor(e,t,n){this.authorizeService=e,this.activatedRoute=t,this.router=n,this.message=new _u(null)}ngOnInit(){return Nf(this,void 0,void 0,function*(){const e=this.activatedRoute.snapshot.url[1];switch(e.path){case jf.Logout:window.history.state.local?yield this.logout(this.getReturnUrl()):this.message.next("The logout was not initiated from within the page.");break;case jf.LogoutCallback:yield this.processLogoutCallback();break;case jf.LoggedOut:this.router.navigate(["/"],{state:{local:!0}});break;default:throw new Error(`Invalid action '${e}'`)}})}logout(e){return Nf(this,void 0,void 0,function*(){const t={returnUrl:e};if(yield this.authorizeService.isAuthenticated().pipe(Gu(1)).toPromise()){const n=yield this.authorizeService.signOut(t);switch(n.status){case Hf.Redirect:break;case Hf.Success:yield this.navigateToReturnUrl(e);break;case Hf.Fail:this.message.next(n.message);break;default:throw new Error("Invalid authentication result status.")}}else this.message.next("You successfully logged out!")})}processLogoutCallback(){return Nf(this,void 0,void 0,function*(){const e=window.location.href,t=yield this.authorizeService.completeSignOut(e);switch(t.status){case Hf.Redirect:throw new Error("Should not redirect.");case Hf.Success:yield this.navigateToReturnUrl(this.getReturnUrl(t.state));break;case Hf.Fail:this.message.next(t.message);break;default:throw new Error("Invalid authentication result status.")}})}navigateToReturnUrl(e){return Nf(this,void 0,void 0,function*(){yield this.router.navigateByUrl(e,{replaceUrl:!0})})}getReturnUrl(e){const t=this.activatedRoute.snapshot.queryParams.returnUrl;if(t&&!t.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(t))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||Bf.LoggedOut}}var Yf=Pr({encapsulation:0,styles:[[""]],data:{}});function Zf(e){return zs(0,[(e()(),ks(0,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Bs(1,null,["",""])),Ui(131072,hu,[Tt])],null,function(e,t){var n=t.component;e(t,1,0,kr(t,1,0,Ei(t,2).transform(n.message)))})}function Qf(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-logout",[],null,null,null,Zf,Yf)),Li(1,114688,null,0,Jf,[qf,Ld,Gp],null,null)],function(e,t){e(t,1,0)},null)}var Xf=pi("app-logout",Jf,Qf,{},{},[]),eg=function(){function e(e,t){var n=this;this._state=e,this._element=t,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(function(e){return n.isOpen=e})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(e){return n.isDisabled=e||null}))}return e.prototype.onClick=function(){this.isDisabled||this._state.toggleClick.emit(!0)},e.prototype.onDocumentClick=function(e){this._state.autoClose&&2!==e.button&&!this._element.nativeElement.contains(e.target)&&this._state.toggleClick.emit(!1)},e.prototype.onEsc=function(){this._state.autoClose&&this._state.toggleClick.emit(!1)},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++)t[e].unsubscribe()},e}();w.prototype.filter=function(e,t){return Pu(e,t)(this)};var tg=function(){function e(e,t){this.open=e,this.close=t||e}return e.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},e}(),ng={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},rg=function(){return function(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}(),ig=function(){function e(e,t,n,r,i,o,s,a){this._viewContainerRef=e,this._renderer=t,this._elementRef=n,this._injector=r,this._componentFactoryResolver=i,this._ngZone=o,this._applicationRef=s,this._posService=a,this.onBeforeShow=new uo,this.onShown=new uo,this.onBeforeHide=new uo,this.onHidden=new uo,this._providers=[],this._isHiding=!1,this._listenOpts={},this._globalListener=Function.prototype}return Object.defineProperty(e.prototype,"isShown",{get:function(){return!this._isHiding&&!!this._componentRef},enumerable:!0,configurable:!0}),e.prototype.attach=function(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this},e.prototype.to=function(e){return this.container=e||this.container,this},e.prototype.position=function(e){return this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this},e.prototype.provide=function(e){return this._providers.push(e),this},e.prototype.show=function(e){if(void 0===e&&(e={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);var t=vn.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof jn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"body"===this.container&&"undefined"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef},e.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var e=this._componentRef.location.nativeElement;return e.parentNode.removeChild(e),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this},e.prototype.toggle=function(){this.isShown?this.hide():this.show()},e.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},e.prototype.listen=function(e){var t=this;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,e.target=e.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return e.hide?e.hide():void t.hide()},r=this._listenOpts.show=function(n){e.show?e.show(n):t.show(n),n()};return this._unregisterListenersFn=function(e,t){var n=function(e,n){void 0===n&&(n=ng);var r=(t.triggers||"").trim();if(0===r.length)return[];var i=r.split(/\s+/).map(function(e){return e.split(":")}).map(function(e){var t=n[e[0]]||e;return new tg(t[0],t[1])}),o=i.filter(function(e){return e.isManual()});if(o.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===o.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;var i=[],o=[],s=function(){o.forEach(function(e){return i.push(e())}),o.length=0};return n.forEach(function(n){var a=n.open===n.close,l=a?t.toggle:t.show;a||o.push(function(){return e.listen(r,n.close,t.hide)}),i.push(e.listen(r,n.open,function(){return l(s)}))}),function(){i.forEach(function(e){return e()})}}(this._renderer,{target:e.target,triggers:e.triggers,show:r,hide:n,toggle:function(e){t.isShown?n():r(e)}}),this},e.prototype._removeGlobalListener=function(){this._globalListener&&(this._globalListener(),this._globalListener=null)},e.prototype.attachInline=function(e,t){return this._inlineViewRef=e.createEmbeddedView(t),this},e.prototype._registerOutsideClick=function(){var e=this;if(this._componentRef&&this._componentRef.location&&this._listenOpts.outsideClick){var t=this._componentRef.location.nativeElement;setTimeout(function(){var n;e._globalListener=(n={targets:[t,e._elementRef.nativeElement],outsideClick:e._listenOpts.outsideClick,hide:function(){return e._listenOpts.hide()}}).outsideClick?e._renderer.listen("document","click",function(e){n.target&&n.target.contains(e.target)||n.targets&&n.targets.some(function(t){return t.contains(e.target)})||n.hide()}):Function.prototype})}},e.prototype.getInnerComponent=function(){return this._innerComponent},e.prototype._subscribePositioning=function(){var e=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){e._componentRef&&e._posService.position({element:e._componentRef.location,target:e._elementRef,attachment:e.attachment,appendToBody:"body"===e.container})}))},e.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},e.prototype._getContentRef=function(e,t,n){if(!e)return new rg([]);if(e instanceof ur){if(this._viewContainerRef){var r=this._viewContainerRef.createEmbeddedView(e,t);return r.markForCheck(),new rg([r.rootNodes],r)}var i=e.createEmbeddedView({});return this._applicationRef.attachView(i),new rg([i.rootNodes],i)}if("function"==typeof e){var o=this._componentFactoryResolver.resolveComponentFactory(e),s=vn.resolveAndCreate(this._providers.slice(),this._injector),a=o.create(s);return Object.assign(a.instance,n),this._applicationRef.attachView(a.hostView),new rg([[a.location.nativeElement]],a.hostView,a)}return new rg([[this._renderer.createText(""+e)]])},e}(),og=new(function(){function e(){}return e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position")){var i=e.getBoundingClientRect();n={width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}else{var o=this.offsetParent(e);n=this.offset(e,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},e.prototype.positionElements=function(e,t,n,r){var i=r?this.offset(e,!1):this.position(e,!1),o=this.getAllStyles(t),s={left:i.left,center:i.left+i.width/2-t.offsetWidth/2,right:i.left+i.width},a={top:i.top,center:i.top+i.height/2-t.offsetHeight/2,bottom:i.top+i.height},l=t.getBoundingClientRect(),u=n.split(" ")[0]||"top",c=n.split(" ")[1]||"center",h={height:l.height||t.offsetHeight,width:l.width||t.offsetWidth,top:0,bottom:l.height||t.offsetHeight,left:0,right:l.width||t.offsetWidth};if("auto"===u){var d=this.autoPosition(h,i,t,c);d||(d=this.autoPosition(h,i,t)),d&&(u=d),t.classList.add(u)}switch(u){case"top":h.top=i.top-(t.offsetHeight+parseFloat(o.marginBottom)),h.bottom+=i.top-t.offsetHeight,h.left=s[c],h.right+=s[c];break;case"bottom":h.top=a[u],h.bottom+=a[u],h.left=s[c],h.right+=s[c];break;case"left":h.top=a[c],h.bottom+=a[c],h.left=i.left-(t.offsetWidth+parseFloat(o.marginRight)),h.right+=i.left-t.offsetWidth;break;case"right":h.top=a[c],h.bottom+=a[c],h.left=s[u],h.right+=s[u]}return h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right),h},e.prototype.autoPosition=function(e,t,n,r){return(!r||"right"===r)&&e.left+t.left-n.offsetWidth<0?"right":(!r||"top"===r)&&e.bottom+t.bottom+n.offsetHeight>window.innerHeight?"top":(!r||"bottom"===r)&&e.top+t.top-n.offsetHeight<0?"bottom":(!r||"left"===r)&&e.right+t.right+n.offsetWidth>window.innerWidth?"left":null},e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e}()),sg=function(){function e(){}return e.prototype.position=function(e){var t=e.element,n=e.attachment,r=e.appendToBody;!function(e,t,r,i){var o=og.positionElements(e,t,n,i);t.style.top=o.top+"px",t.style.left=o.left+"px"}(ag(e.target),ag(t),0,r)},e}();function ag(e){return"string"==typeof e?document.querySelector(e):e instanceof jn?e.nativeElement:e}var lg=function(){function e(e,t,n,r,i){this._componentFactoryResolver=e,this._ngZone=t,this._injector=n,this._posService=r,this._applicationRef=i}return e.prototype.createLoader=function(e,t,n){return new ig(t,n,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},e}(),ug=function(){return function(){this.autoClose=!0}}(),cg=function(){function e(e,t,n,r,i,o){this._elementRef=e,this._renderer=t,this._viewContainerRef=n,this._cis=r,this._config=i,this._state=o,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:kf,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object.defineProperty(e.prototype,"autoClose",{get:function(){return this._state.autoClose},set:function(e){this._state.autoClose=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisabled",{get:function(){return this._isDisabled},set:function(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(e){e?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBs4",{get:function(){return!Tf()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_showInline",{get:function(){return!this.container},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return e.show()}}),this._subscriptions.push(this._state.toggleClick.subscribe(function(t){return e.toggle(t)})),this._subscriptions.push(this._state.isDisabledChange.filter(function(e){return e}).subscribe(function(t){return e.hide()})))},e.prototype.show=function(){var e=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(function(t){e._dropdown.attachInline(t.viewContainer,t.templateRef),e._inlinedMenu=e._dropdown._inlineViewRef,e.addBs4Polyfills()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),void this._state.isOpenChange.emit(!0)):void this._state.dropdownMenu.then(function(t){var n=e.dropup||void 0!==e.dropup&&e.dropup;e._state.direction=n?"up":"down";var r=e.placement||(n?"top left":"bottom left");e._dropdown.attach(Pf).to(e.container).position({attachment:r}).show({content:t.templateRef,placement:r}),e._state.isOpenChange.emit(!0)}).catch()},e.prototype.hide=function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))},e.prototype.toggle=function(e){return this.isOpen||!e?this.hide():this.show()},e.prototype.ngOnDestroy=function(){for(var e=0,t=this._subscriptions;e<t.length;e++)t[e].unsubscribe();this._dropdown.dispose()},e.prototype.addBs4Polyfills=function(){Tf()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())},e.prototype.addShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.removeShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")},e.prototype.checkRightAlignment=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}},e.prototype.addDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"))},e.prototype.removeDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"))},e}(),hg=function(){return function(e,t,n){e.resolveDropdownMenu({templateRef:n,viewContainer:t})}}();n("Onkx");class dg{}class pg{}class fg{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof fg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new fg;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fg?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===i.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class gg{encodeKey(e){return mg(e)}encodeValue(e){return mg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function mg(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class vg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new vg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function yg(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function bg(e){return"undefined"!=typeof Blob&&e instanceof Blob}function _g(e){return"undefined"!=typeof FormData&&e instanceof FormData}class wg{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new fg),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new vg,this.urlWithParams=t}serializeBody(){return null===this.body?null:yg(this.body)||bg(this.body)||_g(this.body)||"string"==typeof this.body?this.body:this.body instanceof vg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:_g(this.body)?null:bg(this.body)?this.body.type||null:yg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new wg(t,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const Sg=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Cg{constructor(e,t=200,n="OK"){this.headers=e.headers||new fg,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Eg extends Cg{constructor(e={}){super(e),this.type=Sg.ResponseHeader}clone(e={}){return new Eg({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xg extends Cg{constructor(e={}){super(e),this.type=Sg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fg extends Cg{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kg(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Ag{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof wg)r=e;else{let i=void 0;i=n.headers instanceof fg?n.headers:new fg(n.headers);let o=void 0;n.params&&(o=n.params instanceof vg?n.params:new vg({fromObject:n.params})),r=new wg(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=bu(r).pipe(ac(e=>this.handler.handle(e)));if(e instanceof wg||"events"===n.observe)return i;const o=i.pipe(Pu(e=>e instanceof xg));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(j(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(j(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(j(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new vg).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,kg(n,t))}post(e,t,n={}){return this.request("POST",e,kg(n,t))}put(e,t,n={}){return this.request("PUT",e,kg(n,t))}}class Tg{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Pg=new xe("HTTP_INTERCEPTORS");class Rg{intercept(e,t){return t.handle(e)}}const Ig=/^\)\]\}',?\n/;class Og{}class Dg{constructor(){}build(){return new XMLHttpRequest}}class Ng{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new fg(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Eg({headers:o,status:t,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Ig,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new xg({body:l,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new Fg({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new Fg({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const u=r=>{l||(t.next(o()),l=!0);let i={type:Sg.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},c=e=>{let n={type:Sg.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),t.next({type:Sg.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Mg=new xe("XSRF_COOKIE_NAME"),Lg=new xe("XSRF_HEADER_NAME");class Ug{}class jg{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Vg{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}class Bg{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Pg,[]);this.chain=e.reduceRight((e,t)=>new Tg(e,t),this.backend)}return this.chain.handle(e)}}class Hg{static disable(){return{ngModule:Hg,providers:[{provide:Vg,useClass:Rg}]}}static withOptions(e={}){return{ngModule:Hg,providers:[e.cookieName?{provide:Mg,useValue:e.cookieName}:[],e.headerName?{provide:Lg,useValue:e.headerName}:[]]}}}class qg{}let zg=(()=>{class e{constructor(e){this._http=e}getTercero(e){return this._http.get(`api/Tercero/Identificacion/${e}`)}getTerceroPorCorreo(e){return this._http.get(`api/Tercero/Correo/${e}`)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ag))},token:e,providedIn:"root"}),e})(),Kg=(()=>{class e{constructor(e){this._http=e}getUserRoles(e){return this._http.get(`api/Account/User/${e}/Roles`)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ag))},token:e,providedIn:"root"}),e})();class $g{constructor(e,t,n,r){this.router=e,this.authorizeService=t,this.terceroService=n,this.accountService=r,console.log("Constructor"),this.verificarSesion(),this.buscarUsuario()}ngAfterViewInit(){jQuery("#side-menu").metisMenu(),jQuery("body").hasClass("fixed-sidebar")&&jQuery(".sidebar-collapse").slimscroll({height:"100%"})}activeRoute(e){return this.router.url.indexOf(e)>-1}verificarSesion(){this.authorizeService.isAuthenticated().subscribe(e=>{this.estaAutenticado=e})}buscarUsuario(){this.authorizeService.getUser().subscribe(e=>{this.user=e,this.user&&null!==this.user.name&&(this.buscarTerceroPorCorreo(this.user.name),this.buscarRolesUsuarios(this.user.name))})}buscarTerceroPorCorreo(e){this.terceroService.getTerceroPorCorreo(e).subscribe(e=>{this.tercero=e})}buscarRolesUsuarios(e){this.accountService.getUserRoles(e).subscribe(e=>{this.roles=e,this.roles.filter(e=>"Due\xf1o"===e.name).length>0&&(this.nombreRolGeneral="Due\xf1o"),this.roles.filter(e=>"Administrador"===e.name).length>0&&(this.nombreRolGeneral="Administrador"),this.roles.filter(e=>"Operario"===e.name).length>0&&(this.nombreRolGeneral="Operario")})}}var Wg=Pr({encapsulation:2,styles:[],data:{}});function Gg(e){return zs(0,[(e()(),ks(0,0,null,null,7,"a",[["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,1).onClick()&&r),"document:click"===t&&(r=!1!==Ei(e,1).onDocumentClick(n)&&r),"keyup.esc"===t&&(r=!1!==Ei(e,1).onEsc()&&r),r},null,null)),Li(1,147456,null,0,eg,[kf,jn],null,null),(e()(),ks(2,0,null,null,2,"span",[["class","block m-t-xs"]],null,null,null,null,null)),(e()(),ks(3,0,null,null,1,"strong",[["class","font-bold"]],null,null,null,null,null)),(e()(),Bs(4,null,[""," ",""])),(e()(),ks(5,0,null,null,2,"span",[["class","text-muted text-xs block"]],null,null,null,null,null)),(e()(),Bs(6,null,[""," "])),(e()(),ks(7,0,null,null,0,"b",[["class","caret"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,!0,Ei(t,1).isDisabled,Ei(t,1).isOpen),e(t,4,0,n.tercero.nombres,n.tercero.apellidos),e(t,6,0,n.nombreRolGeneral)})}function Jg(e){return zs(0,[(e()(),ks(0,0,null,null,3,"ul",[["class","animated fadeInRight dropdown-menu"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),ks(2,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Cambiar contrase\xf1a"]))],null,null)}function Yg(e){return zs(0,[(e()(),ks(0,0,null,null,10,"li",[["class","nav-header"]],null,null,null,null,null)),(e()(),ks(1,16777216,null,null,7,"div",[["class","profile-element"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),ji(512,null,kf,kf,[]),Li(3,212992,null,0,cg,[jn,zn,hr,lg,ug,kf],null,null),(e()(),ks(4,0,null,null,0,"img",[["alt","image"],["class","img-circle"],["src","assets/images/user_default_2.png"]],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Gg)),Li(6,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,Jg)),Li(8,16384,null,0,hg,[kf,hr,ur],null,null),(e()(),ks(9,0,null,null,1,"div",[["class","logo-element"]],null,null,null,null,null)),(e()(),ks(10,0,null,null,0,"img",[["alt","image"],["src","assets/images/logo_palma_white.png"],["style","width:35px"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,3,0),e(t,6,0,null!=n.tercero)},function(e,t){e(t,1,0,Ei(t,3).dropup,Ei(t,3).isOpen,Ei(t,3).isOpen&&Ei(t,3).isBs4)})}function Zg(e){return zs(0,[(e()(),ks(0,0,null,null,11,"li",[["class","nav-header"]],null,null,null,null,null)),(e()(),ks(1,16777216,null,null,8,"div",[["class","profile-element"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),ji(512,null,kf,kf,[]),Li(3,212992,null,0,cg,[jn,zn,hr,lg,ug,kf],null,null),(e()(),ks(4,0,null,null,0,"img",[["alt","image"],["class","img-circle"],["src","assets/images/user_default_2.png"]],null,null,null,null,null)),(e()(),ks(5,0,null,null,4,"a",[["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,6).onClick()&&r),"document:click"===t&&(r=!1!==Ei(e,6).onDocumentClick(n)&&r),"keyup.esc"===t&&(r=!1!==Ei(e,6).onEsc()&&r),r},null,null)),Li(6,147456,null,0,eg,[kf,jn],null,null),(e()(),ks(7,0,null,null,2,"span",[["class","block m-t-xs"]],null,null,null,null,null)),(e()(),ks(8,0,null,null,1,"strong",[["class","font-bold"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Sin autenticar"])),(e()(),ks(10,0,null,null,1,"div",[["class","logo-element"]],null,null,null,null,null)),(e()(),ks(11,0,null,null,0,"img",[["alt","image"],["src","assets/images/logo_palma_white.png"],["style","width:35px"]],null,null,null,null,null))],function(e,t){e(t,3,0)},function(e,t){e(t,1,0,Ei(t,3).dropup,Ei(t,3).isOpen,Ei(t,3).isOpen&&Ei(t,3).isBs4),e(t,5,0,!0,Ei(t,6).isDisabled,Ei(t,6).isOpen)})}function Qg(e){return zs(0,[(e()(),ks(0,0,null,null,9,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(2,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(3,{active:0}),(e()(),ks(4,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(5,671744,null,0,Jp,[Gp,Ld,tl],{routerLink:[0,"routerLink"]},null),Us(6,1),(e()(),ks(7,0,null,null,0,"i",[["class","fa fa-home"]],null,null,null,null,null)),(e()(),ks(8,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Inicio"]))],function(e,t){var n=e(t,3,0,t.component.activeRoute("starter"));e(t,2,0,n);var r=e(t,6,0,"/starterview");e(t,5,0,r)},function(e,t){e(t,4,0,Ei(t,5).target,Ei(t,5).href)})}function Xg(e){return zs(0,[(e()(),ks(0,0,null,null,20,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(2,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(3,{active:0}),(e()(),ks(4,0,null,null,4,"a",[],null,null,null,null,null)),(e()(),ks(5,0,null,null,0,"i",[["class","fa fa-archive"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Usuarios"])),(e()(),ks(8,0,null,null,0,"span",[["class","fa arrow"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,11,"ul",[["class","nav nav-second-level collapse"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(11,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(12,{in:0}),(e()(),ks(13,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(15,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(16,{active:0}),(e()(),ks(17,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(18,671744,null,0,Jp,[Gp,Ld,tl],{routerLink:[0,"routerLink"]},null),Us(19,1),(e()(),Bs(-1,null,["Gesti\xf3n"]))],function(e,t){var n=t.component,r=e(t,3,0,n.activeRoute("usuarios"));e(t,2,0,r);var i=e(t,12,0,n.activeRoute("usuarios"));e(t,11,0,"nav nav-second-level collapse",i);var o=e(t,16,0,n.activeRoute("gestion-usuarios"));e(t,15,0,o);var s=e(t,19,0,"/usuarios/gestion");e(t,18,0,s)},function(e,t){e(t,17,0,Ei(t,18).target,Ei(t,18).href)})}function em(e){return zs(0,[(e()(),ks(0,0,null,null,20,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(2,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(3,{active:0}),(e()(),ks(4,0,null,null,4,"a",[],null,null,null,null,null)),(e()(),ks(5,0,null,null,0,"i",[["class","fa fa-archive"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Cultivos"])),(e()(),ks(8,0,null,null,0,"span",[["class","fa arrow"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,11,"ul",[["class","nav nav-second-level collapse"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(11,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(12,{in:0}),(e()(),ks(13,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(15,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(16,{active:0}),(e()(),ks(17,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(18,671744,null,0,Jp,[Gp,Ld,tl],{routerLink:[0,"routerLink"]},null),Us(19,1),(e()(),Bs(-1,null,["Gesti\xf3n"]))],function(e,t){var n=t.component,r=e(t,3,0,n.activeRoute("cultivos"));e(t,2,0,r);var i=e(t,12,0,n.activeRoute("cultivos"));e(t,11,0,"nav nav-second-level collapse",i);var o=e(t,16,0,n.activeRoute("gestion-cultivos"));e(t,15,0,o);var s=e(t,19,0,"/cultivos/gestion");e(t,18,0,s)},function(e,t){e(t,17,0,Ei(t,18).target,Ei(t,18).href)})}function tm(e){return zs(0,[(e()(),ks(0,0,null,null,9,"li",[],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(2,278528,null,0,Xl,[Yl],{ngClass:[0,"ngClass"]},null),js(3,{active:0}),(e()(),ks(4,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==Ei(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(5,671744,null,0,Jp,[Gp,Ld,tl],{routerLink:[0,"routerLink"]},null),Us(6,1),(e()(),ks(7,0,null,null,0,"i",[["class","fa fa-sign-in"]],null,null,null,null,null)),(e()(),ks(8,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Login"]))],function(e,t){var n=e(t,3,0,t.component.activeRoute("login"));e(t,2,0,n);var r=e(t,6,0,"/authentication/login");e(t,5,0,r)},function(e,t){e(t,4,0,Ei(t,5).target,Ei(t,5).href)})}function nm(e){return zs(0,[(e()(),ks(0,0,null,null,14,"nav",[["class","navbar-default navbar-static-side"],["role","navigation"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,13,"div",[["class","sidebar-collapse"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,12,"ul",[["class","nav metismenu"],["id","side-menu"]],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Yg)),Li(4,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,Zg)),Li(6,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,Qg)),Li(8,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,Xg)),Li(10,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,em)),Li(12,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),Fs(16777216,null,null,1,null,tm)),Li(14,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,n.estaAutenticado),e(t,6,0,!n.estaAutenticado),e(t,8,0,n.estaAutenticado),e(t,10,0,n.estaAutenticado),e(t,12,0,n.estaAutenticado),e(t,14,0,!n.estaAutenticado)},null)}function rm(){jQuery(document).width()<769?jQuery("body").addClass("body-small"):jQuery("body").removeClass("body-small")}class im{constructor(e,t,n){this.router=e,this.activeRoute=t,this.authorizeService=n,this.verificarSesion()}toggleNavigation(){jQuery("body").toggleClass("mini-navbar"),!jQuery("body").hasClass("mini-navbar")||jQuery("body").hasClass("body-small")?(jQuery("#side-menu").hide(),setTimeout(function(){jQuery("#side-menu").fadeIn(400)},200)):jQuery("body").hasClass("fixed-sidebar")?(jQuery("#side-menu").hide(),setTimeout(function(){jQuery("#side-menu").fadeIn(400)},100)):jQuery("#side-menu").removeAttr("style")}goToLogout(){this.router.navigate(["/authentication/logout"],{state:{local:!0}})}verificarSesion(){this.authorizeService.isAuthenticated().subscribe(e=>{this.estaAutenticado=e})}}var om=Pr({encapsulation:2,styles:[],data:{}});function sm(e){return zs(0,[(e()(),ks(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),ks(1,0,null,null,2,"a",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.goToLogout()&&r),r},null,null)),(e()(),ks(2,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" Log out "]))],null,null)}function am(e){return zs(0,[(e()(),ks(0,0,null,null,9,"div",[["class","row border-bottom"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,8,"nav",[["class","navbar navbar-static-top"],["role","navigation"],["style","margin-bottom: 0"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,4,"div",[["class","navbar-header"]],null,null,null,null,null)),(e()(),ks(3,0,null,null,1,"a",[["class","minimalize-styl-2 btn btn-primary "]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.toggleNavigation()&&r),r},null,null)),(e()(),ks(4,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(e()(),ks(5,0,null,null,1,"form",[["action","#"],["class","navbar-form-custom"],["method","post"],["role","search"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,0,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),ks(7,0,null,null,2,"ul",[["class","nav navbar-top-links navbar-right"]],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,sm)),Li(9,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,9,0,t.component.estaAutenticado)},null)}class lm{}var um=Pr({encapsulation:2,styles:[],data:{}});function cm(e){return zs(0,[(e()(),ks(0,0,null,null,4,"div",[["class","footer"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),ks(2,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Copyright"])),(e()(),Bs(-1,null,[" PalmaApp \xa9 2020 "]))],null,null)}class hm{ngOnInit(){rm()}onResize(){rm()}}var dm=Pr({encapsulation:2,styles:[],data:{}});function pm(e){return zs(0,[(e()(),ks(0,0,null,null,9,"div",[["id","wrapper"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"navigation",[],null,null,null,nm,Wg)),Li(2,4243456,null,0,$g,[Gp,qf,zg,Kg],null,null),(e()(),ks(3,0,null,null,6,"div",[["class","gray-bg"],["id","page-wrapper"]],null,null,null,null,null)),(e()(),ks(4,0,null,null,1,"topnavbar",[],null,null,null,am,om)),Li(5,49152,null,0,im,[Gp,Ld,qf],null,null),(e()(),ks(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(7,212992,null,0,Xp,[Qp,hr,Nn,[8,null],Tt],null,null),(e()(),ks(8,0,null,null,1,"footer",[],null,null,null,cm,um)),Li(9,49152,null,0,lm,[],null,null)],function(e,t){e(t,7,0)},null)}function fm(e){return zs(0,[(e()(),ks(0,0,null,null,1,"basic",[],null,[["window","resize"]],function(e,t,n){var r=!0;return"window:resize"===t&&(r=!1!==Ei(e,1).onResize()&&r),r},pm,dm)),Li(1,114688,null,0,hm,[],null,null)],function(e,t){e(t,1,0)},null)}var gm=pi("basic",hm,fm,{},{},[]);function mm(e,t){return new w(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=q(e[a]);let u=!1;n.add(l.subscribe({next:e=>{u||(u=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{++o!==r&&u||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}const vm=new xe("NgValueAccessor"),ym=new xe("CompositionEventMode");class bm{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=fc()?fc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class _m{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wm extends _m{get formDirective(){return null}get path(){return null}}function Sm(){throw new Error("unimplemented")}class Cm extends _m{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Sm()}get asyncValidator(){return Sm()}}class Em{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class xm extends Em{constructor(e){super(e)}}class Fm extends Em{constructor(e){super(e)}}function km(e){return null==e||0===e.length}const Am=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Tm{static min(e){return t=>{if(km(t.value)||km(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(km(t.value)||km(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return km(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return km(e.value)?null:Am.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(km(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Tm.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(km(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Pm);return 0==t.length?null:function(e){return Im(function(e,n){return t.map(t=>t(e))}(e))}}static composeAsync(e){if(!e)return null;const t=e.filter(Pm);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return mm(t,null);if(u(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return mm(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return mm(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(j(e=>t(...e)))}return mm(e,null)}(function(e,n){return t.map(t=>t(e))}(e).map(Rm)).pipe(j(Im))}}}function Pm(e){return null!=e}function Rm(e){const t=kn(e)?q(e):e;if(!An(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Im(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function Om(e){return e.validate?t=>e.validate(t):e}function Dm(e){return e.validate?t=>e.validate(t):e}class Nm{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}class Mm{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const Lm={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Um{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Lm.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Lm.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Lm.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Lm.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Lm.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Lm.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function jm(e,t){return[...t.path,e]}function Vm(e,t){e||zm(t,"Cannot find control with"),t.valueAccessor||zm(t,"No value accessor for form control with"),e.validator=Tm.compose([e.validator,t.validator]),e.asyncValidator=Tm.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Bm(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Bm(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Bm(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Hm(e,t){null==e&&zm(t,"Cannot find control with"),e.validator=Tm.compose([e.validator,t.validator]),e.asyncValidator=Tm.composeAsync([e.asyncValidator,t.asyncValidator])}function qm(e){return zm(e,"There is no FormControl instance attached to form control element with")}function zm(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function Km(e){return null!=e?Tm.compose(e.map(Om)):null}function $m(e){return null!=e?Tm.composeAsync(e.map(Dm)):null}const Wm=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},Nm,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Sn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Sn}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Cm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Gm="VALID",Jm="INVALID",Ym="PENDING",Zm="DISABLED";function Qm(e){const t=ev(e)?e.validators:e;return Array.isArray(t)?Km(t):t||null}function Xm(e,t){const n=ev(t)?t.asyncValidators:e;return Array.isArray(n)?$m(n):n||null}function ev(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class tv{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Gm}get invalid(){return this.status===Jm}get pending(){return this.status==Ym}get disabled(){return this.status===Zm}get enabled(){return this.status!==Zm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Qm(e)}setAsyncValidators(e){this.asyncValidator=Xm(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ym,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zm,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gm,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Gm&&this.status!==Ym||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zm:Gm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ym;const t=Rm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof rv?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof iv&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new uo,this.statusChanges=new uo}_calculateStatus(){return this._allControlsDisabled()?Zm:this.errors?Jm:this._anyControlsHaveStatus(Ym)?Ym:this._anyControlsHaveStatus(Jm)?Jm:Gm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ev(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class nv extends tv{constructor(e=null,t,n){super(Qm(t),Xm(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class rv extends tv{constructor(e,t,n){super(Qm(t),Xm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof nv?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class iv extends tv{constructor(e,t,n){super(Qm(t),Xm(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof nv?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ov=new xe("NgFormSelectorWarning");class sv extends wm{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jm(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Km(this._validators)}get asyncValidator(){return $m(this._asyncValidators)}_checkParentType(){}}class av{}const lv=new xe("NgModelWithFormControlWarning");class uv extends wm{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new uo}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Vm(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){!function(t,n){const r=t.indexOf(e);r>-1&&t.splice(r,1)}(this.directives)}addFormGroup(e){const t=this.form.get(e.path);Hm(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Hm(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>qm(t)),t.valueAccessor.registerOnTouched(()=>qm(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Vm(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=Km(this._validators);this.form.validator=Tm.compose([this.form.validator,e]);const t=$m(this._asyncValidators);this.form.asyncValidator=Tm.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Um.missingFormException()}}class cv extends sv{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){dv(this._parent)&&Um.groupParentException()}}class hv extends wm{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jm(this.name,this._parent)}get validator(){return Km(this._validators)}get asyncValidator(){return $m(this._asyncValidators)}_checkParentType(){dv(this._parent)&&Um.arrayParentException()}}function dv(e){return!(e instanceof cv||e instanceof uv||e instanceof hv)}let pv=(()=>{class e extends Cm{constructor(e,t,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new uo,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||zm(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{t.constructor===bm?n=t:function(e){return Wm.some(t=>e.constructor===t)}(t)?(r&&zm(e,"More than one built-in value accessor matches form control with"),r=t):(i&&zm(e,"More than one custom value accessor matches form control with"),i=t)}),i||r||n||(zm(e,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(e){Um.disabledAttrWarning()}ngOnChanges(t){var n,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Sn(t,n.currentValue)}(t,this.viewModel)&&("formControlName",n=e,this,r=this._ngModelWarningConfig,tt()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Um.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return jm(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Km(this._rawValidators)}get asyncValidator(){return $m(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof cv)&&this._parent instanceof sv?Um.ngModelGroupException():this._parent instanceof cv||this._parent instanceof uv||this._parent instanceof hv||Um.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})();class fv{}class gv{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new rv(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new nv(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new iv(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof nv||e instanceof rv||e instanceof iv?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class mv{static withConfig(e){return{ngModule:mv,providers:[{provide:ov,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class vv{static withConfig(e){return{ngModule:vv,providers:[{provide:lv,useValue:e.warnOnNgModelWithFormControl}]}}}let yv=(()=>{class e{constructor(e){this._http=e}ConsultarCultivos(){return this._http.get("api/Cultivo")}ConsultarCultivoPorId(e){return this._http.get(`api/Cultivo/${e}`)}RegistrarCultivo(e){return this._http.post("api/Cultivo",e)}EditarCultivo(e,t,n,r){return this._http.put("api/Cultivo",{cultivoId:e,nombre:t,fechaSiembra:n,estado:r})}InactivarCultivo(e,t,n){return this._http.put("api/Cultivo",{cultivoId:e,nombre:t,fechaSiembra:n,estado:"IN"})}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ag))},token:e,providedIn:"root"}),e})();var bv=n("PdH4"),_v=n.n(bv);class wv{constructor(e,t,n){this._formBuilder=e,this._router=t,this._cultivoService=n,this.visualizarFormulario=!1,this.GuardarCultivo=this.RegistrarCultivo}ngOnInit(){this.cultivos=new Array,this.ConsultarCultivos(),this.cultivoForm=this.InicializarFormulario()}IrAGestionLotes(e){this._router.navigate([`/cultivos/${e.id}/Lotes`])}ConsultarCultivos(){this._cultivoService.ConsultarCultivos().subscribe(e=>{e&&(this.cultivos=e,this.cultivoForm.reset(),this.visualizarFormulario=!1)})}AbrirModalNuevoCultivo(){this.visualizarFormulario=!0,this.cultivoForm.reset(),this.accion="Registrar",this.GuardarCultivo=this.RegistrarCultivo}AbrirModalEditarCultivo(e){this.visualizarFormulario=!0,this.accion="Editar",this.cultivoId=e.id,this.cultivoEstado=e.estado,this.cultivoForm.patchValue({nombre:e.nombre,fechaSiembra:this.formatFecha(e.fechaSiembra)}),this.GuardarCultivo=this.EditarCultivo}formatFecha(e){return e.toString().split("T")[0]}RegistrarCultivo(){this.ConfirmMessage("question","","",e=>{this._cultivoService.RegistrarCultivo(this.cultivoForm.value).subscribe(e=>{e&&(this.ConsultarCultivos(),this.ShowMessage("success",e.mensaje))})})}EditarCultivo(){this.ConfirmMessage("question","","",e=>{const t=this.cultivoForm.value;this._cultivoService.EditarCultivo(this.cultivoId,t.nombre,t.fechaSiembra,this.cultivoEstado).subscribe(e=>{e&&(this.ConsultarCultivos(),this.ShowMessage("success",e.mensaje))})})}EliminarCultivo(e){this.ConfirmMessage("warning","","",t=>{this._cultivoService.InactivarCultivo(e.id,e.nombre,e.fechaSiembra).subscribe(e=>{e&&(this.ShowMessage("success",e.mensaje),this.ConsultarCultivos())})})}InicializarFormulario(){return this._formBuilder.group({nombre:[void 0,[Tm.required]],fechaSiembra:[void 0,[Tm.required]]})}ShowMessage(e,t,n=null){_v.a.fire({title:n,text:t,icon:e,showConfirmButton:!1,timer:2500})}ConfirmMessage(e,t,n=null,r){_v.a.fire({icon:e,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:t,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{e.value&&r(e.value)})}}var Sv=Pr({encapsulation:0,styles:[[""]],data:{}});function Cv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" El nombre del cultivo es obligatorio "]))],null,null)}function Ev(e){return zs(0,[(e()(),ks(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" La fecha de siembra es obligatoria "]))],null,null)}function xv(e){return zs(0,[(e()(),ks(0,0,null,null,43,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),Bs(3,null,[""," Cultivo"])),(e()(),ks(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.visualizarFormulario=!1)&&r),r},null,null)),(e()(),ks(5,0,null,null,38,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==Ei(e,8).onSubmit(n)&&r),"reset"===t&&(r=!1!==Ei(e,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,av,[],null,null),Li(8,540672,null,0,uv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,wm,null,[uv]),Li(10,16384,null,0,Fm,[[4,wm]],null,null),(e()(),ks(11,0,null,null,32,"div",[["class","row p-w-md"]],null,null,null,null,null)),(e()(),ks(12,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(e()(),ks(13,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Nombre"])),(e()(),ks(15,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),ks(16,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),ks(17,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(e()(),ks(18,0,null,null,5,"input",[["class","form-control"],["formControlName","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Ei(e,19)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Ei(e,19).onTouched()&&r),"compositionstart"===t&&(r=!1!==Ei(e,19)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Ei(e,19)._compositionEnd(n.target.value)&&r),r},null,null)),Li(19,16384,null,0,bm,[zn,jn,[2,ym]],null,null),ji(1024,null,vm,function(e){return[e]},[bm]),Li(21,671744,null,0,pv,[[3,wm],[8,null],[8,null],[6,vm],[2,lv]],{name:[0,"name"]},null),ji(2048,null,Cm,null,[pv]),Li(23,16384,null,0,xm,[[4,Cm]],null,null),(e()(),Fs(16777216,null,null,1,null,Cv)),Li(25,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(26,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(e()(),ks(27,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Fecha Siembra"])),(e()(),ks(29,0,null,null,8,"div",[["class","input-group date"]],null,null,null,null,null)),(e()(),ks(30,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),ks(31,0,null,null,0,"i",[["class","fa fa-calendar-o"]],null,null,null,null,null)),(e()(),ks(32,0,null,null,5,"input",[["class","form-control"],["formControlName","fechaSiembra"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Ei(e,33)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Ei(e,33).onTouched()&&r),"compositionstart"===t&&(r=!1!==Ei(e,33)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Ei(e,33)._compositionEnd(n.target.value)&&r),r},null,null)),Li(33,16384,null,0,bm,[zn,jn,[2,ym]],null,null),ji(1024,null,vm,function(e){return[e]},[bm]),Li(35,671744,null,0,pv,[[3,wm],[8,null],[8,null],[6,vm],[2,lv]],{name:[0,"name"]},null),ji(2048,null,Cm,null,[pv]),Li(37,16384,null,0,xm,[[4,Cm]],null,null),(e()(),Fs(16777216,null,null,1,null,Ev)),Li(39,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(40,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(e()(),ks(41,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.GuardarCultivo()&&r),r},null,null)),(e()(),Bs(-1,null,[" Guardar "])),(e()(),ks(43,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,8,0,n.cultivoForm),e(t,21,0,"nombre"),e(t,25,0,n.cultivoForm.get("nombre").hasError("required")&&(n.cultivoForm.get("nombre").dirty||n.cultivoForm.get("nombre").touched)),e(t,35,0,"fechaSiembra"),e(t,39,0,n.cultivoForm.get("fechaSiembra").hasError("required")&&(n.cultivoForm.get("fechaSiembra").dirty||n.cultivoForm.get("fechaSiembra").touched))},function(e,t){var n=t.component;e(t,3,0,n.accion),e(t,6,0,Ei(t,10).ngClassUntouched,Ei(t,10).ngClassTouched,Ei(t,10).ngClassPristine,Ei(t,10).ngClassDirty,Ei(t,10).ngClassValid,Ei(t,10).ngClassInvalid,Ei(t,10).ngClassPending),e(t,18,0,Ei(t,23).ngClassUntouched,Ei(t,23).ngClassTouched,Ei(t,23).ngClassPristine,Ei(t,23).ngClassDirty,Ei(t,23).ngClassValid,Ei(t,23).ngClassInvalid,Ei(t,23).ngClassPending),e(t,32,0,Ei(t,37).ngClassUntouched,Ei(t,37).ngClassTouched,Ei(t,37).ngClassPristine,Ei(t,37).ngClassDirty,Ei(t,37).ngClassValid,Ei(t,37).ngClassInvalid,Ei(t,37).ngClassPending),e(t,41,0,n.cultivoForm.invalid)})}function Fv(e){return zs(0,[(e()(),ks(0,0,null,null,20,"tr",[],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(2,null,["",""])),(e()(),ks(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(4,null,["",""])),(e()(),ks(5,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(6,null,["",""])),Ls(7,2),(e()(),ks(8,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(11,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(12,{"label-primary":0,"label-danger":1}),(e()(),Bs(13,null,["",""])),(e()(),ks(14,0,null,null,6,"td",[["class","text-center"],["style","width: 165px;"]],null,null,null,null,null)),(e()(),ks(15,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.IrAGestionLotes(e.context.$implicit)&&r),r},null,null)),(e()(),Bs(-1,null,["Lotes"])),(e()(),ks(17,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.AbrirModalEditarCultivo(e.context.$implicit)&&r),r},null,null)),(e()(),Bs(-1,null,["Editar"])),(e()(),ks(19,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.EliminarCultivo(e.context.$implicit)&&r),r},null,null)),(e()(),Bs(-1,null,["Eliminar"]))],function(e,t){var n=e(t,12,0,"AC"==t.context.$implicit.estado,"AC"!=t.context.$implicit.estado);e(t,11,0,"label",n)},function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.nombre);var n=kr(t,6,0,e(t,7,0,Ei(t.parent,0),t.context.$implicit.fechaSiembra,"dd-MM-yyyy"));e(t,6,0,n),e(t,13,0,"AC"==t.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function kv(e){return zs(0,[(e()(),ks(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),Bs(-1,null,["No se encontraron cultivos registrados en el sistema"]))],null,null)}function Av(e){return zs(0,[Ui(0,du,[So]),(e()(),ks(1,0,null,null,30,"div",[["class","panel"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,6,"div",[["class","panel-heading h5 text-right"]],null,null,null,null,null)),(e()(),ks(3,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),ks(4,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" Cultivos"])),(e()(),ks(6,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.AbrirModalNuevoCultivo()&&r),r},null,null)),(e()(),Bs(-1,null,["Nuevo Cultivo "])),(e()(),ks(8,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,22,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,xv)),Li(11,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(12,0,null,null,19,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(e()(),ks(13,0,null,null,18,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(e()(),ks(14,0,null,null,10,"thead",[],null,null,null,null,null)),(e()(),ks(15,0,null,null,9,"tr",[],null,null,null,null,null)),(e()(),ks(16,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["#"])),(e()(),ks(18,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Nombre"])),(e()(),ks(20,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Fecha Siembra"])),(e()(),ks(22,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Estado"])),(e()(),ks(24,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),ks(25,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Fv)),Li(27,278528,null,0,tu,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(e()(),ks(28,0,null,null,3,"tfoot",[],null,null,null,null,null)),(e()(),ks(29,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,kv)),Li(31,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,11,0,n.visualizarFormulario),e(t,27,0,n.cultivos),e(t,31,0,n.cultivos.length<=0)},null)}function Tv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-gestion-cultivos",[],null,null,null,Av,Sv)),Li(1,114688,null,0,wv,[gv,Gp,yv],null,null)],function(e,t){e(t,1,0)},null)}var Pv=pi("app-gestion-cultivos",wv,Tv,{},{},[]);let Rv=(()=>{class e{constructor(e){this._http=e}ConsultarCultivoPorId(e){return this._http.get(`api/Lote/GetCultivo/${e}`)}ConsultarLotesDeUnCultivo(e){return this._http.get(`api/Lote/Cultivo/${e}`)}RegistrarLote(e){return this._http.post("api/Lote",e)}EditarLote(e,t,n,r,i){return this._http.put("api/Lote",{cultivoId:e,loteId:t,nombre:n,numeroHectareas:r,estado:i})}InactivarLote(e,t,n,r){return this._http.put("api/Lote",{cultivoId:e,loteId:t,nombre:n,numeroHectareas:r,estado:"IN"})}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ag))},token:e,providedIn:"root"}),e})();class Iv{constructor(e,t,n,r){this._formBuilder=e,this._router=t,this._location=n,this._loteService=r,this.visualizarFormulario=!1,this.GuardarLote=this.RegistrarLote}ngOnInit(){this.cultivoId=Number(this._router.snapshot.paramMap.get("cultivoId")),!isNaN(this.cultivoId)&&this.cultivoId||(this.ShowMessage("error","Para realizar la gesti\xf3n de lotes debe enviar un cultivo","Ocurri\xf3 un Error"),this.irAtras()),this.lotes=new Array,this.ConsultarCultivo(),this.loteForm=this.InicializarFormulario()}irAtras(){this._location.back()}ConsultarCultivo(){this._loteService.ConsultarCultivoPorId(this.cultivoId).subscribe(e=>{e&&(this.cultivo=e,this.ConsultarLotes())})}ConsultarLotes(){this._loteService.ConsultarLotesDeUnCultivo(this.cultivo.id).subscribe(e=>{e&&(this.lotes=e,this.loteForm.reset({cultivoId:this.cultivoId}),this.visualizarFormulario=!1)})}AbrirModalNuevoLote(){this.visualizarFormulario=!0,this.loteForm.reset({cultivoId:this.cultivoId}),this.accion="Registrar",this.GuardarLote=this.RegistrarLote}AbrirModalEditarLote(e){this.visualizarFormulario=!0,this.accion="Editar",this.loteId=e.id,this.loteEstado=e.estado,this.loteForm.patchValue({cultivoId:e.cultivoId,nombre:e.nombre,numeroHectareas:e.numeroHectareas}),this.GuardarLote=this.EditarLote}RegistrarLote(){this.ConfirmMessage("question","","",e=>{this._loteService.RegistrarLote(this.loteForm.value).subscribe(e=>{e&&(this.ConsultarLotes(),this.ShowMessage("success",e.mensaje))})})}EditarLote(){this.ConfirmMessage("question","","",e=>{const t=this.loteForm.value;this._loteService.EditarLote(this.cultivoId,this.loteId,t.nombre,t.numeroHectareas,this.loteEstado).subscribe(e=>{e&&(this.ConsultarLotes(),this.ShowMessage("success",e.mensaje))})})}EliminarLote(e){this.ConfirmMessage("warning","","",t=>{this._loteService.InactivarLote(this.cultivoId,e.id,e.nombre,e.numeroHectareas).subscribe(e=>{e&&(this.ShowMessage("success",e.mensaje),this.ConsultarLotes())})})}InicializarFormulario(){return this._formBuilder.group({cultivoId:[this.cultivoId,[Tm.required]],nombre:[void 0,[Tm.required]],numeroHectareas:[void 0,[Tm.required]]})}ShowMessage(e,t,n=null){_v.a.fire({title:n,text:t,icon:e,showConfirmButton:!1,timer:2500})}ConfirmMessage(e,t,n=null,r){_v.a.fire({icon:e,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:t,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{e.value&&r(e.value)})}}var Ov=Pr({encapsulation:0,styles:[[""]],data:{}});function Dv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" El nombre del lote es obligatorio "]))],null,null)}function Nv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" La cantidad de hect\xe1reas es obligatoria "]))],null,null)}function Mv(e){return zs(0,[(e()(),ks(0,0,null,null,46,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),Bs(3,null,[""," lote"])),(e()(),ks(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=0!=(e.component.visualizarFormulario=!1)&&r),r},null,null)),(e()(),ks(5,0,null,null,41,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==Ei(e,8).onSubmit(n)&&r),"reset"===t&&(r=!1!==Ei(e,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,av,[],null,null),Li(8,540672,null,0,uv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,wm,null,[uv]),Li(10,16384,null,0,Fm,[[4,wm]],null,null),(e()(),ks(11,0,null,null,35,"div",[["class","row p-w-md"]],null,null,null,null,null)),(e()(),ks(12,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(e()(),ks(13,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Nombre"])),(e()(),ks(15,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(e()(),ks(16,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),ks(17,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(e()(),ks(18,0,null,null,5,"input",[["class","form-control"],["formControlName","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Ei(e,19)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Ei(e,19).onTouched()&&r),"compositionstart"===t&&(r=!1!==Ei(e,19)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Ei(e,19)._compositionEnd(n.target.value)&&r),r},null,null)),Li(19,16384,null,0,bm,[zn,jn,[2,ym]],null,null),ji(1024,null,vm,function(e){return[e]},[bm]),Li(21,671744,null,0,pv,[[3,wm],[8,null],[8,null],[6,vm],[2,lv]],{name:[0,"name"]},null),ji(2048,null,Cm,null,[pv]),Li(23,16384,null,0,xm,[[4,Cm]],null,null),(e()(),Fs(16777216,null,null,1,null,Dv)),Li(25,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(26,0,null,null,16,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(e()(),ks(27,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Cantidad "])),(e()(),ks(29,0,null,null,1,"abbr",[["title","Hect\xe1reas"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Ha"])),(e()(),ks(31,0,null,null,9,"div",[["class","input-group date"]],null,null,null,null,null)),(e()(),ks(32,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(e()(),ks(33,0,null,null,0,"i",[["class","fa fa-slack"]],null,null,null,null,null)),(e()(),ks(34,0,null,null,6,"input",[["class","form-control"],["formControlName","numeroHectareas"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var r=!0;return"input"===t&&(r=!1!==Ei(e,35)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==Ei(e,35).onTouched()&&r),"compositionstart"===t&&(r=!1!==Ei(e,35)._compositionStart()&&r),"compositionend"===t&&(r=!1!==Ei(e,35)._compositionEnd(n.target.value)&&r),"change"===t&&(r=!1!==Ei(e,36).onChange(n.target.value)&&r),"input"===t&&(r=!1!==Ei(e,36).onChange(n.target.value)&&r),"blur"===t&&(r=!1!==Ei(e,36).onTouched()&&r),r},null,null)),Li(35,16384,null,0,bm,[zn,jn,[2,ym]],null,null),Li(36,16384,null,0,Nm,[zn,jn],null,null),ji(1024,null,vm,function(e,t){return[e,t]},[bm,Nm]),Li(38,671744,null,0,pv,[[3,wm],[8,null],[8,null],[6,vm],[2,lv]],{name:[0,"name"]},null),ji(2048,null,Cm,null,[pv]),Li(40,16384,null,0,xm,[[4,Cm]],null,null),(e()(),Fs(16777216,null,null,1,null,Nv)),Li(42,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(43,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(e()(),ks(44,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.GuardarLote()&&r),r},null,null)),(e()(),Bs(-1,null,[" Guardar "])),(e()(),ks(46,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(e,t){var n=t.component;e(t,8,0,n.loteForm),e(t,21,0,"nombre"),e(t,25,0,n.loteForm.get("nombre").hasError("required")&&(n.loteForm.get("nombre").dirty||n.loteForm.get("nombre").touched)),e(t,38,0,"numeroHectareas"),e(t,42,0,n.loteForm.get("numeroHectareas").hasError("required")&&(n.loteForm.get("numeroHectareas").dirty||n.loteForm.get("numeroHectareas").touched))},function(e,t){var n=t.component;e(t,3,0,n.accion),e(t,6,0,Ei(t,10).ngClassUntouched,Ei(t,10).ngClassTouched,Ei(t,10).ngClassPristine,Ei(t,10).ngClassDirty,Ei(t,10).ngClassValid,Ei(t,10).ngClassInvalid,Ei(t,10).ngClassPending),e(t,18,0,Ei(t,23).ngClassUntouched,Ei(t,23).ngClassTouched,Ei(t,23).ngClassPristine,Ei(t,23).ngClassDirty,Ei(t,23).ngClassValid,Ei(t,23).ngClassInvalid,Ei(t,23).ngClassPending),e(t,34,0,Ei(t,40).ngClassUntouched,Ei(t,40).ngClassTouched,Ei(t,40).ngClassPristine,Ei(t,40).ngClassDirty,Ei(t,40).ngClassValid,Ei(t,40).ngClassInvalid,Ei(t,40).ngClassPending),e(t,44,0,n.loteForm.invalid)})}function Lv(e){return zs(0,[(e()(),ks(0,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(2,null,["",""])),(e()(),ks(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(4,null,["",""])),(e()(),ks(5,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(6,null,["",""])),Ls(7,1),(e()(),ks(8,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(11,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(12,{"label-primary":0,"label-danger":1}),(e()(),Bs(13,null,["",""])),(e()(),ks(14,0,null,null,4,"td",[["style","width: 125px;"]],null,null,null,null,null)),(e()(),ks(15,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.AbrirModalEditarLote(e.context.$implicit)&&r),r},null,null)),(e()(),Bs(-1,null,["Editar"])),(e()(),ks(17,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.EliminarLote(e.context.$implicit)&&r),r},null,null)),(e()(),Bs(-1,null,["Eliminar"]))],function(e,t){var n=e(t,12,0,"AC"==t.context.$implicit.estado,"AC"!=t.context.$implicit.estado);e(t,11,0,"label",n)},function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.nombre);var n=kr(t,6,0,e(t,7,0,Ei(t.parent,0),t.context.$implicit.numeroHectareas));e(t,6,0,n),e(t,13,0,"AC"==t.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function Uv(e){return zs(0,[(e()(),ks(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),Bs(-1,null,["No se encontraron lotes registrados en el sistema para el cultivo solicitado"]))],null,null)}function jv(e){return zs(0,[Ui(0,pu,[So]),(e()(),ks(1,0,null,null,44,"div",[["class","panel"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,1,"button",[["class","m-t-xs m-l-xs btn btn-xs btn-circle m-r-sm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.irAtras()&&r),r},null,null)),(e()(),ks(3,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(e()(),ks(4,0,null,null,8,"div",[["class","panel-heading h4 text-right"]],null,null,null,null,null)),(e()(),ks(5,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),ks(6,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(e()(),Bs(7,null,[" Cultivo - ",""])),(e()(),ks(8,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(10,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(11,{"label-success":0,"label-danger":1}),(e()(),Bs(12,null,["",""])),(e()(),ks(13,0,null,null,32,"div",[["class","p-w-sm"]],null,null,null,null,null)),(e()(),ks(14,0,null,null,6,"div",[["class","panel-heading h5 text-right m-b-n"]],null,null,null,null,null)),(e()(),ks(15,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),ks(16,0,null,null,0,"i",[["class","fa fa-cubes m-r-xs"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" Lotes"])),(e()(),ks(18,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.AbrirModalNuevoLote()&&r),r},null,null)),(e()(),Bs(-1,null,["Nuevo Lote "])),(e()(),ks(20,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(e()(),ks(21,0,null,null,24,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Mv)),Li(23,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null),(e()(),ks(24,0,null,null,21,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(e()(),ks(25,0,null,null,20,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(e()(),ks(26,0,null,null,12,"thead",[],null,null,null,null,null)),(e()(),ks(27,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),ks(28,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["#"])),(e()(),ks(30,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Nombre"])),(e()(),ks(32,0,null,null,3,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["N\xfamero "])),(e()(),ks(34,0,null,null,1,"abbr",[["title","Hect\xe1reas"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Ha"])),(e()(),ks(36,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Estado"])),(e()(),ks(38,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),ks(39,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Lv)),Li(41,278528,null,0,tu,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(e()(),ks(42,0,null,null,3,"tfoot",[],null,null,null,null,null)),(e()(),ks(43,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Uv)),Li(45,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component,r=e(t,11,0,"AC"==(null==n.cultivo?null:n.cultivo.estado),"AC"!=(null==n.cultivo?null:n.cultivo.estado));e(t,10,0,"label",r),e(t,23,0,n.visualizarFormulario),e(t,41,0,n.lotes),e(t,45,0,n.lotes.length<=0)},function(e,t){var n=t.component;e(t,7,0,null==n.cultivo?null:n.cultivo.nombre),e(t,12,0,"AC"==(null==n.cultivo?null:n.cultivo.estado)?"ACTIVO":"INACTIVO")})}function Vv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-gestion-lotes",[],null,null,null,jv,Ov)),Li(1,114688,null,0,Iv,[gv,Ld,rl,Rv],null,null)],function(e,t){e(t,1,0)},null)}var Bv=pi("app-gestion-lotes",Iv,Vv,{},{},[]);let Hv=(()=>{class e{constructor(e){this._http=e}ConsultarUsuarios(){return this._http.get("api/Tercero")}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(Ag))},token:e,providedIn:"root"}),e})();class qv{constructor(e,t){this._formBuilder=e,this._usuarioService=t}ngOnInit(){this.Usuario=new Array,this.ConsultarUsuario()}ConsultarUsuario(){this._usuarioService.ConsultarUsuarios().subscribe(e=>{e&&(this.Usuario=e)})}}var zv=Pr({encapsulation:0,styles:[[""]],data:{}});function Kv(e){return zs(0,[(e()(),ks(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(2,null,["",""])),(e()(),ks(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(4,null,["",""])),(e()(),ks(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(6,null,[""," ",""])),(e()(),ks(7,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(8,null,["",""])),Ls(9,2),(e()(),ks(10,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(11,null,["",""])),(e()(),ks(12,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(13,null,["",""])),(e()(),ks(14,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Bs(15,null,["",""])),(e()(),ks(16,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(e()(),ks(17,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,Yl,Zl,[ir,or,jn,zn]),Li(19,278528,null,0,Xl,[Yl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),js(20,{"label-primary":0,"label-danger":1}),(e()(),Bs(21,null,["",""])),(e()(),ks(22,0,null,null,4,"td",[["style","width: 125px;"]],null,null,null,null,null)),(e()(),ks(23,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Editar"])),(e()(),ks(25,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Inactivar"]))],function(e,t){var n=e(t,20,0,"AC"==t.context.$implicit.estado,"AC"!=t.context.$implicit.estado);e(t,19,0,"label",n)},function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.identificacion),e(t,6,0,t.context.$implicit.nombres,t.context.$implicit.apellidos);var n=kr(t,8,0,e(t,9,0,Ei(t.parent,0),t.context.$implicit.fechaNacimiento,"dd-MM-yyyy"));e(t,8,0,n),e(t,11,0,t.context.$implicit.telefono),e(t,13,0,t.context.$implicit.direccion),e(t,15,0,t.context.$implicit.email),e(t,21,0,"AC"==t.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function $v(e){return zs(0,[(e()(),ks(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),Bs(-1,null,["No se encontraron usuarios registrados en el sistema"]))],null,null)}function Wv(e){return zs(0,[Ui(0,du,[So]),(e()(),ks(1,0,null,null,41,"div",[["class","panel"]],null,null,null,null,null)),(e()(),ks(2,0,null,null,6,"div",[["class","panel-heading h5 text-right"]],null,null,null,null,null)),(e()(),ks(3,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),ks(4,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(e()(),Bs(-1,null,[" Usuarios"])),(e()(),ks(6,0,null,null,2,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Nuevo"])),(e()(),ks(8,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,33,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),ks(10,0,null,null,4,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),ks(11,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(e()(),ks(12,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Registro Usuarios"])),(e()(),ks(14,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,null,null,null,null)),(e()(),ks(15,0,null,null,27,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(e()(),ks(16,0,null,null,26,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(e()(),ks(17,0,null,null,18,"thead",[],null,null,null,null,null)),(e()(),ks(18,0,null,null,17,"tr",[],null,null,null,null,null)),(e()(),ks(19,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["#"])),(e()(),ks(21,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Identificaci\xf3n"])),(e()(),ks(23,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Nombre Completo"])),(e()(),ks(25,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Fecha Nacimiento"])),(e()(),ks(27,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Tel\xe9fono"])),(e()(),ks(29,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Direcci\xf3n"])),(e()(),ks(31,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Correo Electr\xf3nico"])),(e()(),ks(33,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Estado"])),(e()(),ks(35,0,null,null,0,"th",[],null,null,null,null,null)),(e()(),ks(36,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,Kv)),Li(38,278528,null,0,tu,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(e()(),ks(39,0,null,null,3,"tfoot",[],null,null,null,null,null)),(e()(),ks(40,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Fs(16777216,null,null,1,null,$v)),Li(42,16384,null,0,ru,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,38,0,n.Usuario),e(t,42,0,n.Usuario.length<=0)},null)}function Gv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-gestion-usuarios",[],null,null,null,Wv,zv)),Li(1,114688,null,0,qv,[gv,Hv],null,null)],function(e,t){e(t,1,0)},null)}var Jv=pi("app-gestion-usuarios",qv,Gv,{},{},[]);class Yv{constructor(){this.nav=document.querySelector("nav.navbar")}ngOnInit(){this.nav.className+=" white-bg"}ngOnDestroy(){this.nav.classList.remove("white-bg")}}var Zv=Pr({encapsulation:2,styles:[],data:{}});function Qv(e){return zs(0,[(e()(),ks(0,0,null,null,18,"div",[["class","wrapper wrapper-content animated fadeInRight"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(4,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(5,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(7,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),ks(8,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(e()(),ks(9,0,null,null,1,"div",[["class","text-center m-t-lg"]],null,null,null,null,null)),(e()(),ks(10,0,null,null,0,"img",[["alt","Logo PalmapApp"],["src","assets/images/logo_palma_2.png"]],null,null,null,null,null)),(e()(),ks(11,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),ks(12,0,null,null,6,"div",[["class","col-lg-12"]],null,null,null,null,null)),(e()(),ks(13,0,null,null,5,"div",[["class","text-center m-t-lg"]],null,null,null,null,null)),(e()(),ks(14,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Bs(-1,null,[" Bienvenido a PalmApp "])),(e()(),ks(16,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),ks(17,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),Bs(-1,null,[" Sistema pensado para gestionar las actividades desarrolladas en cultivos de palma de aceite. "]))],null,null)}function Xv(e){return zs(0,[(e()(),ks(0,0,null,null,1,"starter",[],null,null,null,Qv,Zv)),Li(1,245760,null,0,Yv,[],null,null)],function(e,t){e(t,1,0)},null)}var ey=pi("starter",Yv,Xv,{},{},[]);class ty{ngAfterViewInit(){jQuery("body").addClass("gray-bg")}ngOnDestroy(){jQuery("body").removeClass("gray-bg")}}var ny=Pr({encapsulation:2,styles:[],data:{}});function ry(e){return zs(0,[(e()(),ks(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,Xp,[Qp,hr,Nn,[8,null],Tt],null,null)],function(e,t){e(t,1,0)},null)}function iy(e){return zs(0,[(e()(),ks(0,0,null,null,1,"blank",[],null,null,null,ry,ny)),Li(1,4374528,null,0,ty,[],null,null)],null,null)}var oy=pi("blank",ty,iy,{},{},[]);class sy{}var ay=Pr({encapsulation:2,styles:[],data:{}});function ly(e){return zs(0,[(e()(),ks(0,0,null,null,28,"div",[["class","middle-box text-center loginscreen  animated fadeInDown"]],null,null,null,null,null)),(e()(),ks(1,0,null,null,27,"div",[],null,null,null,null,null)),(e()(),ks(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),ks(3,0,null,null,1,"h1",[["class","logo-name"]],null,null,null,null,null)),(e()(),Bs(-1,null,["IN+"])),(e()(),ks(5,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Welcome to IN+"])),(e()(),ks(7,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Perfectly designed and precisely prepared admin theme with over 50 pages with extra new web app views. "])),(e()(),ks(9,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Login in. To see it in action."])),(e()(),ks(11,0,null,null,14,"form",[["action","#"],["class","m-t"],["role","form"]],null,null,null,null,null)),(e()(),ks(12,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),ks(13,0,null,null,0,"input",[["class","form-control"],["placeholder","Username"],["required",""],["type","email"]],null,null,null,null,null)),(e()(),ks(14,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),ks(15,0,null,null,0,"input",[["class","form-control"],["placeholder","Password"],["required",""],["type","password"]],null,null,null,null,null)),(e()(),ks(16,0,null,null,1,"button",[["class","btn btn-primary block full-width m-b"],["type","submit"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Login"])),(e()(),ks(18,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(e()(),ks(19,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Forgot password?"])),(e()(),ks(21,0,null,null,2,"p",[["class","text-muted text-center"]],null,null,null,null,null)),(e()(),ks(22,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Do not have an account?"])),(e()(),ks(24,0,null,null,1,"a",[["class","btn btn-sm btn-white btn-block"],["href","#"]],null,null,null,null,null)),(e()(),Bs(-1,null,["Create an account"])),(e()(),ks(26,0,null,null,2,"p",[["class","m-t"]],null,null,null,null,null)),(e()(),ks(27,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),Bs(-1,null,["Inspinia we app framework base on Bootstrap 3 \xa9 2014"]))],null,null)}function uy(e){return zs(0,[(e()(),ks(0,0,null,null,1,"login",[],null,null,null,ly,ay)),Li(1,49152,null,0,sy,[],null,null)],null,null)}var cy=pi("login",sy,uy,{},{},[]),hy=Pr({encapsulation:0,styles:[[""]],data:{}});function dy(e){return zs(0,[(e()(),ks(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,Xp,[Qp,hr,Nn,[8,null],Tt],null,null)],function(e,t){e(t,1,0)},null)}function py(e){return zs(0,[(e()(),ks(0,0,null,null,1,"app-root",[],null,null,null,dy,hy)),Li(1,49152,null,0,Qa,[],null,null)],null,null)}var fy=pi("app-root",Qa,py,{},{},[]);let gy=(()=>{class e{constructor(e){this.authorize=e}intercept(e,t){return this.authorize.getAccessToken().pipe(z(n=>this.processRequestWithToken(n,e,t)))}processRequestWithToken(e,t,n){return e&&this.isSameOriginUrl(t)&&(t=t.clone({setHeaders:{Authorization:`Bearer ${e}`}})),n.handle(t)}isSameOriginUrl(e){return!!e.url.startsWith(`${window.location.origin}/`)||!!e.url.startsWith(`//${window.location.host}/`)||!!/^\/[^\/].*/.test(e.url)}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(qf))},token:e,providedIn:"root"}),e})(),my=(()=>{class e{constructor(e,t){this.authorize=e,this.router=t}canActivate(e,t){return this.authorize.isAuthenticated().pipe(lc(e=>this.handleAuthorization(e,t)))}handleAuthorization(e,t){e||this.router.navigate(Bf.LoginPathComponents,{queryParams:{[Uf.ReturnUrl]:t.url}})}}return e.ngInjectableDef=pe({factory:function(){return new e(Le(qf),Le(Gp))},token:e,providedIn:"root"}),e})();var vy=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[lg,sg,kf,{provide:ug,useValue:t||{autoClose:!0}}]}},e}();class yy{}class by{}n("+dx+");class _y{}class wy{}class Sy{}class Cy{}class Ey{}var xy=Ja(Za,[Qa],function(e){return function(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===Vt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[Fr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([si(512,Nn,Mn,[[8,[Ff,Df,Gf,Xf,gm,Pv,Bv,Jv,ey,oy,cy,fy]],[3,Nn],Ve]),si(5120,So,Cs,[[3,So]]),si(4608,Wl,Gl,[So,[2,$l]]),si(5120,eo,Es,[jo]),si(5120,go,mo,[]),si(5120,ir,ws,[]),si(5120,or,Ss,[]),si(4608,yh,bh,[gu]),si(6144,Et,null,[yh]),si(4608,hh,ph,[]),si(5120,Oc,function(e,t,n,r,i,o,s,a){return[new uh(e,t,n),new vh(r),new fh(i,o,s,a)]},[gu,jo,bo,gu,gu,hh,wo,[2,dh]]),si(4608,Dc,Dc,[Oc,jo]),si(135680,Lc,Lc,[gu]),si(4608,zc,zc,[Dc,Lc,go]),si(6144,Hn,null,[zc]),si(6144,Mc,null,[Lc]),si(4608,$o,$o,[jo]),si(4608,Mm,Mm,[]),si(4608,Ug,jg,[gu,bo,Mg]),si(4608,Vg,Vg,[Ug,Lg]),si(5120,Pg,function(e,t){return[e,new gy(t)]},[Vg,qf]),si(4608,Dg,Dg,[]),si(6144,Og,null,[Dg]),si(4608,Ng,Ng,[Og]),si(6144,pg,null,[Ng]),si(4608,dg,Bg,[pg,Ht]),si(4608,Ag,Ag,[dg]),si(4608,sg,sg,[]),si(4608,lg,lg,[Nn,jo,Ht,sg,os]),si(4608,kf,kf,[]),si(4608,gv,gv,[]),si(5120,Ld,vf,[Gp]),si(4608,rf,rf,[]),si(6144,tf,null,[rf]),si(135680,of,of,[Gp,as,To,Ht,tf]),si(4608,nf,nf,[]),si(5120,sf,df,[Gp,vu,af]),si(5120,wf,_f,[yf]),si(5120,_o,function(e){return[e]},[wf]),si(1073742336,fu,fu,[]),si(1024,Qe,kh,[]),si(1024,es,function(){return[cf()]},[]),si(512,yf,yf,[Ht]),si(1024,po,function(e,t){return[(n=e,Pc("probe",Ic),Pc("coreTokens",Object.assign({},Rc,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>Ic),bf(t)];var n},[[2,es],yf]),si(512,fo,fo,[[2,po]]),si(131584,os,os,[jo,wo,Ht,Qe,Nn,fo]),si(1073742336,xs,xs,[os]),si(1073742336,Ah,Ah,[[3,Ah]]),si(1073742336,fv,fv,[]),si(1073742336,mv,mv,[]),si(1073742336,Hg,Hg,[]),si(1073742336,qg,qg,[]),si(1024,lf,ff,[[3,Gp]]),si(512,gd,md,[]),si(512,Qp,Qp,[]),si(512,tl,sl,[Xa,[2,nl]]),si(512,rl,rl,[tl,Xa]),si(512,To,To,[]),si(512,as,ds,[To,[2,cs]]),si(1024,Bp,function(){return[[{path:"authentication/register",component:zf},{path:"authentication/profile",component:zf},{path:"authentication/login",component:zf},{path:"authentication/login-failed",component:zf},{path:"authentication/login-callback",component:zf},{path:"authentication/logout",component:Jf},{path:"authentication/logged-out",component:Jf},{path:"authentication/logout-callback",component:Jf}],[{path:"",redirectTo:"starterview",pathMatch:"full"},{path:"cultivos",component:hm,children:[{path:"gestion",component:wv,canActivate:[my]},{path:":cultivoId/Lotes",component:Iv,canActivate:[my]}]},{path:"usuarios",component:hm,children:[{path:"gestion",component:qv,canActivate:[my]}]},{path:"",component:hm,children:[{path:"starterview",component:Yv}]},{path:"",component:ty,children:[{path:"login",component:sy}]},{path:"**",redirectTo:"starterview"}]]},[]),si(256,af,{},[]),si(1024,Gp,mf,[os,gd,Qp,rl,Ht,as,To,Bp,af,[2,qp],[2,jp]]),si(1073742336,hf,hf,[[2,lf],[2,Gp]]),si(1073742336,vy,vy,[]),si(1073742336,yy,yy,[]),si(1073742336,vv,vv,[]),si(1073742336,by,by,[]),si(1073742336,_y,_y,[]),si(1073742336,wy,wy,[]),si(1073742336,Sy,Sy,[]),si(1073742336,Cy,Cy,[]),si(1073742336,Ey,Ey,[]),si(1073742336,Za,Za,[]),si(256,Vt,!0,[]),si(256,Mg,"XSRF-TOKEN",[]),si(256,Lg,"X-XSRF-TOKEN",[]),si(256,ug,{autoClose:!0},[])])});(function(){if(et)throw new Error("Cannot enable prod mode after platform setup.");Xe=!1})(),Fh().bootstrapModuleFactory(xy)}},[[0,0]]]);