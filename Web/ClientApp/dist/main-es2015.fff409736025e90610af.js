(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+dx+":function(t,e){!function(t,e,n,r){var i=t.fn.peity=function(e,n){return a&&this.each(function(){var r=t(this),s=r.data("_peity");s?(e&&(s.type=e),t.extend(s.opts,n)):(s=new o(r,e,t.extend({},i.defaults[e],r.data("peity"),n)),r.change(function(){s.draw()}).data("_peity",s)),s.draw()}),this},o=function(t,e,n){this.$el=t,this.type=e,this.opts=n},s=o.prototype,l=s.svgElement=function(n,r){return t(e.createElementNS("http://www.w3.org/2000/svg",n)).attr(r)},a="createElementNS"in e&&l("svg",{})[0].createSVGRect;s.draw=function(){var t=this.opts;i.graphers[this.type].call(this,t),t.after&&t.after.call(this,t)},s.fill=function(){var e=this.opts.fill;return t.isFunction(e)?e:function(t,n){return e[n%e.length]}},s.prepare=function(t,e){return this.$svg||this.$el.hide().after(this.$svg=l("svg",{class:"peity"})),this.$svg.empty().data("_peity",this).attr({height:e,width:t})},s.values=function(){return t.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})},i.defaults={},i.graphers={},i.register=function(t,e,n){this.defaults[t]=e,this.graphers[t]=n},i.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(e){if(!e.delimiter){var r=this.$el.text().match(/[^0-9\.]/);e.delimiter=r?r[0]:","}var i=t.map(this.values(),function(t){return t>0?t:0});if("/"==e.delimiter){var o=i[0];i=[o,n.max(0,i[1]-o)]}for(var s=0,a=i.length,u=0;s<a;s++)u+=i[s];u||(a=2,u=1,i=[0,1]);var c=2*e.radius,h=this.prepare(e.width||c,e.height||c),d=h.width(),p=h.height(),f=d/2,g=p/2,m=n.min(f,g),v=e.innerRadius;"donut"!=this.type||v||(v=.5*m);var y=n.PI,b=this.fill(),_=this.scale=function(t,e){var r=t/u*y*2-y/2;return[e*n.cos(r)+f,e*n.sin(r)+g]},w=0;for(s=0;s<a;s++){var S,C=i[s],E=C/u;if(0!=E){if(1==E)if(v){var x=f-.01,F=g-m,k=g-v;S=l("path",{d:["M",f,F,"A",m,m,0,1,1,x,F,"L",x,k,"A",v,v,0,1,0,f,k].join(" "),"data-value":C})}else S=l("circle",{cx:f,cy:g,"data-value":C,r:m});else{var A=w+C,T=["M"].concat(_(w,m),"A",m,m,0,E>.5?1:0,1,_(A,m),"L");v?T=T.concat(_(A,v),"A",v,v,0,E>.5?1:0,0,_(w,v)):T.push(f,g),w+=C,S=l("path",{d:T.join(" "),"data-value":C})}S.attr("fill",b.call(this,C,s,i)),h.append(S)}}}),i.register("donut",t.extend(!0,{},i.defaults.pie),function(t){i.graphers.pie.call(this,t)}),i.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var r=n.max.apply(n,null==t.max?e:e.concat(t.max)),i=n.min.apply(n,null==t.min?e:e.concat(t.min)),o=this.prepare(t.width,t.height),s=t.strokeWidth,a=o.width(),u=o.height()-s,c=r-i,h=this.x=function(t){return t*(a/(e.length-1))},d=this.y=function(t){var e=u;return c&&(e-=(t-i)/c*u),e+s/2},p=d(n.max(i,0)),f=[0,p],g=0;g<e.length;g++)f.push(h(g),d(e[g]));f.push(a,p),t.fill&&o.append(l("polygon",{fill:t.fill,points:f.join(" ")})),s&&o.append(l("polyline",{fill:"none",points:f.slice(2,f.length-2).join(" "),stroke:t.stroke,"stroke-width":s,"stroke-linecap":"square"}))}),i.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},function(t){for(var e=this.values(),r=n.max.apply(n,null==t.max?e:e.concat(t.max)),i=n.min.apply(n,null==t.min?e:e.concat(t.min)),o=this.prepare(t.width,t.height),s=o.width(),a=o.height(),u=r-i,c=t.padding,h=this.fill(),d=this.x=function(t){return t*s/e.length},p=this.y=function(t){return a-(u?(t-i)/u*a:1)},f=0;f<e.length;f++){var g,m=d(f+c),v=d(f+1-c)-m,y=e[f],b=p(y),_=b,w=b;u?y<0?_=p(n.min(r,0)):w=p(n.max(i,0)):g=1,0==(g=w-_)&&(g=1,r>0&&u&&_--),o.append(l("rect",{"data-value":y,fill:h.call(this,y,f,e),x:m,y:_,width:v,height:g}))}})}(jQuery,document,Math)},0:function(t,e,n){t.exports=n("zUnb")},"3Rfw":function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,(function(e){return t[e]}).bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,s=void 0;(e.Log=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.reset=function(){s=3,o=i},t.debug=function(){if(s>=4){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.debug.apply(o,Array.from(e))}},t.info=function(){if(s>=3){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.info.apply(o,Array.from(e))}},t.warn=function(){if(s>=2){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.warn.apply(o,Array.from(e))}},t.error=function(){if(s>=1){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];o.error.apply(o,Array.from(e))}},r(t,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return s},set:function(t){if(!(0<=t&&t<=4))throw new Error("Invalid log level");s=t}},{key:"logger",get:function(){return o},set:function(t){if(!t.debug&&t.info&&(t.debug=t.info),!(t.debug&&t.info&&t.warn&&t.error))throw new Error("Invalid logger");o=t}}]),t}()).reset()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i={setInterval:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setInterval(t,e)}),clearInterval:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearInterval(t)})},o=!1,s=null;e.Global=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t._testing=function(){o=!0},t.setXMLHttpRequest=function(t){s=t},r(t,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return s||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(7);e.MetadataService=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=e,this._jsonService=new n(["application/jwk-set+json"])}return t.prototype.getMetadata=function(){var t=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(e){return i.Log.debug("MetadataService.getMetadata: json received"),t._settings.metadata=e,e})):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},t.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},t.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},t.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},t.prototype.getTokenEndpoint=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",t)},t.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},t.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},t.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},t.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},t.prototype._getMetadataProperty=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+t),this.getMetadata().then(function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[t]){if(!0===e)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+t);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+t),new Error("Metadata does not contain property "+t)}return n[t]})},t.prototype.getSigningKeys=function(){var t=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(e){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",e),t._jsonService.getJson(e).then(function(e){if(i.Log.debug("MetadataService.getSigningKeys: key set received",e),!e.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return t._settings.signingKeys=e.keys,t._settings.signingKeys})})},r(t,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration"))),this._metadataUrl}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlUtility=void 0;var r=n(0),i=n(1);e.UrlUtility=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.addQueryParam=function(t,e,n){return t.indexOf("?")<0&&(t+="?"),"?"!==t[t.length-1]&&(t+="&"),t+=encodeURIComponent(e),(t+="=")+encodeURIComponent(n)},t.parseUrlFragment=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof t&&(t=n.location.href);var o=t.lastIndexOf(e);o>=0&&(t=t.substr(o+1)),"?"===e&&(o=t.indexOf("#"))>=0&&(t=t.substr(0,o));for(var s,l={},a=/([^&=]+)=([^&]*)/g,u=0;s=a.exec(t);)if(l[decodeURIComponent(s[1])]=decodeURIComponent(s[2]),u++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",t),{error:"Response exceeded expected number of parameters"};for(var c in l)return l;return{}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JoseUtil=void 0;var r=n(25),i=function(t){return t&&t.__esModule?t:{default:t}}(n(32));e.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0),s=n(6),l=n(23),a=n(2),u="id_token",c="openid",h=900,d=300;e.OidcClientSettings=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.authority,i=e.metadataUrl,o=e.metadata,p=e.signingKeys,f=e.client_id,g=e.client_secret,m=e.response_type,v=void 0===m?u:m,y=e.scope,b=void 0===y?c:y,_=e.redirect_uri,w=e.post_logout_redirect_uri,S=e.prompt,C=e.display,E=e.max_age,x=e.ui_locales,F=e.acr_values,k=e.resource,A=e.response_mode,T=e.filterProtocolClaims,P=void 0===T||T,R=e.loadUserInfo,I=void 0===R||R,O=e.staleStateAge,D=void 0===O?h:O,N=e.clockSkew,M=void 0===N?d:N,L=e.userInfoJwtIssuer,U=void 0===L?"OP":L,j=e.stateStore,V=void 0===j?new s.WebStorageStateStore:j,B=e.ResponseValidatorCtor,H=void 0===B?l.ResponseValidator:B,q=e.MetadataServiceCtor,z=void 0===q?a.MetadataService:q,K=e.extraQueryParams,$=void 0===K?{}:K;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._authority=n,this._metadataUrl=i,this._metadata=o,this._signingKeys=p,this._client_id=f,this._client_secret=g,this._response_type=v,this._scope=b,this._redirect_uri=_,this._post_logout_redirect_uri=w,this._prompt=S,this._display=C,this._max_age=E,this._ui_locales=x,this._acr_values=F,this._resource=k,this._response_mode=A,this._filterProtocolClaims=!!P,this._loadUserInfo=!!I,this._staleStateAge=D,this._clockSkew=M,this._userInfoJwtIssuer=U,this._stateStore=V,this._validator=new H(this),this._metadataService=new z(this),this._extraQueryParams="object"===(void 0===$?"undefined":r($))?$:{}}return i(t,[{key:"client_id",get:function(){return this._client_id},set:function(t){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=t}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(t){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=t}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(".well-known/openid-configuration")<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=".well-known/openid-configuration")),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(t){this._metadata=t}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(t){this._signingKeys=t}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(t){this._extraQueryParams="object"===(void 0===t?"undefined":r(t))?t:{}}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebStorageStateStore=void 0;var r=n(0),i=n(1);e.WebStorageStateStore=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.prefix,r=void 0===n?"oidc.":n,o=e.store,s=void 0===o?i.Global.localStorage:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._store=s,this._prefix=r}return t.prototype.set=function(t,e){return r.Log.debug("WebStorageStateStore.set",t),this._store.setItem(t=this._prefix+t,e),Promise.resolve()},t.prototype.get=function(t){r.Log.debug("WebStorageStateStore.get",t);var e=this._store.getItem(t=this._prefix+t);return Promise.resolve(e)},t.prototype.remove=function(t){r.Log.debug("WebStorageStateStore.remove",t);var e=this._store.getItem(t=this._prefix+t);return this._store.removeItem(t),Promise.resolve(e)},t.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var t=[],e=0;e<this._store.length;e++){var n=this._store.key(e);0===n.indexOf(this._prefix)&&t.push(n.substr(this._prefix.length))}return Promise.resolve(t)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JsonService=void 0;var r=n(0),i=n(1);e.JsonService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentTypes=e&&Array.isArray(e)?e.slice():[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return t.prototype.getJson=function(t,e){var n=this;if(!t)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",t),new Promise(function(i,o){var s=new n._XMLHttpRequest;s.open("GET",t);var l=n._contentTypes,a=n._jwtHandler;s.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",s.status),200===s.status){var e=s.getResponseHeader("Content-Type");if(e){var n=l.find(function(t){if(e.startsWith(t))return!0});if("application/jwt"==n)return void a(s).then(i,o);if(n)try{return void i(JSON.parse(s.responseText))}catch(i){return r.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+e+", from URL: "+t))}else o(Error(s.statusText+" ("+s.status+")"))},s.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},e&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),s.setRequestHeader("Authorization","Bearer "+e)),s.send()})},t.prototype.postForm=function(t,e){var n=this;if(!t)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",t),new Promise(function(i,o){var s=new n._XMLHttpRequest;s.open("POST",t);var l=n._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&l.find(function(t){if(n.startsWith(t))return!0}))try{var e=JSON.parse(s.responseText);if(e&&e.error)return r.Log.error("JsonService.postForm: Error from server: ",e.error),void o(new Error(e.error))}catch(i){return r.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void o(i)}o(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&l.find(function(t){if(n.startsWith(t))return!0}))try{return void i(JSON.parse(s.responseText))}catch(i){return r.Log.error("JsonService.postForm: Error parsing JSON response",i.message),void o(i)}o(Error("Invalid response Content-Type: "+n+", from URL: "+t))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),o(Error("Network Error"))};var a="";for(var u in e){var c=e[u];c&&(a.length>0&&(a+="&"),a+=encodeURIComponent(u),a+="=",a+=encodeURIComponent(c))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(a)})},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.State=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=function(t){return t&&t.__esModule?t:{default:t}}(n(14));e.State=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id,r=e.data,i=e.created,s=e.request_type;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return t.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},t.fromStorageString=function(e){return i.Log.debug("State.fromStorageString"),new t(JSON.parse(e))},t.clearStaleState=function(e,n){var r=Date.now()/1e3-n;return e.getAllKeys().then(function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],s=function(s){var l=n[s];a=e.get(l).then(function(n){var o=!1;if(n)try{var s=t.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",l,s.created),s.created<=r&&(o=!0)}catch(t){i.Log.error("State.clearStaleState: Error parsing state for key",l,t.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",l),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",l),e.remove(l)}),o.push(a)},l=0;l<n.length;l++){var a;s(l)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)})},r(t,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClient=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(5),s=n(11),l=n(12),a=n(36),u=n(37),c=n(38),h=n(13),d=n(8);e.OidcClient=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._settings=e instanceof o.OidcClientSettings?e:new o.OidcClientSettings(e)}return t.prototype.createSigninRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.response_type,r=e.scope,o=e.redirect_uri,s=e.data,a=e.state,u=e.prompt,c=e.display,h=e.max_age,d=e.ui_locales,p=e.id_token_hint,f=e.login_hint,g=e.acr_values,m=e.resource,v=e.request,y=e.request_uri,b=e.response_mode,_=e.extraQueryParams,w=e.extraTokenParams,S=e.request_type,C=e.skipUserInfo,E=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var x=this._settings.client_id;r=r||this._settings.scope,o=o||this._settings.redirect_uri,u=u||this._settings.prompt,c=c||this._settings.display,h=h||this._settings.max_age,d=d||this._settings.ui_locales,g=g||this._settings.acr_values,m=m||this._settings.resource,b=b||this._settings.response_mode,_=_||this._settings.extraQueryParams;var F=this._settings.authority;return l.SigninRequest.isCode(n=n||this._settings.response_type)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(e){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",e);var k=new l.SigninRequest({url:e,client_id:x,redirect_uri:o,response_type:n,scope:r,data:s||a,authority:F,prompt:u,display:c,max_age:h,ui_locales:d,id_token_hint:p,login_hint:f,acr_values:g,resource:m,request:v,request_uri:y,extraQueryParams:_,extraTokenParams:w,request_type:S,response_mode:b,client_secret:t._settings.client_secret,skipUserInfo:C}),A=k.state;return(E=E||t._stateStore).set(A.id,A.toStorageString()).then(function(){return k})})},t.prototype.readSigninResponseState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&l.SigninRequest.isCode(this._settings.response_type)?"?":"#",o=new a.SigninResponse(t,r);return o.state?(e=e||this._stateStore,(n?e.remove.bind(e):e.get.bind(e))(o.state).then(function(t){if(!t)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:h.SigninState.fromStorageString(t),response:o}})):(i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},t.prototype.processSigninResponse=function(t,e){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(t,e,!0).then(function(t){var e=t.state,r=t.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(e,r)})},t.prototype.createSignoutRequest=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id_token_hint,r=e.data,o=e.state,s=e.post_logout_redirect_uri,l=e.extraQueryParams,a=e.request_type,c=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),s=s||this._settings.post_logout_redirect_uri,l=l||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(e){if(!e)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",e);var h=new u.SignoutRequest({url:e,id_token_hint:n,post_logout_redirect_uri:s,data:r||o,extraQueryParams:l,request_type:a}),d=h.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(c=c||t._stateStore).set(d.id,d.toStorageString())),h})},t.prototype.readSignoutResponseState=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new c.SignoutResponse(t);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new s.ErrorResponse(r))):Promise.resolve({undefined:void 0,response:r});var o=r.state;return e=e||this._stateStore,(n?e.remove.bind(e):e.get.bind(e))(o).then(function(t){if(!t)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(t),response:r}})},t.prototype.processSignoutResponse=function(t,e){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(t,e,!0).then(function(t){var e=t.state,r=t.response;return i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(e,r)})},t.prototype.clearStaleState=function(t){return i.Log.debug("OidcClient.clearStaleState"),d.State.clearStaleState(t=t||this._stateStore,this.settings.staleStateAge)},r(t,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);e.TokenClient=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new n,this._metadataService=new s(this._settings)}return t.prototype.exchangeCode=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).grant_type=e.grant_type||"authorization_code",e.client_id=e.client_id||this._settings.client_id,e.redirect_uri=e.redirect_uri||this._settings.redirect_uri,e.code?e.redirect_uri?e.code_verifier?e.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),t._jsonService.postForm(n,e).then(function(t){return o.Log.debug("TokenClient.exchangeCode: response received"),t})}):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},t.prototype.exchangeRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).grant_type=e.grant_type||"refresh_token",e.client_id=e.client_id||this._settings.client_id,e.client_secret=e.client_secret||this._settings.client_secret,e.refresh_token?e.client_id?this._metadataService.getTokenEndpoint(!1).then(function(n){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),t._jsonService.postForm(n,e).then(function(t){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),t})}):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorResponse=void 0;var r=n(0);e.ErrorResponse=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.error,o=n.error_description,s=n.error_uri,l=n.state;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!i)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o||i));return a.name="ErrorResponse",a.error=i,a.error_description=o,a.error_uri=s,a.state=l,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(Error)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);e.SigninRequest=function(){function t(e){var n=e.url,s=e.client_id,l=e.redirect_uri,a=e.response_type,u=e.scope,c=e.authority,h=e.data,d=e.prompt,p=e.display,f=e.max_age,g=e.ui_locales,m=e.id_token_hint,v=e.login_hint,y=e.acr_values,b=e.resource,_=e.response_mode,w=e.request,S=e.request_uri,C=e.extraQueryParams,E=e.request_type,x=e.client_secret,F=e.extraTokenParams,k=e.skipUserInfo;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!s)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!l)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!a)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!u)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!c)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var A=t.isOidc(a),T=t.isCode(a);_||(_=t.isCode(a)?"query":null),this.state=new o.SigninState({nonce:A,data:h,client_id:s,authority:c,redirect_uri:l,code_verifier:T,request_type:E,response_mode:_,client_secret:x,scope:u,extraTokenParams:F,skipUserInfo:k}),n=i.UrlUtility.addQueryParam(n,"client_id",s),n=i.UrlUtility.addQueryParam(n,"redirect_uri",l),n=i.UrlUtility.addQueryParam(n,"response_type",a),n=i.UrlUtility.addQueryParam(n,"scope",u),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),A&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),T&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var P={prompt:d,display:p,max_age:f,ui_locales:g,id_token_hint:m,login_hint:v,acr_values:y,resource:b,request:w,request_uri:S,response_mode:_};for(var R in P)P[R]&&(n=i.UrlUtility.addQueryParam(n,R,P[R]));for(var I in C)n=i.UrlUtility.addQueryParam(n,I,C[I]);this.url=n}return t.isOidc=function(t){return!!t.split(/\s+/g).filter(function(t){return"id_token"===t})[0]},t.isOAuth=function(t){return!!t.split(/\s+/g).filter(function(t){return"token"===t})[0]},t.isCode=function(t){return!!t.split(/\s+/g).filter(function(t){return"code"===t})[0]},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninState=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(8),s=n(4),l=function(t){return t&&t.__esModule?t:{default:t}}(n(14));e.SigninState=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,a=n.redirect_uri,u=n.code_verifier,c=n.response_mode,h=n.client_secret,d=n.scope,p=n.extraTokenParams,f=n.skipUserInfo;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var g=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments[0]));if(!0===r?g._nonce=(0,l.default)():r&&(g._nonce=r),!0===u?g._code_verifier=(0,l.default)()+(0,l.default)()+(0,l.default)():u&&(g._code_verifier=u),g.code_verifier){var m=s.JoseUtil.hashString(g.code_verifier,"SHA256");g._code_challenge=s.JoseUtil.hexToBase64Url(m)}return g._redirect_uri=a,g._authority=i,g._client_id=o,g._response_mode=c,g._client_secret=h,g._scope=d,g._extraTokenParams=p,g._skipUserInfo=f,g}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},e.fromStorageString=function(t){return i.Log.debug("SigninState.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),e}(o.State)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,r.default)().replace(/-/g,"")};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(33));t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.User=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.User=function(){function t(e){var n=e.id_token,r=e.session_state,i=e.access_token,o=e.refresh_token,s=e.token_type,l=e.scope,a=e.profile,u=e.expires_at,c=e.state;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=s,this.scope=l,this.profile=a,this.expires_at=u,this.state=c}return t.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},t.fromStorageString=function(e){return i.Log.debug("User.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessTokenEvents=void 0;var r=n(0),i=n(48),o=60;e.AccessTokenEvents=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.accessTokenExpiringNotificationTime,r=void 0===n?o:n,s=e.accessTokenExpiringTimer,l=void 0===s?new i.Timer("Access token expiring"):s,a=e.accessTokenExpiredTimer,u=void 0===a?new i.Timer("Access token expired"):a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=l,this._accessTokenExpired=u}return t.prototype.load=function(t){if(t.access_token&&void 0!==t.expires_in){var e=t.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",e),e>0){var n=e-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=e+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},t.prototype.addAccessTokenExpiring=function(t){this._accessTokenExpiring.addHandler(t)},t.prototype.removeAccessTokenExpiring=function(t){this._accessTokenExpiring.removeHandler(t)},t.prototype.addAccessTokenExpired=function(t){this._accessTokenExpired.addHandler(t)},t.prototype.removeAccessTokenExpired=function(t){this._accessTokenExpired.removeHandler(t)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var r=n(0);e.Event=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._callbacks=[]}return t.prototype.addHandler=function(t){this._callbacks.push(t)},t.prototype.removeHandler=function(t){var e=this._callbacks.findIndex(function(e){return e===t});e>=0&&this._callbacks.splice(e,1)},t.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var t=0;t<this._callbacks.length;t++){var e;(e=this._callbacks)[t].apply(e,arguments)}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SessionMonitor=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(19);e.SessionMonitor=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=e,this._CheckSessionIFrameCtor=r,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),this._userManager.getUser().then(function(t){t&&n._start(t)}).catch(function(t){i.Log.error("SessionMonitor ctor: error from getUser:",t.message)})}return t.prototype._start=function(t){var e=this,n=t.session_state;n&&(this._sub=t.profile.sub,this._sid=t.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then(function(t){if(t){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=e._client_id,o=e._checkSessionInterval,s=e._stopCheckSessionOnError;e._checkSessionIFrame=new e._CheckSessionIFrameCtor(e._callback.bind(e),r,t,o,s),e._checkSessionIFrame.load().then(function(){e._checkSessionIFrame.start(n)})}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(t){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",t.message)}))},t.prototype._stop=function(){this._sub=null,this._sid=null,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop())},t.prototype._callback=function(){var t=this;this._userManager.querySessionStatus().then(function(e){var n=!0;e?e.sub===t._sub?(n=!1,t._checkSessionIFrame.start(e.session_state),e.sid===t._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",e.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",e.session_state),t._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",e.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),t._userManager.events._raiseUserSignedOut())}).catch(function(e){i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",e.message),t._userManager.events._raiseUserSignedOut()})},r(t,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CheckSessionIFrame=void 0;var r=n(0),i=2e3;e.CheckSessionIFrame=function(){function t(e,n,r,o){var s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._callback=e,this._client_id=n,this._url=r,this._interval=o||i,this._stopOnError=s;var l=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,l),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,this._frame.src=r}return t.prototype.load=function(){var t=this;return new Promise(function(e){t._frame.onload=function(){e()},window.document.body.appendChild(t._frame),t._boundMessageEvent=t._message.bind(t),window.addEventListener("message",t._boundMessageEvent,!1)})},t.prototype._message=function(t){t.origin===this._frame_origin&&t.source===this._frame.contentWindow&&("error"===t.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===t.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+t.data+" message from check session op iframe"))},t.prototype.start=function(t){var e=this;if(this._session_state!==t){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=t;var n=function(){e._frame.contentWindow.postMessage(e._client_id+" "+e._session_state,e._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},t.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);e.TokenRevocationClient=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=e,this._XMLHttpRequestCtor=n,this._metadataService=new s(this._settings)}return t.prototype.revoke=function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!t)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==i&&"refresh_token"!=i)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(o){if(o)return r.Log.debug("TokenRevocationClient.revoke: Revoking "+i),n._revoke(o,n._settings.client_id,n._settings.client_secret,t,i);if(e)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},t.prototype._revoke=function(t,e,n,i,o){var s=this;return new Promise(function(l,a){var u=new s._XMLHttpRequestCtor;u.open("POST",t),u.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",u.status),200===u.status?l():a(Error(u.statusText+" ("+u.status+")"))},u.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),a("Network Error")};var c="client_id="+encodeURIComponent(e);n&&(c+="&client_secret="+encodeURIComponent(n)),c+="&token_type_hint="+encodeURIComponent(o),c+="&token="+encodeURIComponent(i),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(c)})},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o="location=no,toolbar=no,zoom=no",s="_blank";e.CordovaPopupWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e}),this.features=e.popupWindowFeatures||o,this.target=e.popupWindowTarget||s,this.redirect_uri=e.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return t.prototype._isInAppBrowserInstalled=function(t){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(e){return t.hasOwnProperty(e)})},t.prototype.navigate=function(t){if(t&&t.url){if(!window.cordova)return this._error("cordova is undefined");var e=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(e))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(t.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},t.prototype._loadStartCallback=function(t){0===t.url.indexOf(this.redirect_uri)&&this._success({url:t.url})},t.prototype._exitCallback=function(t){this._error(t)},t.prototype._success=function(t){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(9),o=n(5),s=n(6),l=n(39),a=n(40),u=n(16),c=n(2),h=n(50),d=n(51),p=n(19),f=n(20),g=n(18),m=n(1),v=n(15),y=n(52);e.default={Version:y.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:s.WebStorageStateStore,InMemoryWebStorage:l.InMemoryWebStorage,UserManager:a.UserManager,AccessTokenEvents:u.AccessTokenEvents,MetadataService:c.MetadataService,CordovaPopupNavigator:h.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:f.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:m.Global,User:v.User},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),o=n(2),s=n(24),l=n(10),a=n(11),u=n(4),c=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];e.ResponseValidator=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UserInfoService,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.JoseUtil,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.TokenClient;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=e,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=a,this._tokenClient=new c(this._settings)}return t.prototype.validateSigninResponse=function(t,e){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(t,e).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(t,e).then(function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(t,e).then(function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),t})})})},t.prototype.validateSignoutResponse=function(t,e){return t.id!==e.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",e.error),Promise.reject(new a.ErrorResponse(e))):Promise.resolve(e))},t.prototype._processSigninParams=function(t,e){if(t.id!==e.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!t.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!t.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==t.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=t.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==t.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=t.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),e.state=t.data,e.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",e.error),Promise.reject(new a.ErrorResponse(e))):t.nonce&&!e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!t.nonce&&e.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):t.code_verifier&&!e.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!t.code_verifier&&e.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(e.scope||(e.scope=t.scope),Promise.resolve(e))},t.prototype._processClaims=function(t,e){var n=this;if(e.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),e.profile=this._filterProtocolClaims(e.profile),!0!==t.skipUserInfo&&this._settings.loadUserInfo&&e.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(e.access_token).then(function(t){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),t.sub!==e.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in access_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in access_token"))):(e.profile=n._mergeClaims(e.profile,t),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",e.profile),e)});i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(e)},t.prototype._mergeClaims=function(t,e){var n=Object.assign({},t);for(var i in e){var o=e[i];Array.isArray(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];n[i]?Array.isArray(n[i])?n[i].indexOf(l)<0&&n[i].push(l):n[i]!==l&&(n[i]="object"===(void 0===l?"undefined":r(l))?this._mergeClaims(n[i],l):[n[i],l]):n[i]=l}}return n},t.prototype._filterProtocolClaims=function(t){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",t);var e=Object.assign({},t);return this._settings._filterProtocolClaims?(c.forEach(function(t){delete e[t]}),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",e)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),e},t.prototype._validateTokens=function(t,e){return e.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(t,e)):e.id_token?e.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(t,e)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(e))},t.prototype._processCode=function(t,e){var n=this,o={client_id:t.client_id,client_secret:t.client_secret,code:e.code,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier};return t.extraTokenParams&&"object"===r(t.extraTokenParams)&&Object.assign(o,t.extraTokenParams),this._tokenClient.exchangeCode(o).then(function(r){for(var o in r)e[o]=r[o];return e.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(t,e)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),e)})},t.prototype._validateIdTokenAttributes=function(t,e){var n=this;return this._metadataService.getIssuer().then(function(r){var o=t.client_id,s=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",s),n._joseUtil.validateJwtAttributes(e.id_token,r,o,s).then(function(n){return t.nonce&&t.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(e.profile=n,e):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})},t.prototype._validateIdTokenAndAccessToken=function(t,e){var n=this;return this._validateIdToken(t,e).then(function(t){return n._validateAccessToken(t)})},t.prototype._validateIdToken=function(t,e){var n=this;if(!t.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(e.id_token);if(!r||!r.header||!r.payload)return i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token"));if(t.nonce!==r.payload.nonce)return i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"));var o=r.header.kid;return this._metadataService.getIssuer().then(function(s){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._metadataService.getSigningKeys().then(function(l){if(!l)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var a=void 0;if(o)a=l.filter(function(t){return t.kid===o})[0];else{if((l=n._filterByAlg(l,r.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));a=l[0]}if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=t.client_id,c=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(e.id_token,a,s,u,c).then(function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(e.profile=r.payload,e):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},t.prototype._filterByAlg=function(t,e){var n=null;if(e.startsWith("RS"))n="RSA";else if(e.startsWith("PS"))n="PS";else{if(!e.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",e),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),t=t.filter(function(t){return t.kty===n}),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,t.length),t},t.prototype._validateAccessToken=function(t){if(!t.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!t.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!t.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var e=this._joseUtil.parseJwt(t.id_token);if(!e||!e.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",e),Promise.reject(new Error("Failed to parse id_token"));var n=e.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,s=this._joseUtil.hashString(t.access_token,o);if(!s)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var l=s.substr(0,s.length/2),a=this._joseUtil.hexToBase64Url(l);return a!==t.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",a,t.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(t))},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),s=n(4);e.UserInfoService=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.JoseUtil;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=e,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new l(this._settings),this._joseUtil=a}return t.prototype.getClaims=function(t){var e=this;return t?this._metadataService.getUserInfoEndpoint().then(function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),e._jsonService.getJson(n,t).then(function(t){return o.Log.debug("UserInfoService.getClaims: claims received",t),t})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},t.prototype._getClaimsFromJwt=function t(e){var n=this;try{var r=this._joseUtil.parseJwt(e.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,s=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":s=this._metadataService.getIssuer();break;case"ANY":s=Promise.resolve(r.payload.iss);break;default:s=Promise.resolve(this._settings.userInfoJwtIssuer)}return s.then(function(t){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+t),n._metadataService.getSigningKeys().then(function(s){if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var l=void 0;if(i)l=s.filter(function(t){return t.kid===i})[0];else{if((s=n._filterByAlg(s,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));l=s[0]}if(!l)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var a=n._settings.client_id,u=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(e.responseText,l,t,a,u,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload})})})}catch(t){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",t.message),void reject(t)}},t.prototype._filterByAlg=function(t,e){var n=null;if(e.startsWith("RS"))n="RSA";else if(e.startsWith("PS"))n="PS";else{if(!e.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",e),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),t=t.filter(function(t){return t.kty===n}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,t.length),t},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AllowedSigningAlgs=e.b64tohex=e.hextob64u=e.crypto=e.X509=e.KeyUtil=e.jws=void 0;var r=n(26);e.jws=r.jws,e.KeyUtil=r.KEYUTIL,e.X509=r.X509,e.crypto=r.crypto,e.hextob64u=r.hextob64u,e.b64tohex=r.b64tohex,e.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r={userAgent:!1},i={};if(void 0===o)var o={};o.lang={extend:function(e,n,i){if(!n||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=n.prototype,e.prototype=new o,e.prototype.constructor=e,e.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n),i){var s;for(s in i)e.prototype[s]=i[s];var l=function(){},a=["toString","valueOf"];try{/MSIE/.test(r.userAgent)&&(l=function(t,e){for(s=0;s<a.length;s+=1){var n=a[s],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(t){}l(e.prototype,i)}}};var s,l,a,u,c,h,d,p,f,g,m,v=v||(s=Math,a=(l={}).lib={},u=a.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=u.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||d).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++)e[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=s.ceil(e/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(4294967296*s.random()|0);return new c.init(e,t)}}),h=l.enc={},d=h.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new c.init(n,e/2)}},p=h.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new c.init(n,e)}},f=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return p.parse(unescape(encodeURIComponent(t)))}},g=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,n=e.words,r=e.sigBytes,i=this.blockSize,o=r/(4*i),l=(o=t?s.ceil(o):s.max((0|o)-this._minBufferSize,0))*i,a=s.min(4*l,r);if(l){for(var u=0;u<l;u+=i)this._doProcessBlock(n,u);var h=n.splice(0,l);e.sigBytes-=a}return new c.init(h,a)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),a.Hasher=g.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new m.HMAC.init(t,n).finalize(e)}}}),m=l.algo={},l);!function(t){var e,n=(e=v).lib,r=n.Base,i=n.WordArray;(e=e.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),function(){var t=v.lib.WordArray;v.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)t.push(r.charAt(o>>>6*(3-s)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,s=0;s<n;s++)if(s%4){var l=r.indexOf(e.charAt(s-1))<<s%4*2,a=r.indexOf(e.charAt(s))>>>6-s%4*2;i[o>>>2]|=(l|a)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){for(var e=v,n=(i=e.lib).WordArray,r=i.Hasher,i=e.algo,o=[],s=[],l=function(t){return 4294967296*(t-(0|t))|0},a=2,u=0;64>u;){var c;t:{for(var h=t.sqrt(c=a),d=2;d<=h;d++)if(!(c%d)){c=!1;break t}c=!0}c&&(8>u&&(o[u]=l(t.pow(a,.5))),s[u]=l(t.pow(a,1/3)),u++),a++}var p=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],l=n[3],a=n[4],u=n[5],c=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|t[e+d];else{var f=p[d-15],g=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}f=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+s[d]+p[d],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=c,c=u,u=a,a=l+f|0,l=o,o=i,i=r,r=f+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+l|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=r._createHelper(i),e.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function t(){return r.create.apply(r,arguments)}for(var e=v,n=e.lib.Hasher,r=(o=e.x64).Word,i=o.WordArray,o=e.algo,s=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],l=[],a=0;80>a;a++)l[a]=t();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],a=h[4],u=h[5],c=h[6],h=h[7],d=n.high,p=n.low,f=r.high,g=r.low,m=i.high,v=i.low,y=o.high,b=o.low,_=a.high,w=a.low,S=u.high,C=u.low,E=c.high,x=c.low,F=h.high,k=h.low,A=d,T=p,P=f,R=g,I=m,O=v,D=y,N=b,M=_,L=w,U=S,j=C,V=E,B=x,H=F,q=k,z=0;80>z;z++){var K=l[z];if(16>z)var $=K.high=0|t[e+2*z],W=K.low=0|t[e+2*z+1];else{$=((W=($=l[z-15]).high)>>>1|(G=$.low)<<31)^(W>>>8|G<<24)^W>>>7;var G=(G>>>1|W<<31)^(G>>>8|W<<24)^(G>>>7|W<<25),J=((W=(J=l[z-2]).high)>>>19|(Y=J.low)<<13)^(W<<3|Y>>>29)^W>>>6,Y=(Y>>>19|W<<13)^(Y<<3|W>>>29)^(Y>>>6|W<<26),Z=(W=l[z-7]).high,Q=(X=l[z-16]).high,X=X.low;$=($=($=$+Z+((W=G+W.low)>>>0<G>>>0?1:0))+J+((W+=Y)>>>0<Y>>>0?1:0))+Q+((W+=X)>>>0<X>>>0?1:0),K.high=$,K.low=W}K=A&P^A&I^P&I;var tt=T&R^T&O^R&O,et=(G=(A>>>28|T<<4)^(A<<30|T>>>2)^(A<<25|T>>>7),J=(T>>>28|A<<4)^(T<<30|A>>>2)^(T<<25|A>>>7),(Y=s[z]).high),nt=Y.low;Q=(Q=(Q=(Q=H+((M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9))+((Y=q+((L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9)))>>>0<q>>>0?1:0))+(Z=M&U^~M&V)+((Y+=X=L&j^~L&B)>>>0<X>>>0?1:0))+et+((Y+=nt)>>>0<nt>>>0?1:0))+$+((Y+=W)>>>0<W>>>0?1:0),H=V,q=B,V=U,B=j,U=M,j=L,M=D+Q+((L=N+Y|0)>>>0<N>>>0?1:0)|0,D=I,N=O,I=P,O=R,P=A,R=T,A=Q+(K=G+K+((W=J+tt)>>>0<J>>>0?1:0))+((T=Y+W|0)>>>0<Y>>>0?1:0)|0}p=n.low=p+T,n.high=d+A+(p>>>0<T>>>0?1:0),g=r.low=g+R,r.high=f+P+(g>>>0<R>>>0?1:0),v=i.low=v+O,i.high=m+I+(v>>>0<O>>>0?1:0),b=o.low=b+N,o.high=y+D+(b>>>0<N>>>0?1:0),w=a.low=w+L,a.high=_+M+(w>>>0<L>>>0?1:0),C=u.low=C+j,u.high=S+U+(C>>>0<j>>>0?1:0),x=c.low=x+B,c.high=E+V+(x>>>0<B>>>0?1:0),k=h.low=k+q,h.high=F+H+(k>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=n._createHelper(o),e.HmacSHA512=n._createHmacHelper(o)}(),function(){var t=v,e=(i=t.x64).Word,n=i.WordArray,r=(i=t.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=r._createHelper(i),t.HmacSHA384=r._createHmacHelper(i)}();var y,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="=";function w(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=b.charAt(n>>6)+b.charAt(63&n);if(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=b.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=b.charAt(n>>2)+b.charAt((3&n)<<4)),_)for(;(3&r.length)>0;)r+=_;return r}function S(t){var e,n,r,i="",o=0;for(e=0;e<t.length&&t.charAt(e)!=_;++e)(r=b.indexOf(t.charAt(e)))<0||(0==o?(i+=P(r>>2),n=3&r,o=1):1==o?(i+=P(n<<2|r>>4),n=15&r,o=2):2==o?(i+=P(n),i+=P(r>>2),n=3&r,o=3):(i+=P(n<<2|r>>4),i+=P(15&r),o=0));return 1==o&&(i+=P(n<<2)),i}function C(t){var e,n=S(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function E(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):this.fromString(t,null==e&&"string"!=typeof t?256:e))}function x(){return new E(null)}"Microsoft Internet Explorer"==r.appName?(E.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,l=e>>15;--o>=0;){var a=32767&this[t],u=this[t++]>>15,c=l*a+u*s;i=((a=s*a+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+l*u+(i>>>30),n[r++]=1073741823&a}return i},y=30):"Netscape"!=r.appName?(E.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},y=26):(E.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,l=e>>14;--o>=0;){var a=16383&this[t],u=this[t++]>>14,c=l*a+u*s;i=((a=s*a+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+l*u,n[r++]=268435455&a}return i},y=28),E.prototype.DB=y,E.prototype.DM=(1<<y)-1,E.prototype.DV=1<<y,E.prototype.FV=Math.pow(2,52),E.prototype.F1=52-y,E.prototype.F2=2*y-52;var F,k,A="0123456789abcdefghijklmnopqrstuvwxyz",T=new Array;for(F="0".charCodeAt(0),k=0;k<=9;++k)T[F++]=k;for(F="a".charCodeAt(0),k=10;k<36;++k)T[F++]=k;for(F="A".charCodeAt(0),k=10;k<36;++k)T[F++]=k;function P(t){return A.charAt(t)}function R(t,e){var n=T[t.charCodeAt(e)];return null==n?-1:n}function I(t){var e=x();return e.fromInt(t),e}function O(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function D(t){this.m=t}function N(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function M(t,e){return t&e}function L(t,e){return t|e}function U(t,e){return t^e}function j(t,e){return t&~e}function V(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function B(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function H(){}function q(t){return t}function z(t){this.r2=x(),this.q3=x(),E.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}D.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},D.prototype.revert=function(t){return t},D.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},D.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},D.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},N.prototype.convert=function(t){var e=x();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(E.ZERO)>0&&this.m.subTo(e,e),e},N.prototype.revert=function(t){var e=x();return t.copyTo(e),this.reduce(e),e},N.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},N.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},N.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},E.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},E.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},E.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var s=8==n?255&t[r]:R(t,r);s<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&E.ZERO.subTo(this,this)},E.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},E.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},E.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},E.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),l=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|l,l=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=l,e.t=this.t+s+1,e.s=this.s,e.clamp()},E.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},E.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},E.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&E.ZERO.subTo(e,e)},E.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},E.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var o=x(),s=this.s,l=t.s,a=this.DB-O(r[r.t-1]);a>0?(r.lShiftTo(a,o),i.lShiftTo(a,n)):(r.copyTo(o),i.copyTo(n));var u=o.t,c=o[u-1];if(0!=c){var h=c*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,g=n.t,m=g-u,v=null==e?x():e;for(o.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),E.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--m>=0;){var y=n[--g]==c?this.DM:Math.floor(n[g]*d+(n[g-1]+f)*p);if((n[g]+=o.am(0,y,n,m,0,u))<y)for(o.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=e&&(n.drShiftTo(u,e),s!=l&&E.ZERO.subTo(e,e)),n.t=u,n.clamp(),a>0&&n.rShiftTo(a,n),s<0&&E.ZERO.subTo(n,n)}}},E.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},E.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},E.prototype.exp=function(t,e){if(t>4294967295||t<1)return E.ONE;var n=x(),r=x(),i=e.convert(this),o=O(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var s=n;n=r,r=s}return e.revert(n)},E.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,l=this.DB-s*this.DB%e;if(s-- >0)for(l<this.DB&&(n=this[s]>>l)>0&&(i=!0,o=P(n));s>=0;)l<e?(n=(this[s]&(1<<l)-1)<<e-l,n|=this[--s]>>(l+=this.DB-e)):(n=this[s]>>(l-=e)&r,l<=0&&(l+=this.DB,--s)),n>0&&(i=!0),i&&(o+=P(n));return i?o:"0"},E.prototype.negate=function(){var t=x();return E.ZERO.subTo(this,t),t},E.prototype.abs=function(){return this.s<0?this.negate():this},E.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},E.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},E.prototype.mod=function(t){var e=x();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(E.ZERO)>0&&t.subTo(e,e),e},E.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new D(e):new N(e),this.exp(t,n)},E.ZERO=I(0),E.ONE=I(1),H.prototype.convert=q,H.prototype.revert=q,H.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},H.prototype.sqrTo=function(t,e){t.squareTo(e)},z.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=x();return t.copyTo(e),this.reduce(e),e},z.prototype.revert=function(t){return t},z.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},z.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},z.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var K=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$=(1<<26)/K[K.length-1];function W(){this.i=0,this.j=0,this.S=new Array}E.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},E.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=I(n),i=x(),o=x(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(t).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(t)+s},E.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,s=0,l=0;l<t.length;++l){var a=R(t,l);a<0?"-"==t.charAt(l)&&0==this.signum()&&(i=!0):(s=e*s+a,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&E.ZERO.subTo(this,this)},E.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(E.ONE.shiftLeft(t-1),L,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(E.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},E.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},E.prototype.changeBit=function(t,e){var n=E.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},E.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},E.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},E.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},E.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},E.prototype.multiplyUpperTo=function(t,e,n){var r=n.t=this.t+t.t- --e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},E.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},E.prototype.millerRabin=function(t){var e=this.subtract(E.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>K.length&&(t=K.length);for(var i=x(),o=0;o<t;++o){i.fromInt(K[Math.floor(Math.random()*K.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(E.ONE)&&0!=s.compareTo(e)){for(var l=1;l++<n&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(E.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},E.prototype.clone=function(){var t=x();return this.copyTo(t),t},E.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},E.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},E.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},E.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},E.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},E.prototype.equals=function(t){return 0==this.compareTo(t)},E.prototype.min=function(t){return this.compareTo(t)<0?this:t},E.prototype.max=function(t){return this.compareTo(t)>0?this:t},E.prototype.and=function(t){var e=x();return this.bitwiseTo(t,M,e),e},E.prototype.or=function(t){var e=x();return this.bitwiseTo(t,L,e),e},E.prototype.xor=function(t){var e=x();return this.bitwiseTo(t,U,e),e},E.prototype.andNot=function(t){var e=x();return this.bitwiseTo(t,j,e),e},E.prototype.not=function(){for(var t=x(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},E.prototype.shiftLeft=function(t){var e=x();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},E.prototype.shiftRight=function(t){var e=x();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},E.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+V(this[t]);return this.s<0?this.t*this.DB:-1},E.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=B(this[n]^e);return t},E.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},E.prototype.setBit=function(t){return this.changeBit(t,L)},E.prototype.clearBit=function(t){return this.changeBit(t,j)},E.prototype.flipBit=function(t){return this.changeBit(t,U)},E.prototype.add=function(t){var e=x();return this.addTo(t,e),e},E.prototype.subtract=function(t){var e=x();return this.subTo(t,e),e},E.prototype.multiply=function(t){var e=x();return this.multiplyTo(t,e),e},E.prototype.divide=function(t){var e=x();return this.divRemTo(t,e,null),e},E.prototype.remainder=function(t){var e=x();return this.divRemTo(t,null,e),e},E.prototype.divideAndRemainder=function(t){var e=x(),n=x();return this.divRemTo(t,e,n),new Array(e,n)},E.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=I(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new D(e):e.isEven()?new z(e):new N(e);var s=new Array,l=3,a=n-1,u=(1<<n)-1;if(s[1]=r.convert(this),n>1){var c=x();for(r.sqrTo(s[1],c);l<=u;)s[l]=x(),r.mulTo(c,s[l-2],s[l]),l+=2}var h,d,p=t.t-1,f=!0,g=x();for(i=O(t[p])-1;p>=0;){for(i>=a?h=t[p]>>i-a&u:(h=(t[p]&(1<<i+1)-1)<<a-i,p>0&&(h|=t[p-1]>>this.DB+i-a)),l=n;0==(1&h);)h>>=1,--l;if((i-=l)<0&&(i+=this.DB,--p),f)s[h].copyTo(o),f=!1;else{for(;l>1;)r.sqrTo(o,g),r.sqrTo(g,o),l-=2;l>0?r.sqrTo(o,g):(d=o,o=g,g=d),r.mulTo(g,s[h],o)}for(;p>=0&&0==(t[p]&1<<i);)r.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--p)}return r.revert(o)},E.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return E.ZERO;for(var n=t.clone(),r=this.clone(),i=I(1),o=I(0),s=I(0),l=I(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(t,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(s,i),o.subTo(l,o)):(r.subTo(n,r),e&&s.subTo(i,s),l.subTo(o,l))}return 0!=r.compareTo(E.ONE)?E.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},E.prototype.pow=function(t){return this.exp(t,new H)},E.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},E.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=K[K.length-1]){for(e=0;e<K.length;++e)if(n[0]==K[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<K.length;){for(var r=K[e],i=e+1;i<K.length&&r<$;)r*=K[i++];for(r=n.modInt(r);e<i;)if(r%K[e++]==0)return!1}return n.millerRabin(t)},E.prototype.square=function(){var t=x();return this.squareTo(t),t},W.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)r=this.S[e],this.S[e]=this.S[n=n+this.S[e]+t[e%t.length]&255],this.S[n]=r;this.i=0,this.j=0},W.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var G,J,Y,Z=256;function Q(){!function(t){J[Y++]^=255&t,J[Y++]^=t>>8&255,J[Y++]^=t>>16&255,J[Y++]^=t>>24&255,Y>=Z&&(Y-=Z)}((new Date).getTime())}if(null==J){var X;if(J=new Array,Y=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var tt=i.crypto||i.msCrypto;if(tt.getRandomValues){var et=new Uint8Array(32);for(tt.getRandomValues(et),X=0;X<32;++X)J[Y++]=et[X]}else if("Netscape"==r.appName&&r.appVersion<"5"){var nt=i.crypto.random(32);for(X=0;X<nt.length;++X)J[Y++]=255&nt.charCodeAt(X)}}for(;Y<Z;)X=Math.floor(65536*Math.random()),J[Y++]=X>>>8,J[Y++]=255&X;Y=0,Q()}function rt(){if(null==G){for(Q(),(G=new W).init(J),Y=0;Y<J.length;++Y)J[Y]=0;Y=0}return G.next()}function it(){}function ot(t,e){return new E(t,e)}function st(t,e,n){for(var r="",i=0;r.length<e;)r+=n(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function lt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function at(t,e){this.x=e,this.q=t}function ut(t,e,n,r){this.curve=t,this.x=e,this.y=n,this.z=null==r?E.ONE:r,this.zinv=null}function ct(t,e,n){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(n),this.infinity=new ut(this,null,null)}it.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=rt()},lt.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},lt.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=ot(t,16),this.e=parseInt(e,16)}},lt.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var n=new Array,r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var o=new it,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new E(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},lt.prototype.encryptOAEP=function(t,e,n){var r=function(t,e,n,r){var i=dt.crypto.MessageDigest,o=dt.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(t){return Ft(o.hashHex(kt(t),s))}),t.length+2*r+2>e)throw"Message too long for RSA";var l,a="";for(l=0;l<e-t.length-2*r-2;l+=1)a+="\0";var u=n("")+a+"\x01"+t,c=new Array(r);(new it).nextBytes(c);var h=st(c,u.length,n),d=[];for(l=0;l<u.length;l+=1)d[l]=u.charCodeAt(l)^h.charCodeAt(l);var p=st(d,c.length,n),f=[0];for(l=0;l<c.length;l+=1)f[l+1]=c[l]^p.charCodeAt(l);return new E(f.concat(d))}(t,this.n.bitLength()+7>>3,e,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},lt.prototype.type="RSA",at.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},at.prototype.toBigInteger=function(){return this.x},at.prototype.negate=function(){return new at(this.q,this.x.negate().mod(this.q))},at.prototype.add=function(t){return new at(this.q,this.x.add(t.toBigInteger()).mod(this.q))},at.prototype.subtract=function(t){return new at(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},at.prototype.multiply=function(t){return new at(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},at.prototype.square=function(){return new at(this.q,this.x.square().mod(this.q))},at.prototype.divide=function(t){return new at(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},ut.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ut.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ut.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(E.ZERO))},ut.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(E.ZERO)&&!this.y.toBigInteger().equals(E.ZERO)},ut.prototype.negate=function(){return new ut(this.curve,this.x,this.y.negate(),this.z)},ut.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(E.ZERO.equals(n))return E.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new E("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),n.square()),l=s.multiply(n),a=i.multiply(s),u=e.square().multiply(this.z),c=u.subtract(a.shiftLeft(1)).multiply(t.z).subtract(l).multiply(n).mod(this.curve.q),h=a.multiply(r).multiply(e).subtract(o.multiply(l)).subtract(u.multiply(e)).multiply(t.z).add(e.multiply(l)).mod(this.curve.q),d=l.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ut(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),d)},ut.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new E("3"),e=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=e.square().multiply(t);E.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var l=(s=s.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),a=s.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),u=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ut(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(a),u)},ut.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new E("3")),i=this.negate(),o=this;for(e=r.bitLength()-2;e>0;--e){o=o.twice();var s=r.testBit(e);s!=n.testBit(e)&&(o=o.add(s?this:i))}return o},ut.prototype.multiplyTwo=function(t,e,n){var r;r=t.bitLength()>n.bitLength()?t.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);r>=0;)i=i.twice(),t.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(e)),--r;return i},ct.prototype.getQ=function(){return this.q},ct.prototype.getA=function(){return this.a},ct.prototype.getB=function(){return this.b},ct.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},ct.prototype.getInfinity=function(){return this.infinity},ct.prototype.fromBigInteger=function(t){return new at(this.q,t)},ct.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,n=t.substr(2,e),r=t.substr(e+2,e);return new ut(this,this.fromBigInteger(new E(n,16)),this.fromBigInteger(new E(r,16)));default:return null}},at.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ut.prototype.getEncoded=function(t){var e=function(t,e){var n=t.toByteArrayUnsigned();if(e<n.length)n=n.slice(n.length-e);else for(;e>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=e(n,32);return t?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(r,32))),i},ut.decodeFrom=function(t,e){var n=e.length-1,r=e.slice(1,1+n/2),i=e.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new E(r),s=new E(i);return new ut(t,t.fromBigInteger(o),t.fromBigInteger(s))},ut.decodeFromHex=function(t,e){e.substr(0,2);var n=e.length-2,r=e.substr(2,n/2),i=e.substr(2+n/2,n/2),o=new E(r,16),s=new E(i,16);return new ut(t,t.fromBigInteger(o),t.fromBigInteger(s))},ut.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),n=t.y.subtract(this.y).divide(e),r=n.square().subtract(this.x).subtract(t.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ut(this.curve,r,i)},ut.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(E.valueOf(2)),e=this.curve.fromBigInteger(E.valueOf(3)),n=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),r=n.square().subtract(this.x.multiply(t)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ut(this.curve,r,i)},ut.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new E("3")),i=this.negate(),o=this;for(e=r.bitLength()-2;e>0;--e){o=o.twice();var s=r.testBit(e);s!=n.testBit(e)&&(o=o.add2D(s?this:i))}return o},ut.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=e.multiply(e).mod(i),s=t.multiply(t).multiply(t).add(n.multiply(t)).add(r).mod(i);return o.equals(s)},ut.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ut.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(e.compareTo(E.ONE)<0||e.compareTo(t.subtract(E.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(E.ONE)<0||n.compareTo(t.subtract(E.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ht=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var o=new String(""),s=(Object,Array,Object.hasOwnProperty);return function(r,l){var a,u,c=r.match(t),h=c[0],d=!1;"{"===h?a={}:"["===h?a=[]:(a=[],d=!0);for(var p=[a],f=1-d,g=c.length;f<g;++f){var m;switch((h=c[f]).charCodeAt(0)){default:(m=p[0])[u||m.length]=+h,u=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(e,i)),m=p[0],!u){if(!(m instanceof Array)){u=h||o;break}u=m.length}m[u]=h,u=void 0;break;case 91:p.unshift((m=p[0])[u||m.length]=[]),u=void 0;break;case 93:p.shift();break;case 102:(m=p[0])[u||m.length]=!1,u=void 0;break;case 110:(m=p[0])[u||m.length]=null,u=void 0;break;case 116:(m=p[0])[u||m.length]=!0,u=void 0;break;case 123:p.unshift((m=p[0])[u||m.length]={}),u=void 0;break;case 125:p.shift()}}if(d){if(1!==p.length)throw new Error;a=a[0]}else if(p.length)throw new Error;return l&&(a=function t(e,r){var i=e[r];if(i&&"object"===(void 0===i?"undefined":n(i))){var o=null;for(var a in i)if(s.call(i,a)&&i!==e){var u=t(i,a);void 0!==u?i[a]=u:(o||(o=[]),o.push(a))}if(o)for(var c=o.length;--c>=0;)delete i[o[c]]}return l.call(e,r,i)}({"":a},"")),a}}();void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),dt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new E(r,16).xor(t).add(E.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return Rt(t,e)},this.newObject=function(t){var e=dt.asn1,n=e.DERBoolean,r=e.DERInteger,i=e.DERBitString,o=e.DEROctetString,s=e.DERNull,l=e.DERObjectIdentifier,a=e.DEREnumerated,u=e.DERUTF8String,c=e.DERNumericString,h=e.DERPrintableString,d=e.DERTeletexString,p=e.DERIA5String,f=e.DERUTCTime,g=e.DERGeneralizedTime,m=e.DERSequence,v=e.DERSet,y=e.DERTaggedObject,b=e.ASN1Util.newObject,_=Object.keys(t);if(1!=_.length)throw"key of param shall be only one.";var w=_[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+w+":"))throw"undefined key: "+w;if("bool"==w)return new n(t[w]);if("int"==w)return new r(t[w]);if("bitstr"==w)return new i(t[w]);if("octstr"==w)return new o(t[w]);if("null"==w)return new s(t[w]);if("oid"==w)return new l(t[w]);if("enum"==w)return new a(t[w]);if("utf8str"==w)return new u(t[w]);if("numstr"==w)return new c(t[w]);if("prnstr"==w)return new h(t[w]);if("telstr"==w)return new d(t[w]);if("ia5str"==w)return new p(t[w]);if("utctime"==w)return new f(t[w]);if("gentime"==w)return new g(t[w]);if("seq"==w){for(var S=t[w],C=[],E=0;E<S.length;E++){var x=b(S[E]);C.push(x)}return new m({array:C})}if("set"==w){for(S=t[w],C=[],E=0;E<S.length;E++)x=b(S[E]),C.push(x);return new v({array:C})}if("tag"==w){var F=t[w];if("[object Array]"===Object.prototype.toString.call(F)&&3==F.length){var k=b(F[2]);return new y({tag:F[0],explicit:F[1],obj:k})}var A={};if(void 0!==F.explicit&&(A.explicit=F.explicit),void 0!==F.tag&&(A.tag=F.tag),void 0===F.obj)throw"obj shall be specified for 'tag'.";return A.obj=b(F.obj),new y(A)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},dt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),i=2;i<t.length;i+=2){var o=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(e=e+"."+new E(r,2).toString(10),r="")}return e},dt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new E(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var l=r.substr(s,7);s!=r.length-7&&(l="1"+l),n+=e(parseInt(l,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},dt.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},dt.asn1.DERAbstractString=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=Et(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},o.lang.extend(dt.asn1.DERAbstractString,dt.asn1.ASN1Object),dt.asn1.DERAbstractTime=function(t){dt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var l=i.getMilliseconds();if(0!=l){var a=r(String(l),3);s=s+"."+(a=a.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=bt(t)},this.setByDateValue=function(t,e,n,r,i,o){var s=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(dt.asn1.DERAbstractTime,dt.asn1.ASN1Object),dt.asn1.DERAbstractStructured=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},o.lang.extend(dt.asn1.DERAbstractStructured,dt.asn1.ASN1Object),dt.asn1.DERBoolean=function(){dt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},o.lang.extend(dt.asn1.DERBoolean,dt.asn1.ASN1Object),dt.asn1.DERInteger=function(t){dt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=dt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(dt.asn1.DERInteger,dt.asn1.ASN1Object),dt.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}dt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)e+=1==t[n]?"1":"0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},o.lang.extend(dt.asn1.DERBitString,dt.asn1.ASN1Object),dt.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}dt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},o.lang.extend(dt.asn1.DEROctetString,dt.asn1.DERAbstractString),dt.asn1.DERNull=function(){dt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(dt.asn1.DERNull,dt.asn1.ASN1Object),dt.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new E(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";for(r=o+r,s=0;s<r.length-1;s+=7){var l=r.substr(s,7);s!=r.length-7&&(l="1"+l),n+=e(parseInt(l,2))}return n};dt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=dt.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},o.lang.extend(dt.asn1.DERObjectIdentifier,dt.asn1.ASN1Object),dt.asn1.DEREnumerated=function(t){dt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=dt.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new E(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},o.lang.extend(dt.asn1.DEREnumerated,dt.asn1.ASN1Object),dt.asn1.DERUTF8String=function(t){dt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},o.lang.extend(dt.asn1.DERUTF8String,dt.asn1.DERAbstractString),dt.asn1.DERNumericString=function(t){dt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},o.lang.extend(dt.asn1.DERNumericString,dt.asn1.DERAbstractString),dt.asn1.DERPrintableString=function(t){dt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},o.lang.extend(dt.asn1.DERPrintableString,dt.asn1.DERAbstractString),dt.asn1.DERTeletexString=function(t){dt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},o.lang.extend(dt.asn1.DERTeletexString,dt.asn1.DERAbstractString),dt.asn1.DERIA5String=function(t){dt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},o.lang.extend(dt.asn1.DERIA5String,dt.asn1.DERAbstractString),dt.asn1.DERUTCTime=function(t){dt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=bt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=bt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},o.lang.extend(dt.asn1.DERUTCTime,dt.asn1.DERAbstractTime),dt.asn1.DERGeneralizedTime=function(t){dt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bt(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=bt(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},o.lang.extend(dt.asn1.DERGeneralizedTime,dt.asn1.DERAbstractTime),dt.asn1.DERSequence=function(t){dt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},o.lang.extend(dt.asn1.DERSequence,dt.asn1.DERAbstractStructured),dt.asn1.DERSet=function(t){dt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++)t.push(this.asn1Array[e].getEncodedHex());return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},o.lang.extend(dt.asn1.DERSet,dt.asn1.DERAbstractStructured),dt.asn1.DERTaggedObject=function(t){dt.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},o.lang.extend(dt.asn1.DERTaggedObject,dt.asn1.ASN1Object);var dt,pt,ft,gt=new function(){};function mt(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function vt(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function yt(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function bt(t){return yt(mt(t))}function _t(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function wt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function St(t){return t.length%2==1&&(t="0"+t),_t(w(t))}function Ct(t){return S(wt(t))}function Et(t){return Nt(Vt(t))}function xt(t){return decodeURIComponent(Mt(t))}function Ft(t){for(var e="",n=0;n<t.length-1;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function kt(t){for(var e="",n=0;n<t.length;n++)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e}function At(t){return w(t)}function Tt(t){return At(t).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Pt(t){return S(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Rt(t,e){return"-----BEGIN "+e+"-----\r\n"+Tt(t)+"\r\n-----END "+e+"-----\r\n"}function It(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return Pt(t=void 0!==e?(t=t.replace("-----BEGIN "+e+"-----","")).replace("-----END "+e+"-----",""):(t=t.replace(/-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----/,""))}function Ot(t){var e,n,r,i,o,s,l,a,u,c,h;if(h=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return a=h[1],e=parseInt(a),2===a.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),o=parseInt(h[5]),s=parseInt(h[6]),l=0,""!==(u=h[7])&&(c=(u.substr(1)+"00").substr(0,3),l=parseInt(c)),Date.UTC(e,n,r,i,o,s,l);throw"unsupported zulu format: "+t}function Dt(t){return~~(Ot(t)/1e3)}function Nt(t){return t.replace(/%/g,"")}function Mt(t){return t.replace(/(..)/g,"%$1")}function Lt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var n=(t=t.toLowerCase()).split(":").length-1;if(n<2)throw e;var r=":".repeat(7-n+2),i=(t=t.replace("::",r)).split(":");if(8!=i.length)throw e;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Ut(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var e=(t=t.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)e[n]=e[n].replace(/^0+/,""),""==e[n]&&(e[n]="0");var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null===r)return t.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(t=t.replace(i,"::")).slice(1,-1)}function jt(t){var e="malformed hex value";if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8!=t.length)return 32==t.length?Ut(t):t;try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}function Vt(t){for(var e=encodeURIComponent(t),n="",r=0;r<e.length;r++)"%"==e[r]?(n+=e.substr(r,3),r+=2):n=n+"%"+bt(e[r]);return n}function Bt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}gt.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var n=parseInt(t.substr(e+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},gt.getL=function(t,e){var n=gt.getLblen(t,e);return n<1?"":t.substr(e+2,2*n)},gt.getVblen=function(t,e){var n;return""==(n=gt.getL(t,e))?-1:("8"===n.substr(0,1)?new E(n.substr(2),16):new E(n,16)).intValue()},gt.getVidx=function(t,e){var n=gt.getLblen(t,e);return n<0?n:e+2*(n+1)},gt.getV=function(t,e){var n=gt.getVidx(t,e),r=gt.getVblen(t,e);return t.substr(n,2*r)},gt.getTLV=function(t,e){return t.substr(e,2)+gt.getL(t,e)+gt.getV(t,e)},gt.getNextSiblingIdx=function(t,e){return gt.getVidx(t,e)+2*gt.getVblen(t,e)},gt.getChildIdx=function(t,e){var n=gt,r=new Array,i=n.getVidx(t,e);"03"==t.substr(e,2)?r.push(i+2):r.push(i);for(var o=n.getVblen(t,e),s=i,l=0;;){var a=n.getNextSiblingIdx(t,s);if(null==a||a-i>=2*o)break;if(l>=200)break;r.push(a),s=a,l++}return r},gt.getNthChildIdx=function(t,e,n){return gt.getChildIdx(t,e)[n]},gt.getIdxbyList=function(t,e,n,r){var i,o,s=gt;if(0==n.length){if(void 0!==r&&t.substr(e,2)!==r)throw"checking tag doesn't match: "+t.substr(e,2)+"!="+r;return e}return i=n.shift(),o=s.getChildIdx(t,e),s.getIdxbyList(t,o[i],n,r)},gt.getTLVbyList=function(t,e,n,r){var i=gt,o=i.getIdxbyList(t,e,n);if(void 0===o)throw"can't find nthList object";if(void 0!==r&&t.substr(o,2)!=r)throw"checking tag doesn't match: "+t.substr(o,2)+"!="+r;return i.getTLV(t,o)},gt.getVbyList=function(t,e,n,r,i){var o,s,l=gt;if(void 0===(o=l.getIdxbyList(t,e,n,r)))throw"can't find nthList object";return s=l.getV(t,o),!0===i&&(s=s.substr(2)),s},gt.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},n=[],r=t.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=t.substr(2),s=[],l=0;l<o.length/2;l++)s.push(parseInt(o.substr(2*l,2),16));var a=[],u="";for(l=0;l<s.length;l++)128&s[l]?u+=e((127&s[l]).toString(2),7):(u+=e((127&s[l]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=n.join(".");return a.length>0&&(c=c+"."+a.join(".")),c},gt.dump=function(t,e,n,r){var i=gt,o=i.getV,s=i.dump,l=i.getChildIdx,a=t;t instanceof dt.asn1.ASN1Object&&(a=t.getEncodedHex());var u=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c=e.ommit_long_octet;if("01"==a.substr(n,2))return"00"==(h=o(a,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==a.substr(n,2))return r+"INTEGER "+u(h=o(a,n),c)+"\n";if("03"==a.substr(n,2))return r+"BITSTRING "+u(h=o(a,n),c)+"\n";if("04"==a.substr(n,2)){var h=o(a,n);return i.isASN1HEX(h)?(S=r+"OCTETSTRING, encapsulates\n")+s(h,e,0,r+"  "):r+"OCTETSTRING "+u(h,c)+"\n"}if("05"==a.substr(n,2))return r+"NULL\n";if("06"==a.substr(n,2)){var d=o(a,n),p=dt.asn1.ASN1Util.oidHexToInt(d),f=dt.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=f?r+"ObjectIdentifier "+f+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0c"==a.substr(n,2))return r+"UTF8String '"+xt(o(a,n))+"'\n";if("13"==a.substr(n,2))return r+"PrintableString '"+xt(o(a,n))+"'\n";if("14"==a.substr(n,2))return r+"TeletexString '"+xt(o(a,n))+"'\n";if("16"==a.substr(n,2))return r+"IA5String '"+xt(o(a,n))+"'\n";if("17"==a.substr(n,2))return r+"UTCTime "+xt(o(a,n))+"\n";if("18"==a.substr(n,2))return r+"GeneralizedTime "+xt(o(a,n))+"\n";if("30"==a.substr(n,2)){if("3000"==a.substr(n,4))return r+"SEQUENCE {}\n";S=r+"SEQUENCE\n";var m=e;if((2==(b=l(a,n)).length||3==b.length)&&"06"==a.substr(b[0],2)&&"04"==a.substr(b[b.length-1],2)){f=i.oidname(o(a,b[0]));var v=JSON.parse(JSON.stringify(e));v.x509ExtName=f,m=v}for(var y=0;y<b.length;y++)S+=s(a,m,b[y],r+"  ");return S}if("31"==a.substr(n,2)){S=r+"SET\n";var b=l(a,n);for(y=0;y<b.length;y++)S+=s(a,e,b[y],r+"  ");return S}var _=parseInt(a.substr(n,2),16);if(0!=(128&_)){var w=31&_;if(0!=(32&_)){var S=r+"["+w+"]\n";for(b=l(a,n),y=0;y<b.length;y++)S+=s(a,e,b[y],r+"  ");return S}return"68747470"==(h=o(a,n)).substr(0,8)&&(h=xt(h)),"subjectAltName"===e.x509ExtName&&2==w&&(h=xt(h)),r+"["+w+"] "+h+"\n"}return r+"UNKNOWN("+a.substr(n,2)+") "+o(a,n)+"\n"},gt.isASN1HEX=function(t){var e=gt;if(t.length%2==1)return!1;var n=e.getVblen(t,0),r=t.substr(0,2),i=e.getL(t,0);return t.length-r.length-i.length==2*n},gt.oidname=function(t){var e=dt.asn1;dt.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var n=e.x509.OID.oid2name(t);return""===n&&(n=t),n},void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.lang&&dt.lang||(dt.lang={}),dt.lang.String=function(){},"function"==typeof t?(e.utf8tob64u=pt=function(e){return _t(new t(e,"utf8").toString("base64"))},e.b64utoutf8=ft=function(e){return new t(wt(e),"base64").toString("utf8")}):(e.utf8tob64u=pt=function(t){return St(Nt(Vt(t)))},e.b64utoutf8=ft=function(t){return decodeURIComponent(Mt(Ct(t)))}),dt.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},dt.lang.String.isHex=function(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))},dt.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},dt.lang.String.isBase64URL=function(t){return!t.match(/[+\/=]/)&&(t=wt(t),dt.lang.String.isBase64(t))},dt.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:v.algo.MD5,sha1:v.algo.SHA1,sha224:v.algo.SHA224,sha256:v.algo.SHA256,sha384:v.algo.SHA384,sha512:v.algo.SHA512,ripemd160:v.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var r=this.getDigestInfoHex(t,e),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+e;for(var o="0001",s="00"+r,l="",a=i-o.length-s.length,u=0;u<a;u+=2)l+="ff";return o+l+s},this.hashString=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return new dt.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"}).digestString(t)},this.sha256=function(t){return new dt.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestString(t)},this.sha256Hex=function(t){return new dt.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"}).digestHex(t)},this.sha512=function(t){return new dt.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestString(t)},this.sha512Hex=function(t){return new dt.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"}).digestHex(t)}},dt.crypto.Util.md5=function(t){return new dt.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.ripemd160=function(t){return new dt.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.SECURERANDOMGEN=new it,dt.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(e),yt(e)},dt.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new E(dt.crypto.Util.getRandomHexOfNbytes(t),16)},dt.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,n=new Array((t-e)/8+1);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<e&255^255)&n[0],yt(n)},dt.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new E(dt.crypto.Util.getRandomHexOfNbits(t),16)},dt.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var n=dt.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(n))return n}},dt.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var n=t.compareTo(e);if(1==n)throw"biMin is greater than biMax";if(0==n)return t;var r=e.subtract(t);return dt.crypto.Util.getRandomBigIntegerZeroToMax(r).add(t)},dt.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=dt.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(v.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},dt.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},dt.crypto.MessageDigest.getHashLength=function(t){var e=dt.crypto.MessageDigest,n=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[n])throw"not supported algorithm: "+t;return e.HASHLENGTH[n]},dt.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},dt.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{this.mac=v.algo.HMAC.create(dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n],this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=v.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(v.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=kt(t)),void(this.pass=v.enc.Hex.parse(e))}if("object"!=(void 0===t?"undefined":n(t)))throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=Et(t.utf8)),void 0!==t.rstr&&(e=kt(t.rstr)),void 0!==t.b64&&(e=S(t.b64)),void 0!==t.b64u&&(e=Ct(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=v.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},dt.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase())},this._zeroPaddingOfSignature=function(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw"provider not supported: "+e;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new dt.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t}this.init=function(t,e){var n=null;try{n=void 0===e?Ht.getKey(t):Ht.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0!==this.ecprvhex&&void 0!==this.eccurvename){var t=new dt.crypto.ECDSA({curve:this.eccurvename});this.hSign=t.signHex(this.sHashHex,this.ecprvhex)}else if(this.prvKey instanceof lt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof lt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof dt.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof dt.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0!==this.ecpubhex&&void 0!==this.eccurvename)return new dt.crypto.ECDSA({curve:this.eccurvename}).verifyHex(this.sHashHex,t,this.ecpubhex);if(this.pubKey instanceof lt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof lt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.ECDSA&&this.pubKey instanceof dt.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.DSA&&this.pubKey instanceof dt.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,this.provName=void 0===t.prov?dt.crypto.Util.DEFAULTPROVIDER[this.algName]:t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=Ht.getKey(t.prvkeypem),this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},dt.crypto.Cipher=function(t){},dt.crypto.Cipher.encrypt=function(t,e,n){if(e instanceof lt&&e.isPublic){var r=dt.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.encrypt(t);if("RSAOAEP"===r)return e.encryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.encryptOAEP(t,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},dt.crypto.Cipher.decrypt=function(t,e,n){if(e instanceof lt&&e.isPrivate){var r=dt.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.decrypt(t);if("RSAOAEP"===r)return e.decryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.decryptOAEP(t,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},dt.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof lt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},dt.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECDSA=function(t){var e=new it;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new E(t.bitLength(),e).mod(t.subtract(E.ONE)).add(E.ONE)},this.setNamedCurve=function(t){this.ecparams=dt.crypto.ECParameterDB.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keylen/4;if(t.length!==2+2*e)throw"malformed public key hex length";var n={};return n.x=t.substr(2,e),n.y=t.substr(2+e),n},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":null},this.generateKeyPairHex=function(){var t=this.getBigRandom(this.ecparams.n),e=this.ecparams.G.multiply(t),n=e.getX().toBigInteger(),r=e.getY().toBigInteger(),i=this.ecparams.keylen/4,o=("0000000000"+t.toString(16)).slice(-i),s="04"+("0000000000"+n.toString(16)).slice(-i)+("0000000000"+r.toString(16)).slice(-i);return this.setPrivateKeyHex(o),this.setPublicKeyHex(s),{ecprvhex:o,ecpubhex:s}},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new E(e,16),r=this.ecparams.n,i=new E(t,16);do{var o=this.getBigRandom(r),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(r)}while(s.compareTo(E.ZERO)<=0);var l=o.modInverse(r).multiply(i.add(n.multiply(s))).mod(r);return dt.crypto.ECDSA.biRSSigToASN1Sig(s,l)},this.sign=function(t,e){var n=e,r=this.ecparams.n,i=E.fromByteArrayUnsigned(t);do{var o=this.getBigRandom(r),s=this.ecparams.G.multiply(o).getX().toBigInteger().mod(r)}while(s.compareTo(E.ZERO)<=0);var l=o.modInverse(r).multiply(i.add(n.multiply(s))).mod(r);return this.serializeSig(s,l)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,n){var r,i,o,s=dt.crypto.ECDSA.parseSigHex(e);r=s.r,i=s.s,o=ut.decodeFromHex(this.ecparams.curve,n);var l=new E(t,16);return this.verifyRaw(l,r,i,o)},this.verify=function(t,e,r){var i,o,s;if(Bitcoin.Util.isArray(e)){var l=this.parseSig(e);i=l.r,o=l.s}else{if("object"!==(void 0===e?"undefined":n(e))||!e.r||!e.s)throw"Invalid value for signature";i=e.r,o=e.s}if(r instanceof ut)s=r;else{if(!Bitcoin.Util.isArray(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=ut.decodeFrom(this.ecparams.curve,r)}var a=E.fromByteArrayUnsigned(t);return this.verifyRaw(a,i,o,s)},this.verifyRaw=function(t,e,n,r){var i=this.ecparams.n,o=this.ecparams.G;if(e.compareTo(E.ONE)<0||e.compareTo(i)>=0)return!1;if(n.compareTo(E.ONE)<0||n.compareTo(i)>=0)return!1;var s=n.modInverse(i),l=t.multiply(s).mod(i),a=e.multiply(s).mod(i);return o.multiply(l).add(r.multiply(a)).getX().toBigInteger().mod(i).equals(e)},this.serializeSig=function(t,e){var n=t.toByteArraySigned(),r=e.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var r=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:E.fromByteArrayUnsigned(n),s:E.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:E.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:E.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){var e,n,r,i=dt.crypto.ECDSA.getName,o=gt.getVbyList;if(!1===gt.isASN1HEX(t))throw"not ASN.1 hex string";try{e=o(t,0,[2,0],"06"),n=o(t,0,[1],"04");try{r=o(t,0,[3,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#1/5 plain ECC private key"}if(this.curveName=i(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){var e,n,r,i=dt.crypto.ECDSA.getName,o=gt.getVbyList;if(!1===gt.isASN1HEX(t))throw"not ASN.1 hex string";try{o(t,0,[1,0],"06"),e=o(t,0,[1,1],"06"),n=o(t,0,[2,0,1],"04");try{r=o(t,0,[2,0,2,0],"03").substr(2)}catch(t){}}catch(t){throw"malformed PKCS#8 plain ECC private key"}if(this.curveName=i(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){var e,n,r=dt.crypto.ECDSA.getName,i=gt.getVbyList;if(!1===gt.isASN1HEX(t))throw"not ASN.1 hex string";try{i(t,0,[0,0],"06"),e=i(t,0,[0,1],"06"),n=i(t,0,[1],"03").substr(2)}catch(t){throw"malformed PKCS#8 ECC public key"}if(this.curveName=r(e),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,e){5!==e&&(e=6);var n,r,i=dt.crypto.ECDSA.getName,o=gt.getVbyList;if(!1===gt.isASN1HEX(t))throw"not ASN.1 hex string";try{n=o(t,0,[0,e,0,1],"06"),r=o(t,0,[0,e,1],"03").substr(2)}catch(t){throw"malformed X.509 certificate ECC public key"}if(this.curveName=i(n),null===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},dt.crypto.ECDSA.parseSigHex=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new E(e.r,16),s:new E(e.s,16)}},dt.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=gt.getChildIdx,n=gt.getV;if("30"!=t.substr(0,2))throw"signature is not a ASN.1 sequence";var r=e(t,0);if(2!=r.length)throw"number of signature ASN.1 sequence elements seem wrong";var i=r[0],o=r[1];if("02"!=t.substr(i,2))throw"1st item of sequene of signature is not ASN.1 integer";if("02"!=t.substr(o,2))throw"2nd item of sequene of signature is not ASN.1 integer";return{r:n(t,i),s:n(t,o)}},dt.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t),n=e.r,r=e.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},dt.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var e=t.substr(0,t.length/2),n=t.substr(t.length/2);return dt.crypto.ECDSA.hexRSSigToASN1Sig(e,n)},dt.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var n=new E(t,16),r=new E(e,16);return dt.crypto.ECDSA.biRSSigToASN1Sig(n,r)},dt.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var n=dt.asn1,r=new n.DERInteger({bigint:t}),i=new n.DERInteger({bigint:e});return new n.DERSequence({array:[r,i]}).getEncodedHex()},dt.crypto.ECDSA.getName=function(t){return"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040022"===t?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":null},void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECParameterDB=new function(){var t={},e={};function n(t){return new E(t,16)}this.getByName=function(n){var r=n;if(void 0!==e[r]&&(r=e[n]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,l,a,u,c,h,d,p,f){t[r]={};var g=n(o),m=n(s),v=n(l),y=n(a),b=n(u),_=new ct(g,m,v),w=_.decodePointHex("04"+c+h);t[r].name=r,t[r].keylen=i,t[r].curve=_,t[r].G=w,t[r].n=y,t[r].h=b,t[r].oid=p,t[r].info=f;for(var S=0;S<d.length;S++)e[d[S]]=r}},dt.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),dt.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),dt.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),dt.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),dt.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),dt.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),dt.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),dt.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Ht=function(){var t=function(t,n,r){return e(v.AES,t,n,r)},e=function(t,e,n,r){var i=v.enc.Hex.parse(e),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),l={};l.key=o,l.iv=s,l.ciphertext=i;var a=t.decrypt(l,o,{iv:s});return v.enc.Hex.stringify(a)},n=function(t,e,n){return r(v.AES,t,e,n)},r=function(t,e,n,r){var i=v.enc.Hex.parse(e),o=v.enc.Hex.parse(n),s=v.enc.Hex.parse(r),l=t.encrypt(i,o,{iv:s}),a=v.enc.Hex.parse(l.toString());return v.enc.Base64.stringify(a)},i={"AES-256-CBC":{proc:t,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,n,r){return e(v.TripleDES,t,n,r)},eproc:function(t,e,n){return r(v.TripleDES,t,e,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,n,r){return e(v.DES,t,n,r)},eproc:function(t,e,n){return r(v.DES,t,e,n)},keylen:8,ivlen:8}},o=function(t){var e={},n=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(e.cipher=n[1],e.ivsalt=n[2]);var r=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(e.type=r[1]);var i=-1,o=0;-1!=t.indexOf("\r\n\r\n")&&(i=t.indexOf("\r\n\r\n"),o=2),-1!=t.indexOf("\n\n")&&(i=t.indexOf("\n\n"),o=1);var s=t.indexOf("-----END");if(-1!=i&&-1!=s){var l=t.substring(i+2*o,s-o);l=l.replace(/\s+/g,""),e.data=l}return e},s=function(t,e,n){for(var r=n.substring(0,16),o=v.enc.Hex.parse(r),s=v.enc.Utf8.parse(e),l=i[t].keylen+i[t].ivlen,a="",u=null;;){var c=v.algo.MD5.create();if(null!=u&&c.update(u),c.update(s),c.update(o),u=c.finalize(),(a+=v.enc.Hex.stringify(u)).length>=2*l)break}var h={};return h.keyhex=a.substr(0,2*i[t].keylen),h.ivhex=a.substr(2*i[t].keylen,2*i[t].ivlen),h},l=function(t,e,n,r){var o=v.enc.Base64.parse(t),s=v.enc.Hex.stringify(o);return(0,i[e].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(t){return o(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return s(t,e,n)},decryptKeyB64:function(t,e,n,r){return l(t,e,n,r)},getDecryptedKeyHex:function(t,e){var n=o(t),r=n.cipher,i=n.ivsalt,a=n.data,u=s(r,e,i).keyhex;return l(a,r,u,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,r,o){var l="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw"KEYUTIL unsupported algorithm: "+r;return void 0!==o&&null!=o||(o=function(t){var e=v.lib.WordArray.random(i[r].ivlen);return v.enc.Hex.stringify(e)}().toUpperCase()),l="-----BEGIN "+t+" PRIVATE KEY-----\r\n",l+="Proc-Type: 4,ENCRYPTED\r\n",l+="DEK-Info: "+r+","+o+"\r\n",l+="\r\n",(l+=function(t,e,n,r){return(0,i[e].eproc)(t,n,o)}(e,r,s(r,n,o).keyhex).replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var n=gt.getChildIdx,r=gt.getV,i={},o=n(e,0);if(2!=o.length)throw"malformed format: SEQUENCE(0).items != 2: "+o.length;i.ciphertext=r(e,o[1]);var s=n(e,o[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=r(e,s[0]))throw"this only supports pkcs5PBES2";var l=n(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+l.length;var a=n(e,l[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+a.length;if("2a864886f70d0307"!=r(e,a[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(e,a[1]);var u=n(e,l[0]);if(2!=u.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+u.length;if("2a864886f70d01050c"!=r(e,u[0]))throw"this only supports pkcs5PBKDF2";var c=n(e,u[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;i.pbkdf2Salt=r(e,c[0]);var h=r(e,c[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(t){throw"malformed format pbkdf2Iter: "+h}return i},getPBKDF2KeyHexFromParam:function(t,e){var n=v.enc.Hex.parse(t.pbkdf2Salt),r=v.PBKDF2(e,n,{keySize:6,iterations:t.pbkdf2Iter});return v.enc.Hex.stringify(r)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=It(t,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Ht.getPBKDF2KeyHexFromParam(r,e),o={};o.ciphertext=v.enc.Hex.parse(r.ciphertext);var s=v.enc.Hex.parse(i),l=v.enc.Hex.parse(r.encryptionSchemeIV),a=v.TripleDES.decrypt(o,s,{iv:l});return v.enc.Hex.stringify(a)},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(t){var e=gt,n=e.getChildIdx,r=e.getV,i={algparam:null};if("30"!=t.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=n(t,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=t.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var s=n(t,o[1]);if(2!=s.length)throw"malformed PKCS8 private key(code:004)";if("06"!=t.substr(s[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=r(t,s[0]),"06"==t.substr(s[1],2)&&(i.algparam=r(t,s[1])),"04"!=t.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=e.getVidx(t,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=It(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,n=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==n.algoid)e=new lt;else if("2a8648ce380401"==n.algoid)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";e=new dt.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,n=gt.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===n)e=new lt;else if("2a8648ce380401"===n)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";e=new dt.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=gt.getChildIdx,n=gt.getV,r={};if("30"!=t.substr(0,2))throw"malformed RSA key(code:001)";var i=e(t,0);if(2!=i.length)throw"malformed RSA key(code:002)";if("02"!=t.substr(i[0],2))throw"malformed RSA key(code:003)";if(r.n=n(t,i[0]),"02"!=t.substr(i[1],2))throw"malformed RSA key(code:004)";return r.e=n(t,i[1]),r},parsePublicPKCS8Hex:function(t){var e=gt,n=e.getChildIdx,r=e.getV,i={algparam:null},o=n(t,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var s=o[0];if("30"!=t.substr(s,2))throw"malformed PKCS8 public key(code:001)";var l=n(t,s);if(2!=l.length)throw"malformed PKCS8 public key(code:002)";if("06"!=t.substr(l[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=r(t,l[0]),"06"==t.substr(l[1],2)?i.algparam=r(t,l[1]):"30"==t.substr(l[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(t,l[1],[0],"02"),i.algparam.q=e.getVbyList(t,l[1],[1],"02"),i.algparam.g=e.getVbyList(t,l[1],[2],"02")),"03"!=t.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=r(t,o[1]).substr(2),i}}}();Ht.getKey=function(t,e,n){var r,i=(v=gt).getChildIdx,o=v.getVbyList,s=dt.crypto,l=s.ECDSA,a=s.DSA,u=lt,c=It,h=Ht;if(void 0!==u&&t instanceof u)return t;if(void 0!==l&&t instanceof l)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new l({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new l({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(T=new u).setPublic(t.n,t.e),T;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(T=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),T;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(T=new u).setPrivate(t.n,t.e,t.d),T;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(T=new a).setPublic(t.p,t.q,t.g,t.y),T;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(T=new a).setPrivate(t.p,t.q,t.g,t.y,t.x),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(T=new u).setPublic(Ct(t.n),Ct(t.e)),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(T=new u).setPrivateEx(Ct(t.n),Ct(t.e),Ct(t.d),Ct(t.p),Ct(t.q),Ct(t.dp),Ct(t.dq),Ct(t.qi)),T;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(T=new u).setPrivate(Ct(t.n),Ct(t.e),Ct(t.d)),T;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var d=(A=new l({curve:t.crv})).ecparams.keylen/4,p="04"+("0000000000"+Ct(t.x)).slice(-d)+("0000000000"+Ct(t.y)).slice(-d);return A.setPublicKeyHex(p),A}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){d=(A=new l({curve:t.crv})).ecparams.keylen/4,p="04"+("0000000000"+Ct(t.x)).slice(-d)+("0000000000"+Ct(t.y)).slice(-d);var f=("0000000000"+Ct(t.d)).slice(-d);return A.setPublicKeyHex(p),A.setPrivateKeyHex(f),A}if("pkcs5prv"===n){var g,m=t,v=gt;if(9===(g=i(m,0)).length)(T=new u).readPKCS5PrvKeyHex(m);else if(6===g.length)(T=new a).readPKCS5PrvKeyHex(m);else{if(!(g.length>2&&"04"===m.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(T=new l).readPKCS5PrvKeyHex(m)}return T}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(t);if("x509pub"===n)return Wt.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return Wt.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var y=It(t,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(y)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=c(t,"RSA PRIVATE KEY");return h.getKey(b,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var _=o(r=c(t,"DSA PRIVATE KEY"),0,[1],"02"),w=o(r,0,[2],"02"),S=o(r,0,[3],"02"),C=o(r,0,[4],"02"),x=o(r,0,[5],"02");return(T=new a).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(x,16)),T}if(-1!=t.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var F=h.getDecryptedKeyHex(t,e),k=new lt;return k.readPKCS5PrvKeyHex(F),k}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var A,T=o(r=h.getDecryptedKeyHex(t,e),0,[1],"04"),P=o(r,0,[2,0],"06"),R=o(r,0,[3,0],"03").substr(2);if(void 0===dt.crypto.OID.oidhex2name[P])throw"undefined OID(hex) in KJUR.crypto.OID: "+P;return(A=new l({curve:dt.crypto.OID.oidhex2name[P]})).setPublicKeyHex(R),A.setPrivateKeyHex(T),A.isPublic=!1,A}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return _=o(r=h.getDecryptedKeyHex(t,e),0,[1],"02"),w=o(r,0,[2],"02"),S=o(r,0,[3],"02"),C=o(r,0,[4],"02"),x=o(r,0,[5],"02"),(T=new a).setPrivate(new E(_,16),new E(w,16),new E(S,16),new E(C,16),new E(x,16)),T;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(t,e);throw"not supported argument"},Ht.generateKeypair=function(t,e){if("RSA"==t){var n=e;(s=new lt).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new lt,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(l={}).prvKeyObj=s,l.pubKeyObj=r,l}if("EC"==t){var s,l,a=e,u=new dt.crypto.ECDSA({curve:a}).generateKeyPairHex();return(s=new dt.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),s.setPrivateKeyHex(u.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new dt.crypto.ECDSA({curve:a})).setPublicKeyHex(u.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(l={}).prvKeyObj=s,l.pubKeyObj=r,l}throw"unknown algorithm: "+t},Ht.getPEM=function(t,e,n,r,i,o){var s=dt.asn1,l=s.DERObjectIdentifier,a=s.DERInteger,u=s.ASN1Util.newObject,c=dt.crypto,h=c.DSA,d=c.ECDSA,p=lt;function f(t){return u({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function g(t){return u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function m(t){return u({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==p&&t instanceof p||void 0!==h&&t instanceof h||void 0!==d&&t instanceof d)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Rt(w=new(0,s.x509.SubjectPublicKeyInfo)(t).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===n||null==n)&&1==t.isPrivate)return Rt(w=f(t).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===n||null==n)&&1==t.isPrivate){var y=new l({name:t.curveName}).getEncodedHex(),b=g(t).getEncodedHex(),_="";return(_+=Rt(y,"EC PARAMETERS"))+Rt(b,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==h&&t instanceof h&&(void 0===n||null==n)&&1==t.isPrivate)return Rt(w=m(t).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==n&&null!=n&&1==t.isPrivate){var w=f(t).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",w,n,r,o)}if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==n&&null!=n&&1==t.isPrivate)return w=g(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",w,n,r,o);if("PKCS5PRV"==e&&void 0!==h&&t instanceof h&&void 0!==n&&null!=n&&1==t.isPrivate)return w=m(t).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",w,n,r,o);var S=function(t,e){var n=C(t,e);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},C=function(t,e){var n=v.lib.WordArray.random(8),r=v.lib.WordArray.random(8),i=v.PBKDF2(e,n,{keySize:6,iterations:100}),o=v.enc.Hex.parse(t),s=v.TripleDES.encrypt(o,i,{iv:r})+"",l={};return l.ciphertext=s,l.pbkdf2Salt=v.enc.Hex.stringify(n),l.pbkdf2Iter=100,l.encryptionSchemeAlg="DES-EDE3-CBC",l.encryptionSchemeIV=v.enc.Hex.stringify(r),l};if("PKCS8PRV"==e&&null!=p&&t instanceof p&&1==t.isPrivate){var E=f(t).getEncodedHex();return w=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Rt(w,"PRIVATE KEY"):Rt(b=S(w,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate)return E=new u({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Rt(w,"PRIVATE KEY"):Rt(b=S(w,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==e&&void 0!==h&&t instanceof h&&1==t.isPrivate)return E=new a({bigint:t.x}).getEncodedHex(),w=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:E}}]}).getEncodedHex(),void 0===n||null==n?Rt(w,"PRIVATE KEY"):Rt(b=S(w,n),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Ht.getKeyFromCSRPEM=function(t){var e=It(t,"CERTIFICATE REQUEST");return Ht.getKeyFromCSRHex(e)},Ht.getKeyFromCSRHex=function(t){var e=Ht.parseCSRHex(t);return Ht.getKey(e.p8pubkeyhex,null,"pkcs8pub")},Ht.parseCSRHex=function(t){var e=gt.getChildIdx,n=gt.getTLV,r={},i=t;if("30"!=i.substr(0,2))throw"malformed CSR(code:001)";var o=e(i,0);if(o.length<1)throw"malformed CSR(code:002)";if("30"!=i.substr(o[0],2))throw"malformed CSR(code:003)";var s=e(i,o[0]);if(s.length<3)throw"malformed CSR(code:004)";return r.p8pubkeyhex=n(i,s[2]),r},Ht.getJWKFromKey=function(t){var e={};if(t instanceof lt&&t.isPrivate)return e.kty="RSA",e.n=St(t.n.toString(16)),e.e=St(t.e.toString(16)),e.d=St(t.d.toString(16)),e.p=St(t.p.toString(16)),e.q=St(t.q.toString(16)),e.dp=St(t.dmp1.toString(16)),e.dq=St(t.dmq1.toString(16)),e.qi=St(t.coeff.toString(16)),e;if(t instanceof lt&&t.isPublic)return e.kty="RSA",e.n=St(t.n.toString(16)),e.e=St(t.e.toString(16)),e;if(t instanceof dt.crypto.ECDSA&&t.isPrivate){if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;var n=t.getPublicKeyXYHex();return e.kty="EC",e.crv=r,e.x=St(n.x),e.y=St(n.y),e.d=St(t.prvKeyHex),e}if(t instanceof dt.crypto.ECDSA&&t.isPublic){var r;if("P-256"!==(r=t.getShortNISTPCurveName())&&"P-384"!==r)throw"unsupported curve name for JWT: "+r;return n=t.getPublicKeyXYHex(),e.kty="EC",e.crv=r,e.x=St(n.x),e.y=St(n.y),e}throw"not supported key object"},lt.getPosArrayOfChildrenFromHex=function(t){return gt.getChildIdx(t,0)},lt.getHexValueArrayOfChildrenFromHex=function(t){var e,n=gt.getV,r=n(t,(e=lt.getPosArrayOfChildrenFromHex(t))[0]),i=n(t,e[1]),o=n(t,e[2]),s=n(t,e[3]),l=n(t,e[4]),a=n(t,e[5]),u=n(t,e[6]),c=n(t,e[7]),h=n(t,e[8]);return(e=new Array).push(r,i,o,s,l,a,u,c,h),e},lt.prototype.readPrivateKeyFromPEMString=function(t){var e=It(t),n=lt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},lt.prototype.readPKCS5PrvKeyHex=function(t){var e=lt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},lt.prototype.readPKCS8PrvKeyHex=function(t){var e,n,r,i,o,s,l,a,u=gt.getVbyList;if(!1===gt.isASN1HEX(t))throw"not ASN.1 hex string";try{e=u(t,0,[2,0,1],"02"),n=u(t,0,[2,0,2],"02"),r=u(t,0,[2,0,3],"02"),i=u(t,0,[2,0,4],"02"),o=u(t,0,[2,0,5],"02"),s=u(t,0,[2,0,6],"02"),l=u(t,0,[2,0,7],"02"),a=u(t,0,[2,0,8],"02")}catch(t){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(e,n,r,i,o,s,l,a)},lt.prototype.readPKCS5PubKeyHex=function(t){var e=gt,n=e.getV;if(!1===e.isASN1HEX(t))throw"keyHex is not ASN.1 hex string";var r=e.getChildIdx(t,0);if(2!==r.length||"02"!==t.substr(r[0],2)||"02"!==t.substr(r[1],2))throw"wrong hex for PKCS#5 public key";var i=n(t,r[0]),o=n(t,r[1]);this.setPublic(i,o)},lt.prototype.readPKCS8PubKeyHex=function(t){var e=gt;if(!1===e.isASN1HEX(t))throw"not ASN.1 hex string";if("06092a864886f70d010101"!==e.getTLVbyList(t,0,[0,0]))throw"not PKCS8 RSA public key";var n=e.getTLVbyList(t,0,[1,0]);this.readPKCS5PubKeyHex(n)},lt.prototype.readCertPubKeyHex=function(t,e){var n,r;(n=new Wt).readCertHex(t),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};var qt=new RegExp("");function zt(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t}function Kt(t,e,n){for(var r="",i=0;r.length<e;)r+=Ft(n(kt(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function $t(t){for(var e in dt.crypto.Util.DIGESTINFOHEAD){var n=dt.crypto.Util.DIGESTINFOHEAD[e],r=n.length;if(t.substring(0,r)==n)return[e,t.substring(r)]}return[]}function Wt(){var t=gt,e=t.getChildIdx,n=t.getV,r=t.getTLV,i=t.getVbyList,o=t.getTLVbyList,s=t.getIdxbyList,l=t.getVidx,a=t.oidname,u=Wt,c=It;this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return i(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){return a(i(this.hex,0,[0,2+this.foffset,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var t=i(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=i(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return s(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return s(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return Ht.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return a(i(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return i(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmName(),n=this.getSignatureValueHex(),r=o(this.hex,0,[0],"30"),i=new dt.crypto.Signature({alg:e});return i.init(t),i.updateHex(r),i.verify(n)},this.parseExt=function(){if(3!==this.version)return-1;var n=s(this.hex,0,[0,7,0],"30"),r=e(this.hex,n);this.aExtInfo=new Array;for(var o=0;o<r.length;o++){var a={critical:!1},u=0;3===e(this.hex,r[o]).length&&(a.critical=!0,u=1),a.oid=t.hextooidstr(i(this.hex,r[o],[0],"06"));var c=s(this.hex,r[o],[1+u]);a.vidx=l(this.hex,c),this.aExtInfo.push(a)}},this.getExtInfo=function(t){var e=this.aExtInfo,n=t;if(t.match(/^[0-9.]+$/)||(n=dt.asn1.x509.OID.name2oid(t)),""!==n)for(var r=0;r<e.length;r++)if(e[r].oid===n)return e[r]},this.getExtBasicConstraints=function(){var t=this.getExtInfo("basicConstraints");if(void 0===t)return t;var e=n(this.hex,t.vidx);if(""===e)return{};if("0101ff"===e)return{cA:!0};if("0101ff02"===e.substr(0,8)){var r=n(e,6);return{cA:!0,pathLen:parseInt(r,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";var e=n(this.hex,t.vidx);if(e.length%2!=0||e.length<=2)throw"malformed key usage value";var r=parseInt(e.substr(0,2)),i=parseInt(e.substr(2),16).toString(2);return i.substr(0,i.length-r)},this.getExtKeyUsageString=function(){for(var t=this.getExtKeyUsageBin(),e=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&e.push(Wt.KEYUSAGE_NAME[n]);return e.join(",")},this.getExtSubjectKeyIdentifier=function(){var t=this.getExtInfo("subjectKeyIdentifier");return void 0===t?t:n(this.hex,t.vidx)},this.getExtAuthorityKeyIdentifier=function(){var t=this.getExtInfo("authorityKeyIdentifier");if(void 0===t)return t;for(var i={},o=r(this.hex,t.vidx),s=e(o,0),l=0;l<s.length;l++)"80"===o.substr(s[l],2)&&(i.kid=n(o,s[l]));return i},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var i=new Array,o=r(this.hex,t.vidx);if(""===o)return i;for(var s=e(o,0),l=0;l<s.length;l++)i.push(a(n(o,s[l])));return i},this.getExtSubjectAltName=function(){for(var t=this.getExtSubjectAltName2(),e=new Array,n=0;n<t.length;n++)"DNS"===t[n][0]&&e.push(t[n][1]);return e},this.getExtSubjectAltName2=function(){var t,i,o,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var l=new Array,a=r(this.hex,s.vidx),u=e(a,0),c=0;c<u.length;c++)o=a.substr(u[c],2),t=n(a,u[c]),"81"===o&&(i=xt(t),l.push(["MAIL",i])),"82"===o&&(i=xt(t),l.push(["DNS",i])),"84"===o&&(i=Wt.hex2dn(t,0),l.push(["DN",i])),"86"===o&&(i=xt(t),l.push(["URI",i])),"87"===o&&(i=jt(t),l.push(["IP",i]));return l},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtInfo("cRLDistributionPoints");if(void 0===t)return t;for(var n=new Array,r=e(this.hex,t.vidx),o=0;o<r.length;o++)try{var s=xt(i(this.hex,r[o],[0,0,0],"86"));n.push(s)}catch(t){}return n},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var n={ocsp:[],caissuer:[]},r=e(this.hex,t.vidx),o=0;o<r.length;o++){var s=i(this.hex,r[o],[0],"06"),l=i(this.hex,r[o],[1],"86");"2b06010505073001"===s&&n.ocsp.push(xt(l)),"2b06010505073002"===s&&n.caissuer.push(xt(l))}return n},this.getExtCertificatePolicies=function(){var t=this.getExtInfo("certificatePolicies");if(void 0===t)return t;for(var o=r(this.hex,t.vidx),s=[],l=e(o,0),u=0;u<l.length;u++){var c={},h=e(o,l[u]);if(c.id=a(n(o,h[0])),2===h.length)for(var d=e(o,h[1]),p=0;p<d.length;p++){var f=i(o,d[p],[0],"06");"2b06010505070201"===f?c.cps=xt(i(o,d[p],[1])):"2b06010505070202"===f&&(c.unotice=xt(i(o,d[p],[1,0])))}s.push(c)}return s},this.readCertPEM=function(t){this.readCertHex(c(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{s(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var t,e,n;if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Bt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Bt(e.e.toString(16))+"\n"),void 0!==(n=this.aExtInfo)&&null!==n){t+="X509v3 Extensions:\n";for(var r=0;r<n.length;r++){var i=n[r],o=dt.asn1.x509.OID.oid2name(i.oid);""===o&&(o=i.oid);var s="";if(!0===i.critical&&(s="CRITICAL"),t+="  "+o+" "+s+":\n","basicConstraints"===o){var l=this.getExtBasicConstraints();void 0===l.cA?t+="    {}\n":(t+="    cA=true",void 0!==l.pathLen&&(t+=", pathLen="+l.pathLen),t+="\n")}else if("keyUsage"===o)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===o)t+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===o){var a=this.getExtAuthorityKeyIdentifier();void 0!==a.kid&&(t+="    kid="+a.kid+"\n")}else if("extKeyUsage"===o)t+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===o)t+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===o)t+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===o){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(t+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(t+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===o)for(var c=this.getExtCertificatePolicies(),h=0;h<c.length;h++)void 0!==c[h].id&&(t+="    policy oid: "+c[h].id+"\n"),void 0!==c[h].cps&&(t+="    cps: "+c[h].cps+"\n")}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}qt.compile("[^0-9a-f]","gi"),lt.prototype.sign=function(t,e){var n=dt.crypto.Util.hashString(t,e);return this.signWithMessageHash(n,e)},lt.prototype.signWithMessageHash=function(t,e){var n=ot(dt.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return zt(this.doPrivate(n).toString(16),this.n.bitLength())},lt.prototype.signPSS=function(t,e,n){var r=function(t){return dt.crypto.Util.hashHex(t,e)}(kt(t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,e,n)},lt.prototype.signWithMessageHashPSS=function(t,e,n){var r,i=Ft(t),o=i.length,s=this.n.bitLength()-1,l=Math.ceil(s/8),a=function(t){return dt.crypto.Util.hashHex(t,e)};if(-1===n||void 0===n)n=o;else if(-2===n)n=l-o-2;else if(n<-2)throw"invalid salt length";if(l<o+n+2)throw"data too long";var u="";n>0&&(u=new Array(n),(new it).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=Ft(a(kt("\0\0\0\0\0\0\0\0"+i+u))),h=[];for(r=0;r<l-n-o-2;r+=1)h[r]=0;var d=String.fromCharCode.apply(String,h)+"\x01"+u,p=Kt(c,d.length,a),f=[];for(r=0;r<d.length;r+=1)f[r]=d.charCodeAt(r)^p.charCodeAt(r);for(f[0]&=~(65280>>8*l-s&255),r=0;r<o;r++)f.push(c.charCodeAt(r));return f.push(188),zt(this.doPrivate(new E(f)).toString(16),this.n.bitLength())},lt.prototype.verify=function(t,e){var n=ot(e=(e=e.replace(qt,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=$t(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==dt.crypto.Util.hashString(t,r[0])},lt.prototype.verifyWithMessageHash=function(t,e){var n=ot(e=(e=e.replace(qt,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var r=$t(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&r[1]==t},lt.prototype.verifyPSS=function(t,e,n,r){var i=function(t){return dt.crypto.Util.hashHex(t,n)}(kt(t));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,e,n,r)},lt.prototype.verifyWithMessageHashPSS=function(t,e,n,r){var i=new E(e,16);if(i.bitLength()>this.n.bitLength())return!1;var o,s=function(t){return dt.crypto.Util.hashHex(t,n)},l=Ft(t),a=l.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===r||void 0===r)r=a;else if(-2===r)r=c-a-2;else if(r<-2)throw"invalid salt length";if(c<a+r+2)throw"data too long";var h=this.doPublic(i).toByteArray();for(o=0;o<h.length;o+=1)h[o]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw"encoded message does not end in 0xbc";var d=(h=String.fromCharCode.apply(String,h)).substr(0,c-a-1),p=h.substr(d.length,a),f=65280>>8*c-u&255;if(0!=(d.charCodeAt(0)&f))throw"bits beyond keysize not zero";var g=Kt(p,d.length,s),m=[];for(o=0;o<d.length;o+=1)m[o]=d.charCodeAt(o)^g.charCodeAt(o);m[0]&=~f;var v=c-a-r-2;for(o=0;o<v;o+=1)if(0!==m[o])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===Ft(s(kt("\0\0\0\0\0\0\0\0"+l+String.fromCharCode.apply(String,m.slice(-r)))))},lt.SALT_LEN_HLEN=-1,lt.SALT_LEN_MAX=-2,lt.SALT_LEN_RECOVER=-2,Wt.hex2dn=function(t,e){if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed DN";for(var n=new Array,r=gt.getChildIdx(t,e),i=0;i<r.length;i++)n.push(Wt.hex2rdn(t,r[i]));return"/"+(n=n.map(function(t){return t.replace("/","\\/")})).join("/")},Wt.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw"malformed RDN";for(var n=new Array,r=gt.getChildIdx(t,e),i=0;i<r.length;i++)n.push(Wt.hex2attrTypeValue(t,r[i]));return(n=n.map(function(t){return t.replace("+","\\+")})).join("+")},Wt.hex2attrTypeValue=function(t,e){var n=gt,r=n.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw"malformed attribute type and value";var i=n.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var o=r(t,i[0]),s=dt.asn1.ASN1Util.oidHexToInt(o);return dt.asn1.x509.OID.oid2atype(s)+"="+Ft(r(t,i[1]))},Wt.getPublicKeyFromCertHex=function(t){var e=new Wt;return e.readCertHex(t),e.getPublicKey()},Wt.getPublicKeyFromCertPEM=function(t){var e=new Wt;return e.readCertPEM(t),e.getPublicKey()},Wt.getPublicKeyInfoPropOfCertPEM=function(t){var e,n,r=gt.getVbyList,i={algparam:null};return(e=new Wt).readCertPEM(t),n=e.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},Wt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==dt&&dt||(e.KJUR=dt={}),void 0!==dt.jws&&dt.jws||(dt.jws={}),dt.jws.JWS=function(){var t=dt.jws.JWS.isSafeJSONString;this.parseJWS=function(e,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],l=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=l,!n){var a=Ct(s),u=ot(a,16);this.parsedJWS.sigvalH=a,this.parsedJWS.sigvalBI=u}var c=ft(i),h=ft(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!t(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},dt.jws.JWS.sign=function(t,e,r,i,o){var s,l,a,u=dt.jws.JWS,c=u.readSafeJSONString,h=u.isSafeJSONString,d=dt.crypto,p=d.Mac,f=d.Signature,g=JSON;if("string"!=typeof e&&"object"!=(void 0===e?"undefined":n(e)))throw"spHeader must be JSON string or object: "+e;if("object"==(void 0===e?"undefined":n(e))&&(s=g.stringify(l=e)),"string"==typeof e){if(!h(s=e))throw"JWS Head is not safe JSON string: "+s;l=c(s)}if(a=r,"object"==(void 0===r?"undefined":n(r))&&(a=g.stringify(r)),""!=t&&null!=t||void 0===l.alg||(t=l.alg),""!=t&&null!=t&&void 0===l.alg&&(l.alg=t,s=g.stringify(l)),t!==l.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+l.alg;var m=null;if(void 0===u.jwsalg2sigalg[t])throw"unsupported alg name: "+t;m=u.jwsalg2sigalg[t];var v=pt(s)+"."+pt(a),y="";if("Hmac"==m.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var b=new p({alg:m,prov:"cryptojs",pass:i});b.updateString(v),y=b.doFinal()}else{var _;-1!=m.indexOf("withECDSA")?((_=new f({alg:m})).init(i,o),_.updateString(v),hASN1Sig=_.sign(),y=dt.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=m&&((_=new f({alg:m})).init(i,o),_.updateString(v),y=_.sign())}return v+"."+St(y)},dt.jws.JWS.verify=function(t,e,r){var i,o=dt.jws.JWS,s=o.readSafeJSONString,l=dt.crypto,a=l.ECDSA,u=l.Mac,c=l.Signature;void 0!==n(lt)&&(i=lt);var h=t.split(".");if(3!==h.length)return!1;var d,p=h[0]+"."+h[1],f=Ct(h[2]),g=s(ft(h[0])),m=null;if(void 0===g.alg)throw"algorithm not specified in header";if(d=(m=g.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+m+":"))throw"algorithm '"+m+"' not accepted in the list";if("none"!=m&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=Ht.getKey(e)),!("RS"!=d&&"PS"!=d||e instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(e instanceof a))throw"key shall be a ECDSA obj for ES* algs";var v=null;if(void 0===o.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+m;if("none"==(v=o.jwsalg2sigalg[m]))throw"not supported";if("Hmac"==v.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var y=new u({alg:v,pass:e});return y.updateString(p),f==y.doFinal()}if(-1!=v.indexOf("withECDSA")){var b,_=null;try{_=a.concatSigToASN1Sig(f)}catch(t){return!1}return(b=new c({alg:v})).init(e),b.updateString(p),b.verify(_)}return(b=new c({alg:v})).init(e),b.updateString(p),b.verify(f)},dt.jws.JWS.parse=function(t){var e,n,r=t.split("."),i={};if(2!=r.length&&3!=r.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=r[1],3==r.length&&(n=r[2]),i.headerObj=dt.jws.JWS.readSafeJSONString(ft(r[0])),i.payloadObj=dt.jws.JWS.readSafeJSONString(ft(e)),i.headerPP=JSON.stringify(i.headerObj,null,"  "),i.payloadPP=null==i.payloadObj?ft(e):JSON.stringify(i.payloadObj,null,"  "),void 0!==n&&(i.sigHex=Ct(n)),i},dt.jws.JWS.verifyJWT=function(t,e,r){var i=dt.jws,o=i.JWS,s=o.readSafeJSONString,l=o.inArray,a=o.includedArray,u=t.split("."),c=u[0],h=u[1],d=(Ct(u[2]),s(ft(c))),p=s(ft(h));if(void 0===d.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!l(d.alg,r.alg))return!1;if(void 0!==p.iss&&"object"===n(r.iss)&&!l(p.iss,r.iss))return!1;if(void 0!==p.sub&&"object"===n(r.sub)&&!l(p.sub,r.sub))return!1;if(void 0!==p.aud&&"object"===n(r.aud))if("string"==typeof p.aud){if(!l(p.aud,r.aud))return!1}else if("object"==n(p.aud)&&!a(p.aud,r.aud))return!1;var f=i.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(f=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+r.gracePeriod<f||void 0!==p.nbf&&"number"==typeof p.nbf&&f<p.nbf-r.gracePeriod||void 0!==p.iat&&"number"==typeof p.iat&&f<p.iat-r.gracePeriod||void 0!==p.jti&&void 0!==r.jti&&p.jti!==r.jti||!o.verify(t,e,r.alg))},dt.jws.JWS.includedArray=function(t,e){var r=dt.jws.JWS.inArray;if(null===t)return!1;if("object"!==(void 0===t?"undefined":n(t)))return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(!r(t[i],e))return!1;return!0},dt.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!==(void 0===e?"undefined":n(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},dt.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},dt.jws.JWS.isSafeJSONString=function(t,e,r){var i=null;try{return"object"!=(void 0===(i=ht(t))?"undefined":n(i))?0:i.constructor===Array?0:(e&&(e[r]=i),1)}catch(t){return 0}},dt.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=(void 0===(e=ht(t))?"undefined":n(e))?null:e.constructor===Array?null:e}catch(t){return null}},dt.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},dt.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var n=kt(e);return St(dt.crypto.Util.hashHex(n,"sha256"))},dt.jws.IntDate={},dt.jws.IntDate.get=function(t){var e=dt.jws.IntDate,n=e.getNow,r=e.getZulu;if("now"==t)return n();if("now + 1hour"==t)return n()+3600;if("now + 1day"==t)return n()+86400;if("now + 1month"==t)return n()+2592e3;if("now + 1year"==t)return n()+31536e3;if(t.match(/Z$/))return r(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},dt.jws.IntDate.getZulu=function(t){return Dt(t)},dt.jws.IntDate.getNow=function(){return~~(new Date/1e3)},dt.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},dt.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},e.SecureRandom=it,e.rng_seed_time=Q,e.BigInteger=E,e.RSAKey=lt,e.EDSA=dt.crypto.EDSA,e.DSA=dt.crypto.DSA,e.Signature=dt.crypto.Signature,e.MessageDigest=dt.crypto.MessageDigest,e.Mac=dt.crypto.Mac,e.Cipher=dt.crypto.Cipher,e.KEYUTIL=Ht,e.ASN1HEX=gt,e.X509=Wt,e.CryptoJS=v,e.b64tohex=S,e.b64toBA=C,e.stoBA=mt,e.BAtos=vt,e.BAtohex=yt,e.stohex=bt,e.stob64=function(t){return w(bt(t))},e.stob64u=function(t){return _t(w(bt(t)))},e.b64utos=function(t){return vt(C(wt(t)))},e.b64tob64u=_t,e.b64utob64=wt,e.hex2b64=w,e.hextob64u=St,e.b64utohex=Ct,e.utf8tob64u=pt,e.b64utoutf8=ft,e.utf8tob64=function(t){return w(Nt(Vt(t)))},e.b64toutf8=function(t){return decodeURIComponent(Mt(S(t)))},e.utf8tohex=Et,e.hextoutf8=xt,e.hextorstr=Ft,e.rstrtohex=kt,e.hextob64=At,e.hextob64nl=Tt,e.b64nltohex=Pt,e.hextopem=Rt,e.pemtohex=It,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),n=new DataView(e),r=0;r<t.length/2;r++)n.setUint8(r,parseInt(t.substr(2*r,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",n=new DataView(t),r=0;r<t.byteLength;r++)e+=("00"+n.getUint8(r).toString(16)).slice(-2);return e},e.zulutomsec=Ot,e.zulutosec=Dt,e.zulutodate=function(t){return new Date(Ot(t))},e.datetozulu=function(t,e,n){var r,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(t.getUTCMonth()+1)).slice(-2),r+=("0"+t.getUTCDate()).slice(-2),r+=("0"+t.getUTCHours()).slice(-2),r+=("0"+t.getUTCMinutes()).slice(-2),r+=("0"+t.getUTCSeconds()).slice(-2),n){var o=t.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},e.uricmptohex=Nt,e.hextouricmp=Mt,e.ipv6tohex=Lt,e.hextoipv6=Ut,e.hextoip=jt,e.iptohex=function(t){var e="malformed IP address";if(!(t=t.toLowerCase(t)).match(/^[0-9.]+$/)){if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Lt(t);throw e}var n=t.split(".");if(4!==n.length)throw e;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(t){throw e}},e.encodeURIComponentAll=Vt,e.newline_toUnix=function(t){return t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Bt,e.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map(function(t,e,n){var r=parseInt(t);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)}).join("")}catch(t){throw"malformed integer array string: "+t}},e.strdiffidx=function(t,e){var n=t.length;t.length>e.length&&(n=e.length);for(var r=0;r<n;r++)if(t.charCodeAt(r)!=e.charCodeAt(r))return r;return t.length!=e.length?n:-1},e.KJUR=dt,e.crypto=dt.crypto,e.asn1=dt.asn1,e.jws=dt.jws,e.lang=dt.lang}).call(this,n(27).Buffer)},function(t,e,n){"use strict";(function(t){var r=n(29),i=n(30),o=n(31);function s(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=d(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(e,n),i=(t=l(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(a.isBuffer(e)){var n=0|p(e.length);return 0===(t=l(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?l(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=l(t,e<0?0:0|p(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|p(e.length);t=l(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,l=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,l/=2,a/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<l;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===a)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+a>l&&(n=l-a),o=n;o>=0;o--){for(var h=!0,d=0;d<a;d++)if(u(t,o+d)!==u(e,d)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var l=parseInt(e.substr(2*s,2),16);if(isNaN(l))return s;t[n+s]=l}return s}function b(t,e,n,r){return H(V(e,t.length-n),t,n,r)}function _(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return _(t,e,n,r)}function S(t,e,n,r){return H(B(e),t,n,r)}function C(t,e,n,r){return H(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,l,a,u=t[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[i+1]))&&(a=(31&u)<<6|63&o)>127&&(c=a);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(a=(15&u)<<12|(63&o)<<6|63&s)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:s=t[i+2],l=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&l)&&(a=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&l)>65535&&a<1114112&&(c=a)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=F)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=F));return n}(r)}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return u(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?l(t,e):void 0!==n?"string"==typeof r?l(t,e).fill(n,r):l(t,e).fill(n):l(t,e)}(null,t,e,n)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):(function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}).apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),h=0;h<l;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=j(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,s=1,l=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===l&&0!==this[e+o-1]&&(l=1),this[e+o]=(t/s>>0)-l&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,s=1,l=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===l&&0!==this[e+o+1]&&(l=1),this[e+o]=(t/s>>0)-l&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return M(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return M(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:V(new a(t,r).toString()),l=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%l]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(28))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){for(var e,n=u(t),r=n[0],s=n[1],l=new o(3*(r+s)/4-s),a=0,c=s>0?r-4:r,h=0;h<c;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],l[a++]=e>>16&255,l[a++]=e>>8&255,l[a++]=255&e;return 2===s&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,l[a++]=255&e),1===s&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,l[a++]=e>>8&255,l[a++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,l=n-i;s<l;s+=16383)o.push(c(t,s,s+16383>l?l:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,a=s.length;l<a;++l)r[l]=s[l],i[s.charCodeAt(l)]=l;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,l=8*i-r-1,a=(1<<l)-1,u=a>>1,c=-7,h=n?i-1:0,d=n?-1:1,p=t[e+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=l;c>0;o=256*o+t[e+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===a)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,l,a,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-s))<1&&(s--,a*=2),(e+=s+h>=1?d/a:d*Math.pow(2,1-h))*a>=2&&(s++,a/=2),s+h>=c?(l=0,s=c):s+h>=1?(l=(e*a-1)*Math.pow(2,i),s+=h):(l=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&l,p+=f,l/=256,i-=8);for(s=s<<i|l,u+=i;u>0;t[n+p]=255&s,p+=f,s/=256,u-=8);t[n+p-f]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.jws,n=t.KeyUtil,i=t.X509,o=t.crypto,s=t.hextob64u,l=t.b64tohex,a=t.AllowedSigningAlgs;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.parseJwt=function t(n){r.Log.debug("JoseUtil.parseJwt");try{var i=e.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(t){r.Log.error(t)}},t.validateJwt=function(e,o,s,a,u,c,h){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=l(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return t._validateJwt(e,o,s,a,u,c,h)}catch(t){return r.Log.error(t&&t.message||t),Promise.reject("JWT validation failed")}},t.validateJwtAttributes=function(e,n,i,o,s,l){o||(o=0),s||(s=parseInt(Date.now()/1e3));var a=t.parseJwt(e).payload;if(!a.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(a.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",a.iss),Promise.reject(new Error("Invalid issuer in token: "+a.iss));if(!a.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(a.aud===i||Array.isArray(a.aud)&&a.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",a.aud),Promise.reject(new Error("Invalid audience in token: "+a.aud));if(a.azp&&a.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",a.azp),Promise.reject(new Error("Invalid azp in token: "+a.azp));if(!l){var u=s+o,c=s-o;if(!a.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(u<a.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",a.iat),Promise.reject(new Error("iat is in the future: "+a.iat));if(a.nbf&&u<a.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",a.nbf),Promise.reject(new Error("nbf is in the future: "+a.nbf));if(!a.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(a.exp<c)return r.Log.error("JoseUtil._validateJwt: exp is in the past",a.exp),Promise.reject(new Error("exp is in the past:"+a.exp))}return Promise.resolve(a)},t._validateJwt=function(n,i,o,s,l,u,c){return t.validateJwtAttributes(n,o,s,l,u,c).then(function(t){try{return e.JWS.verify(n,i,a)?t:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(t){return r.Log.error(t&&t.message||t),Promise.reject(new Error("signature validation failed"))}})},t.hashString=function t(e,n){try{return o.Util.hashString(e,n)}catch(t){r.Log.error(t)}},t.hexToBase64Url=function t(e){try{return s(e)}catch(t){r.Log.error(t)}},t}()};var r=n(0);t.exports=e.default},function(t,e,n){var r=n(34),i=n(35);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var l=0;l<16;++l)e[o+l]=s[l];return e||i(s)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0;return[n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],"-",n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]],n[t[r++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SigninResponse=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3);e.SigninResponse=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=i.UrlUtility.parseUrlFragment(e,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(t,[{key:"expires_in",get:function(){if(this.expires_at){var t=parseInt(Date.now()/1e3);return this.expires_at-t}},set:function(t){var e=parseInt(t);if("number"==typeof e&&e>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+e}}},{key:"expired",get:function(){var t=this.expires_in;if(void 0!==t)return t<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(8);e.SignoutRequest=function t(e){var n=e.url,s=e.id_token_hint,l=e.post_logout_redirect_uri,a=e.data,u=e.extraQueryParams,c=e.request_type;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var h in s&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",s)),l&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",l),a&&(this.state=new o.State({data:a,request_type:c}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),u)n=i.UrlUtility.addQueryParam(n,h,u[h]);this.url=n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignoutResponse=void 0;var r=n(3);e.SignoutResponse=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=r.UrlUtility.parseUrlFragment(e,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryWebStorage=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.InMemoryWebStorage=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data={}}return t.prototype.getItem=function(t){return i.Log.debug("InMemoryWebStorage.getItem",t),this._data[t]},t.prototype.setItem=function(t,e){i.Log.debug("InMemoryWebStorage.setItem",t),this._data[t]=e},t.prototype.removeItem=function(t){i.Log.debug("InMemoryWebStorage.removeItem",t),delete this._data[t]},t.prototype.key=function(t){return Object.getOwnPropertyNames(this._data)[t]},r(t,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManager=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(9),s=n(41),l=n(15),a=n(47),u=n(49),c=n(18),h=n(20),d=n(10),p=n(4);e.UserManager=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.SessionMonitor,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.TokenClient,g=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n instanceof s.UserManagerSettings||(n=new s.UserManagerSettings(n));var m=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return m._events=new a.UserManagerEvents(n),m._silentRenewService=new r(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new l(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=g,m}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getUser=function(){var t=this;return this._loadUser().then(function(e){return e?(i.Log.info("UserManager.getUser: user loaded"),t._events.load(e,!1),e):(i.Log.info("UserManager.getUser: user not found in storage"),null)})},e.prototype.removeUser=function(){var t=this;return this.storeUser(null).then(function(){i.Log.info("UserManager.removeUser: user removed from storage"),t._events.unload()})},e.prototype.signinRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:r";var e={useReplaceToNavigate:t.useReplaceToNavigate};return this._signinStart(t,this._redirectNavigator,e).then(function(){i.Log.info("UserManager.signinRedirect: successful")})},e.prototype.signinRedirectCallback=function(t){return this._signinEnd(t||this._redirectNavigator.url).then(function(t){return t.profile&&t.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),t})},e.prototype.signinPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:p";var e=t.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.display="popup",this._signin(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),t})):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},e.prototype.signinPopupCallback=function(t){return this._signinCallback(t,this._popupNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),t}).catch(function(t){i.Log.error(t.message)})},e.prototype.signinSilent=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=Object.assign({},e)).request_type="si:s",this._loadUser().then(function(n){return n&&n.refresh_token?(e.refresh_token=n.refresh_token,t._useRefreshToken(e)):(e.id_token_hint=e.id_token_hint||t.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&t._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),e.current_sub=n.profile.sub),t._signinSilentIframe(e))})},e.prototype._useRefreshToken=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(e).then(function(e){return e?e.access_token?t._loadUser().then(function(n){if(n){var r=Promise.resolve();return e.id_token&&(r=t._validateIdTokenFromTokenRefreshToken(n.profile,e.id_token)),r.then(function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=e.id_token,n.access_token=e.access_token,n.refresh_token=e.refresh_token||n.refresh_token,n.expires_in=e.expires_in,t.storeUser(n).then(function(){return t._events.load(n),n})})}return null}):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},e.prototype._validateIdTokenFromTokenRefreshToken=function(t,e){var n=this;return this._metadataService.getIssuer().then(function(r){return n._joseUtil.validateJwtAttributes(e,r,n._settings.client_id,n._settings.clockSkew).then(function(e){return e?e.sub!==t.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):e.auth_time&&e.auth_time!==t.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):e.azp&&e.azp!==t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!e.azp&&t.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})},e.prototype._signinSilentIframe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return e?(t.redirect_uri=e,t.prompt=t.prompt||"none",this._signin(t,this._iframeNavigator,{startUrl:e,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),t})):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype.signinSilentCallback=function(t){return this._signinCallback(t,this._iframeNavigator).then(function(t){return t&&(t.profile&&t.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",t.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),t})},e.prototype.signinCallback=function(t){var e=this;return this.readSigninResponseState(t).then(function(n){var r=n.state;return"si:r"===r.request_type?e.signinRedirectCallback(t):"si:p"===r.request_type?e.signinPopupCallback(t):"si:s"===r.request_type?e.signinSilentCallback(t):Promise.reject(new Error("invalid response_type in state"))})},e.prototype.signoutCallback=function(t,e){var n=this;return this.readSignoutResponseState(t).then(function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(t):"so:p"===i.request_type?n.signoutPopupCallback(t,e):Promise.reject(new Error("invalid response_type in state")):o})},e.prototype.querySessionStatus=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:s";var n=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(e.redirect_uri=n,e.prompt="none",e.response_type=e.response_type||this.settings.query_status_response_type,e.scope=e.scope||"openid",e.skipUserInfo=!0,this._signinStart(e,this._iframeNavigator,{startUrl:n,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(e){return t.processSigninResponse(e.url).then(function(t){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),t.session_state&&t.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",t.profile.sub),{session_state:t.session_state,sub:t.profile.sub,sid:t.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})})):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},e.prototype._signin=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(t,e,r).then(function(e){return n._signinEnd(e.url,t)})},e.prototype._signinStart=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.prepare(r).then(function(e){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(t).then(function(t){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=t.url,r.id=t.state.id,e.navigate(r)}).catch(function(t){throw e.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),e.close()),t})})},e.prototype._signinEnd=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(t).then(function(t){i.Log.debug("UserManager._signinEnd: got signin response");var r=new l.User(t);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return e.storeUser(r).then(function(){return i.Log.debug("UserManager._signinEnd: user stored"),e._events.load(r),r})})},e.prototype._signinCallback=function(t,e){return i.Log.debug("UserManager._signinCallback"),e.callback(t)},e.prototype.signoutRedirect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:r";var e=t.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;e&&(t.post_logout_redirect_uri=e);var n={useReplaceToNavigate:t.useReplaceToNavigate};return this._signoutStart(t,this._redirectNavigator,n).then(function(){i.Log.info("UserManager.signoutRedirect: successful")})},e.prototype.signoutRedirectCallback=function(t){return this._signoutEnd(t||this._redirectNavigator.url).then(function(t){return i.Log.info("UserManager.signoutRedirectCallback: successful"),t})},e.prototype.signoutPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="so:p";var e=t.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return t.post_logout_redirect_uri=e,t.display="popup",t.post_logout_redirect_uri&&(t.state=t.state||{}),this._signout(t,this._popupNavigator,{startUrl:e,popupWindowFeatures:t.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:t.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){i.Log.info("UserManager.signoutPopup: successful")})},e.prototype.signoutPopupCallback=function(t,e){return void 0===e&&"boolean"==typeof t&&(e=t,t=null),this._popupNavigator.callback(t,e,"?").then(function(){i.Log.info("UserManager.signoutPopupCallback: successful")})},e.prototype._signout=function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(t,e,r).then(function(t){return n._signoutEnd(t.url)})},e.prototype._signoutStart=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then(function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),e._loadUser().then(function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(e._settings.revokeAccessTokenOnSignout?e._revokeInternal(o):Promise.resolve()).then(function(){var s=t.id_token_hint||o&&o.id_token;return s&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),t.id_token_hint=s),e.removeUser().then(function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),e.createSignoutRequest(t).then(function(t){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=t.url,t.state&&(r.id=t.state.id),n.navigate(r)})})})}).catch(function(t){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),t})})},e.prototype._signoutEnd=function(t){return this.processSignoutResponse(t).then(function(t){return i.Log.debug("UserManager._signoutEnd: got signout response"),t})},e.prototype.revokeAccessToken=function(){var t=this;return this._loadUser().then(function(e){return t._revokeInternal(e,!0).then(function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),e.access_token=null,e.refresh_token=null,e.expires_at=null,e.token_type=null,t.storeUser(e).then(function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),t._events.load(e)})})}).then(function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},e.prototype._revokeInternal=function(t,e){var n=this;if(t){var r=t.refresh_token;return this._revokeAccessTokenInternal(t.access_token,e).then(function(t){return n._revokeRefreshTokenInternal(r,e).then(function(e){return t||e||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),t||e})})}return Promise.resolve(!1)},e.prototype._revokeAccessTokenInternal=function(t,e){return!t||t.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(t,e).then(function(){return!0})},e.prototype._revokeRefreshTokenInternal=function(t,e){return t?this._tokenRevocationClient.revoke(t,e,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},e.prototype.startSilentRenew=function(){this._silentRenewService.start()},e.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},e.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(t){return t?(i.Log.debug("UserManager._loadUser: user storageString loaded"),l.User.fromStorageString(t)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)})},e.prototype.storeUser=function(t){if(t){i.Log.debug("UserManager.storeUser: storing user");var e=t.toStorageString();return this._userStore.set(this._userStoreKey,e)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(e,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),e}(o.OidcClient)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerSettings=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=(n(0),n(5)),o=n(42),s=n(43),l=n(45),a=n(6),u=n(1),c=n(12),h=60,d=2e3;e.UserManagerSettings=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,p=n.popupWindowFeatures,f=n.popupWindowTarget,g=n.silent_redirect_uri,m=n.silentRequestTimeout,v=n.automaticSilentRenew,y=void 0!==v&&v,b=n.validateSubOnSilentRenew,_=void 0!==b&&b,w=n.includeIdTokenInSilentRenew,S=void 0===w||w,C=n.monitorSession,E=void 0===C||C,x=n.checkSessionInterval,F=void 0===x?d:x,k=n.stopCheckSessionOnError,A=void 0===k||k,T=n.query_status_response_type,P=n.revokeAccessTokenOnSignout,R=void 0!==P&&P,I=n.accessTokenExpiringNotificationTime,O=void 0===I?h:I,D=n.redirectNavigator,N=void 0===D?new o.RedirectNavigator:D,M=n.popupNavigator,L=void 0===M?new s.PopupNavigator:M,U=n.iframeNavigator,j=void 0===U?new l.IFrameNavigator:U,V=n.userStore,B=void 0===V?new a.WebStorageStateStore({store:u.Global.sessionStorage}):V;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var H=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,arguments[0]));return H._popup_redirect_uri=r,H._popup_post_logout_redirect_uri=i,H._popupWindowFeatures=p,H._popupWindowTarget=f,H._silent_redirect_uri=g,H._silentRequestTimeout=m,H._automaticSilentRenew=y,H._validateSubOnSilentRenew=_,H._includeIdTokenInSilentRenew=S,H._accessTokenExpiringNotificationTime=O,H._monitorSession=E,H._checkSessionInterval=F,H._stopCheckSessionOnError=A,H._query_status_response_type=T||(arguments[0]&&arguments[0].response_type?c.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),H._revokeAccessTokenOnSignout=R,H._redirectNavigator=N,H._popupNavigator=L,H._iframeNavigator=j,H._userStore=B,H}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),e}(i.OidcClientSettings)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectNavigator=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.RedirectNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(){return Promise.resolve(this)},t.prototype.navigate=function(t){return t&&t.url?(t.useReplaceToNavigate?window.location.replace(t.url):window.location=t.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(t,[{key:"url",get:function(){return window.location.href}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupNavigator=void 0;var r=n(0),i=n(44);e.PopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.PopupWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(e,n,o),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PopupWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(3),s=500,l="location=no,toolbar=no,width=500,height=500,left=100,top=100;",a="_blank";e.PopupWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e}),this._popup=window.open("",e.popupWindowTarget||a,e.popupWindowFeatures||l),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),s))}return t.prototype.navigate=function(t){return this._popup?t&&t.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=t.id,this._id&&(window["popupCallback_"+t.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=t.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},t.prototype._success=function(t){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(t)},t.prototype._error=function(t){i.Log.error("PopupWindow.error: ",t),this._cleanup(),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup(!1)},t.prototype._cleanup=function(t){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!t&&this._popup.close(),this._popup=null},t.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},t.prototype._callback=function(t,e){this._cleanup(e),t?(i.Log.debug("PopupWindow.callback success"),this._success({url:t})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},t.notifyOpener=function(t,e,n){if(window.opener){if(t=t||window.location.href){var r=o.UrlUtility.parseUrlFragment(t,n);if(r.state){var s=window.opener["popupCallback_"+r.state];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(t,e)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(t,[{key:"promise",get:function(){return this._promise}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameNavigator=void 0;var r=n(0),i=n(46);e.IFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new i.IFrameWindow(t);return Promise.resolve(e)},t.prototype.callback=function t(e){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(e),Promise.resolve()}catch(t){return Promise.reject(t)}},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IFrameWindow=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);e.IFrameWindow=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._promise=new Promise(function(t,e){n._resolve=t,n._reject=e}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.style.width=0,this._frame.style.height=0,window.document.body.appendChild(this._frame)}return t.prototype.navigate=function(t){if(t&&t.url){var e=t.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",e),this._timer=window.setTimeout(this._timeout.bind(this),e),this._frame.src=t.url}else this._error("No url provided");return this.promise},t.prototype._success=function(t){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(t)},t.prototype._error=function(t){this._cleanup(),i.Log.error(t),this._reject(new Error(t))},t.prototype.close=function(){this._cleanup()},t.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},t.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},t.prototype._message=function(t){if(i.Log.debug("IFrameWindow.message"),this._timer&&t.origin===this._origin&&t.source===this._frame.contentWindow){var e=t.data;e?this._success({url:e}):this._error("Invalid response from frame")}},t.notifyParent=function(t){i.Log.debug("IFrameWindow.notifyParent"),window.frameElement&&(t=t||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(t,location.protocol+"//"+location.host))},r(t,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);e.UserManagerEvents=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.load=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),t.prototype.load.call(this,e),n&&this._userLoaded.raise(e)},e.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),t.prototype.unload.call(this),this._userUnloaded.raise()},e.prototype.addUserLoaded=function(t){this._userLoaded.addHandler(t)},e.prototype.removeUserLoaded=function(t){this._userLoaded.removeHandler(t)},e.prototype.addUserUnloaded=function(t){this._userUnloaded.addHandler(t)},e.prototype.removeUserUnloaded=function(t){this._userUnloaded.removeHandler(t)},e.prototype.addSilentRenewError=function(t){this._silentRenewError.addHandler(t)},e.prototype.removeSilentRenewError=function(t){this._silentRenewError.removeHandler(t)},e.prototype._raiseSilentRenewError=function(t){r.Log.debug("UserManagerEvents._raiseSilentRenewError",t.message),this._silentRenewError.raise(t)},e.prototype.addUserSignedOut=function(t){this._userSignedOut.addHandler(t)},e.prototype.removeUserSignedOut=function(t){this._userSignedOut.removeHandler(t)},e.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},e.prototype.addUserSessionChanged=function(t){this._userSessionChanged.addHandler(t)},e.prototype.removeUserSessionChanged=function(t){this._userSessionChanged.removeHandler(t)},e.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},e}(i.AccessTokenEvents)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(17);e.Timer=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return s._timer=r,s._nowFunc=i||function(){return Date.now()/1e3},s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.init=function(t){t<=0&&(t=1),t=parseInt(t);var e=this.now+t;if(this.expiration===e&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",t),this._expiration=e;var n=5;t<n&&(n=t),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},e.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},e.prototype._callback=function(){i.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),t.prototype.raise.call(this))},r(e,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),e}(s.Event)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SilentRenewService=void 0;var r=n(0);e.SilentRenewService=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userManager=e}return t.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(t){}).catch(function(t){r.Log.error("SilentRenewService.start: Error from getUser:",t.message)}))},t.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},t.prototype._tokenExpiring=function(){var t=this;this._userManager.signinSilent().then(function(t){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(e){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",e.message),t._userManager.events._raiseSilentRenewError(e)})},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaPopupNavigator=void 0;var r=n(21);e.CordovaPopupNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){var e=new r.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CordovaIFrameNavigator=void 0;var r=n(21);e.CordovaIFrameNavigator=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.prepare=function(t){t.popupWindowFeatures="hidden=yes";var e=new r.CordovaPopupWindow(t);return Promise.resolve(e)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Version="1.9.0"}])},AQDP:function(t,e,n){var r,i,o;!function(s){if("object"==typeof t.exports){var l=s(0,e);void 0!==l&&(t.exports=l)}else i=[n,e],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)}(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e.default=["es-CO",[["a. m.","p. m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/MM/yy","d/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,n,n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00","#E0"],"$","peso colombiano",{AUD:[n,"$"],BRL:[n,"R$"],CAD:[n,"$"],CNY:[n,"\xa5"],COP:["$"],ESP:["\u20a7"],EUR:[n,"\u20ac"],FKP:[n,"FK\xa3"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],SSP:[n,"SD\xa3"],SYP:[n,"S\xa3"],TWD:[n,"NT$"],USD:["US$","$"],VEF:[n,"BsF"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},function(t){return 1===t?1:5}]})},Onkx:function(e,n){var r;(r=jQuery).fn.extend({slimScroll:function(e){var n=r.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},e);return this.each(function(){var i,o,s,l,a,u,c,h,d="<div></div>",p=30,f=!1,g=r(this);if(g.parent().hasClass(n.wrapperClass)){var m=g.scrollTop();if(w=g.siblings("."+n.barClass),_=g.siblings("."+n.railClass),x(),r.isPlainObject(e)){if("height"in e&&"auto"==e.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}else if("height"in e){var y=e.height;g.parent().css("height",y),g.css("height",y)}if("scrollTo"in e)m=parseInt(n.scrollTo);else if("scrollBy"in e)m+=parseInt(n.scrollBy);else if("destroy"in e)return w.remove(),_.remove(),void g.unwrap();E(m,!1,!0)}}else if(!(r.isPlainObject(e)&&"destroy"in e)){n.height="auto"==n.height?g.parent().height():n.height;var b=r(d).addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height});g.css({overflow:"hidden",width:n.width,height:n.height});var _=r(d).addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),w=r(d).addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),S="right"==n.position?{right:n.distance}:{left:n.distance};_.css(S),w.css(S),g.wrap(b),g.parent().append(w),g.parent().append(_),n.railDraggable&&w.bind("mousedown",function(e){var n=r(document);return s=!0,t=parseFloat(w.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,w.css("top",currTop),E(0,w.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){s=!1,k(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),_.hover(function(){F()},function(){k()}),w.hover(function(){o=!0},function(){o=!1}),g.hover(function(){i=!0,F(),k()},function(){i=!1,k()}),g.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(a=t.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(t){f||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(E((a-t.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),a=t.originalEvent.touches[0].pageY)}),x(),"bottom"===n.start?(w.css({top:g.outerHeight()-w.outerHeight()}),E(0,!0)):"top"!==n.start&&(E(r(n.start).position().top,null,!0),n.alwaysVisible||w.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}function C(t){if(i){var e=0;(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),r(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(g.parent())&&E(e,!0),t.preventDefault&&!f&&t.preventDefault(),f||(t.returnValue=!1)}}function E(t,e,r){f=!1;var i=t,o=g.outerHeight()-w.outerHeight();if(e&&(i=parseInt(w.css("top"))+t*parseInt(n.wheelStep)/100*w.outerHeight(),i=Math.min(Math.max(i,0),o),i=t>0?Math.ceil(i):Math.floor(i),w.css({top:i+"px"})),i=(c=parseInt(w.css("top"))/(g.outerHeight()-w.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),r){var s=(i=t)/g[0].scrollHeight*g.outerHeight();s=Math.min(Math.max(s,0),o),w.css({top:s+"px"})}g.scrollTop(i),g.trigger("slimscrolling",~~i),F(),k()}function x(){u=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),p),w.css({height:u+"px"});var t=u==g.outerHeight()?"none":"block";w.css({display:t})}function F(){x(),clearTimeout(l),c==~~c?(f=n.allowPageScroll,h!=c&&g.trigger("slimscroll",0==~~c?"top":"bottom")):f=!1,h=c,u>=g.outerHeight()?f=!0:(w.stop(!0,!0).fadeIn("fast"),n.railVisible&&_.stop(!0,!0).fadeIn("fast"))}function k(){n.alwaysVisible||(l=setTimeout(function(){n.disableFadeOut&&i||o||s||(w.fadeOut("slow"),_.fadeOut("slow"))},1e3))}}),this}}),r.fn.extend({slimscroll:r.fn.slimScroll})},PdH4:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function a(t,e,n){return(a=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var h=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},d=function(t){return Object.keys(t).map(function(e){return t[e]})},p=function(t){return Array.prototype.slice.call(t)},f=function(t){console.warn("".concat("SweetAlert2:"," ").concat(t))},g=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},m=[],v=function(t){return"function"==typeof t?t():t},y=function(t){return t&&"function"==typeof t.toPromise},b=function(t){return y(t)?t.toPromise():Promise.resolve(t)},_=function(t){return t&&Promise.resolve(t)===t},w=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),S=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},C=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},E=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=C(["success","warning","info","question","error"]),F=function(){return document.body.querySelector(".".concat(E.container))},k=function(t){var e=F();return e?e.querySelector(t):null},A=function(t){return k(".".concat(t))},T=function(){return A(E.popup)},P=function(){var t=T();return p(t.querySelectorAll(".".concat(E.icon)))},R=function(){var t=P().filter(function(t){return dt(t)});return t.length?t[0]:null},I=function(){return A(E.title)},O=function(){return A(E.content)},D=function(){return A(E.image)},N=function(){return A(E["progress-steps"])},M=function(){return A(E["validation-message"])},L=function(){return k(".".concat(E.actions," .").concat(E.confirm))},U=function(){return k(".".concat(E.actions," .").concat(E.deny))},j=function(){return k(".".concat(E.loader))},V=function(){return k(".".concat(E.actions," .").concat(E.cancel))},B=function(){return A(E.actions)},H=function(){return A(E.header)},q=function(){return A(E.footer)},z=function(){return A(E["timer-progress-bar"])},K=function(){return A(E.close)},$=function(){var t=p(T().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0}),e=p(T().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return dt(t)})},W=function(){return!G()&&!document.body.classList.contains(E["no-backdrop"])},G=function(){return document.body.classList.contains(E["toast-shown"])},J=function(){return T().hasAttribute("data-loading")},Y={previousBodyPadding:null},Z=function(t,e){if(t.textContent="",e){var n=(new DOMParser).parseFromString(e,"text/html");p(n.querySelector("head").childNodes).forEach(function(e){t.appendChild(e)}),p(n.querySelector("body").childNodes).forEach(function(e){t.appendChild(e)})}},Q=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},X=function(e,n,r){if(function(t,e){p(t.classList).forEach(function(n){-1===d(E).indexOf(n)&&-1===d(x).indexOf(n)&&-1===d(e.showClass).indexOf(n)&&t.classList.remove(n)})}(e,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return f("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(t(n.customClass[r]),'"'));it(e,n.customClass[r])}};function tt(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return st(t,E[e]);case"checkbox":return t.querySelector(".".concat(E.checkbox," input"));case"radio":return t.querySelector(".".concat(E.radio," input:checked"))||t.querySelector(".".concat(E.radio," input:first-child"));case"range":return t.querySelector(".".concat(E.range," input"));default:return st(t,E.input)}}var et,nt=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},rt=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},it=function(t,e){rt(t,e,!0)},ot=function(t,e){rt(t,e,!1)},st=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(Q(t.childNodes[n],e))return t.childNodes[n]},lt=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},at=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},ut=function(t){t.style.opacity="",t.style.display="none"},ct=function(t,e,n,r){var i=t.querySelector(e);i&&(i.style[n]=r)},ht=function(t,e,n){e?at(t,n):ut(t)},dt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},pt=function(t){return!!(t.scrollHeight>t.clientHeight)},ft=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},gt=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=z();dt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},mt=function(){return"undefined"==typeof window||"undefined"==typeof document},vt='\n <div aria-labelledby="'.concat(E.title,'" aria-describedby="').concat(E.content,'" class="').concat(E.popup,'" tabindex="-1">\n   <div class="').concat(E.header,'">\n     <ul class="').concat(E["progress-steps"],'"></ul>\n     <div class="').concat(E.icon," ").concat(x.error,'"></div>\n     <div class="').concat(E.icon," ").concat(x.question,'"></div>\n     <div class="').concat(E.icon," ").concat(x.warning,'"></div>\n     <div class="').concat(E.icon," ").concat(x.info,'"></div>\n     <div class="').concat(E.icon," ").concat(x.success,'"></div>\n     <img class="').concat(E.image,'" />\n     <h2 class="').concat(E.title,'" id="').concat(E.title,'"></h2>\n     <button type="button" class="').concat(E.close,'"></button>\n   </div>\n   <div class="').concat(E.content,'">\n     <div id="').concat(E.content,'" class="').concat(E["html-container"],'"></div>\n     <input class="').concat(E.input,'" />\n     <input type="file" class="').concat(E.file,'" />\n     <div class="').concat(E.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(E.select,'"></select>\n     <div class="').concat(E.radio,'"></div>\n     <label for="').concat(E.checkbox,'" class="').concat(E.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(E.label,'"></span>\n     </label>\n     <textarea class="').concat(E.textarea,'"></textarea>\n     <div class="').concat(E["validation-message"],'" id="').concat(E["validation-message"],'"></div>\n   </div>\n   <div class="').concat(E.actions,'">\n     <div class="').concat(E.loader,'"></div>\n     <button type="button" class="').concat(E.confirm,'"></button>\n     <button type="button" class="').concat(E.deny,'"></button>\n     <button type="button" class="').concat(E.cancel,'"></button>\n   </div>\n   <div class="').concat(E.footer,'"></div>\n   <div class="').concat(E["timer-progress-bar-container"],'">\n     <div class="').concat(E["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),yt=function(t){Ie.isVisible()&&et!==t.target.value&&Ie.resetValidationMessage(),et=t.target.value},bt=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?_t(e,n):e&&Z(n,e)},_t=function(t,e){t.jquery?wt(e,t):Z(e,t.toString())},wt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},St=function(){if(mt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function Ct(t,e,n){ht(t,n["show".concat(h(e),"Button")],"inline-block"),Z(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=E[e],X(t,n,"".concat(e,"Button")),it(t,n["".concat(e,"ButtonClass")])}var Et={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},xt=["input","file","range","select","radio","checkbox","textarea"],Ft=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},kt=function(t){var e=E[t]?E[t]:E.input;return st(O(),e)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:_(n.inputValue)||f('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),Ft(e,n),e.type=n.input,e},At.file=function(t,e){return Ft(t,e),t},At.range=function(t,e){var n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,t},At.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");Z(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},At.radio=function(t){return t.textContent="",t},At.checkbox=function(t,e){var n=tt(O(),"checkbox");n.value=1,n.id=E.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return Z(r,e.inputPlaceholder),t},At.textarea=function(t,e){if(t.value=e.inputValue,Ft(t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(T()).width),r=parseInt(window.getComputedStyle(T()).paddingLeft)+parseInt(window.getComputedStyle(T()).paddingRight);new MutationObserver(function(){var e=t.offsetWidth+r;T().style.width=e>n?"".concat(e,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var Tt=function(t){return'<div class="'.concat(E["icon-content"],'">').concat(t,"</div>")},Pt=[],Rt=function(){return F()&&F().getAttribute("data-queue-step")},It=function(t,e){!function(t,e){var n=T();lt(n,"width",e.width),lt(n,"padding",e.padding),e.background&&(n.style.background=e.background),function(t,e){t.className="".concat(E.popup," ").concat(dt(t)?e.showClass.popup:""),e.toast?(it([document.documentElement,document.body],E["toast-shown"]),it(t,E.toast)):it(t,E.modal),X(t,e,"popup"),"string"==typeof e.customClass&&it(t,e.customClass),e.icon&&it(t,E["icon-".concat(e.icon)])}(n,e)}(0,e),function(t,e){var n=F();if(n){!function(t,e){"string"==typeof e?t.style.background=e:e||it([document.documentElement,document.body],E["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&f('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in E?it(t,E[e]):(f('The "position" parameter is not valid, defaulting to "center"'),it(t,E.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in E&&it(t,E[n])}}(n,e.grow),X(n,e,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),function(t,e){var n=H();X(n,e,"header"),function(t,e){var n=N();if(!e.progressSteps||0===e.progressSteps.length)return ut(n);at(n),n.textContent="";var r=parseInt(void 0===e.currentProgressStep?Rt():e.currentProgressStep);r>=e.progressSteps.length&&f("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach(function(t,i){var o=function(t){var e=document.createElement("li");return it(e,E["progress-step"]),Z(e,t),e}(t);if(n.appendChild(o),i===r&&it(o,E["active-progress-step"]),i!==e.progressSteps.length-1){var s=function(t){var e=document.createElement("li");return it(e,E["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(e);n.appendChild(s)}})}(0,e),function(t,e){var n=Et.innerParams.get(t);if(n&&e.icon===n.icon&&R())X(R(),e,"icon");else if(function(){for(var t=P(),e=0;e<t.length;e++)ut(t[e])}(),e.icon)if(-1!==Object.keys(x).indexOf(e.icon)){var r=k(".".concat(E.icon,".").concat(x[e.icon]));at(r),function(t,e){t.textContent="",Z(t,e.iconHtml?Tt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Tt({question:"?",warning:"!",info:"i"}[e.icon]))}(r,e),function(t,e){if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(var n=0,r=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];n<r.length;n++)ct(t,r[n],"backgroundColor",e.iconColor);ct(t,".swal2-success-ring","borderColor",e.iconColor)}}(r,e),function(){for(var t=T(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=e}(),X(r,e,"icon"),it(r,e.showClass.icon)}else g('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=D();if(!e.imageUrl)return ut(n);at(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),lt(n,"width",e.imageWidth),lt(n,"height",e.imageHeight),n.className=E.image,X(n,e,"image")}(0,e),function(t,e){var n=I();ht(n,e.title||e.titleText),e.title&&bt(e.title,n),e.titleText&&(n.innerText=e.titleText),X(n,e,"title")}(0,e),function(t,e){var n=K();Z(n,e.closeButtonHtml),X(n,e,"closeButton"),ht(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)}(t,e),function(t,e){var n=O().querySelector("#".concat(E.content));e.html?(bt(e.html,n),at(n,"block")):e.text?(n.textContent=e.text,at(n,"block")):ut(n),function(t,e){var n=O(),r=Et.innerParams.get(t),i=!r||e.input!==r.input;xt.forEach(function(t){var r=E[t],o=st(n,r);(function(t,e){var n=tt(O(),t);if(n)for(var r in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===r||n.setAttribute(r,e[r])})(t,e.inputAttributes),o.className=r,i&&ut(o)}),e.input&&(i&&function(t){if(!At[t.input])return g('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=kt(t.input),n=At[t.input](e,t);at(n),setTimeout(function(){nt(n)})}(e),function(t){var e=kt(t.input);t.customClass&&it(e,t.customClass.input)}(e))}(t,e),X(O(),e,"content")}(t,e),function(t,e){var n=B(),r=j(),i=L(),o=U(),s=V();e.showConfirmButton||e.showDenyButton||e.showCancelButton||ut(n),X(n,e,"actions"),Ct(i,"confirm",e),Ct(o,"deny",e),Ct(s,"cancel",e),r.innerHTML=e.loaderHtml,e.buttonsStyling?function(t,e,n,r){if(it([t,e,n],E.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor),!J()){var i=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=i,t.style.borderRightColor=i}}(i,o,s,e):ot([i,o,s],E.styled),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r))}(0,e),function(t,e){var n=q();ht(n,e.footer),e.footer&&bt(e.footer,n),X(n,e,"footer")}(0,e),"function"==typeof e.onRender&&e.onRender(T())},Ot=function(){return L()&&L().click()},Dt=function(){var t=T();t||Ie.fire(),t=T();var e=B(),n=L(),r=j();at(e),ut(n),it([t,e],E.loading),at(r),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Nt={},Mt=function(){return new Promise(function(t){var e=window.scrollX,n=window.scrollY;Nt.restoreFocusTimeout=setTimeout(function(){Nt.previousActiveElement&&Nt.previousActiveElement.focus?(Nt.previousActiveElement.focus(),Nt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)})},Lt=function(){if(Nt.timeout)return function(){var t=z(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")}(),Nt.timeout.stop()},Ut=function(){if(Nt.timeout){var t=Nt.timeout.start();return gt(t),t}},jt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Vt=["allowEscapeKey","allowOutsideClick","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","footer","hideClass","html","icon","imageAlt","imageHeight","imageUrl","imageWidth","onAfterClose","onClose","onDestroy","progressSteps","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText"],Bt={animation:'showClass" and "hideClass'},Ht=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","heightAuto","keydownListenerCapture"],qt=function(t){return Object.prototype.hasOwnProperty.call(jt,t)},zt=function(t){return Bt[t]},Kt=function(t){qt(t)||f('Unknown parameter "'.concat(t,'"'))},$t=function(t){-1!==Ht.indexOf(t)&&f('The parameter "'.concat(t,'" is incompatible with toasts'))},Wt=function(t){var e,n,r;zt(t)&&(e=t,n=zt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===m.indexOf(r)&&(m.push(r),f(r)))},Gt=Object.freeze({isValidParameter:qt,isUpdatableParameter:function(t){return-1!==Vt.indexOf(t)},isDeprecatedParameter:zt,argsToParams:function(e){var n={};return"object"!==t(e[0])||S(e[0])?["title","html","icon"].forEach(function(r,i){var o=e[i];"string"==typeof o||S(o)?n[r]=o:void 0!==o&&g("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(t(o)))}):i(n,e[0]),n},isVisible:function(){return dt(T())},clickConfirm:Ot,clickDeny:function(){return U()&&U().click()},clickCancel:function(){return V()&&V().click()},getContainer:F,getPopup:T,getTitle:I,getContent:O,getHtmlContainer:function(){return A(E["html-container"])},getImage:D,getIcon:R,getIcons:P,getCloseButton:K,getActions:B,getConfirmButton:L,getDenyButton:U,getCancelButton:V,getHeader:H,getFooter:q,getTimerProgressBar:z,getFocusableElements:$,getValidationMessage:M,isLoading:J,fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a(this,e)},mixin:function(t){return function(n){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,n);var a,h,d=(a=p,h=l(),function(){var t,e=o(a);if(h){var n=o(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function p(){return e(this,p),d.apply(this,arguments)}return r(p,[{key:"_main",value:function(e){return c(o(p.prototype),"_main",this).call(this,i({},t,e))}}]),p}(this)},queue:function(t){var e=this;Pt=t;var n=function(t,e){Pt=[],t(e)},r=[];return new Promise(function(t){!function i(o,s){o<Pt.length?(document.body.setAttribute("data-swal2-queue-step",o),e.fire(Pt[o]).then(function(e){void 0!==e.value?(r.push(e.value),i(o+1,s)):n(t,{dismiss:e.dismiss})})):n(t,{value:r})}(0)})},getQueueStep:Rt,insertQueueStep:function(t,e){return e&&e<Pt.length?Pt.splice(e,0,t):Pt.push(t)},deleteQueueStep:function(t){void 0!==Pt[t]&&Pt.splice(t,1)},showLoading:Dt,enableLoading:Dt,getTimerLeft:function(){return Nt.timeout&&Nt.timeout.getTimerLeft()},stopTimer:Lt,resumeTimer:Ut,toggleTimer:function(){var t=Nt.timeout;return t&&(t.running?Lt():Ut())},increaseTimer:function(t){if(Nt.timeout){var e=Nt.timeout.increase(t);return gt(e,!0),e}},isTimerRunning:function(){return Nt.timeout&&Nt.timeout.isRunning()}});function Jt(){var t=Et.innerParams.get(this);if(t){var e=Et.domCache.get(this);ut(e.loader),t.showConfirmButton?at(e.confirmButton):t.showConfirmButton||t.showCancelButton||ut(e.actions),ot([e.popup,e.actions],E.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}var Yt=function(){null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null)},Zt=function(){if(Q(document.body,E.iosfix)){var t=parseInt(document.body.style.top,10);ot(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Qt=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Xt=function(){var t=F(),e=T();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},te=function(){"undefined"!=typeof window&&Qt()&&window.removeEventListener("resize",Xt)},ee=function(){p(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},ne={swalPromiseResolve:new WeakMap};function re(t,e,n,r){n?ae(t,r):(Mt().then(function(){return ae(t,r)}),Nt.keydownTarget.removeEventListener("keydown",Nt.keydownHandler,{capture:Nt.keydownListenerCapture}),Nt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),W()&&(Yt(),Zt(),te(),ee()),ot([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"],E["toast-column"]])}function ie(t){var e=T();if(e){t=oe(t);var n=Et.innerParams.get(this);if(n&&!Q(e,n.hideClass.popup)){var r=ne.swalPromiseResolve.get(this);ot(e,n.showClass.popup),it(e,n.hideClass.popup);var i=F();ot(i,n.showClass.backdrop),it(i,n.hideClass.backdrop),se(this,e,n),r(t)}}}var oe=function(t){return void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:i({isConfirmed:!1,isDenied:!1,isDismissed:!1},t)},se=function(t,e,n){var r=F(),i=St&&ft(e),o=n.onClose,s=n.onAfterClose;null!==o&&"function"==typeof o&&o(e),i?le(t,e,r,s):re(t,r,G(),s)},le=function(t,e,n,r){Nt.swalCloseEventFinishedCallback=re.bind(null,t,n,G(),r),e.addEventListener(St,function(t){t.target===e&&(Nt.swalCloseEventFinishedCallback(),delete Nt.swalCloseEventFinishedCallback)})},ae=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function ue(t,e,n){var r=Et.domCache.get(t);e.forEach(function(t){r[t].disabled=n})}function ce(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=e;else t.disabled=e}var he=function(){function t(n,r){e(this,t),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),de={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&\/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function pe(t){var e=T();if(t.target===e){var n=F();e.removeEventListener(St,pe),n.style.overflowY="auto"}}var fe,ge=function(t,e,n){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Q(document.body,E.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),it(document.body,E.iosfix),function(){var t,e=F();e.ontouchstart=function(e){t=function(t){var e=F();return t===e||!(pt(e)||"INPUT"===t.tagName||pt(O())&&O().contains(t))}(e.target)},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||T().scrollHeight>window.innerHeight-44&&(F().style.paddingBottom="".concat(44,"px"))}}(),"undefined"!=typeof window&&Qt()&&(Xt(),window.addEventListener("resize",Xt)),e&&"hidden"!==n&&null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+function(){var t=document.createElement("div");t.className=E["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px")),setTimeout(function(){t.scrollTop=0})},me={select:function(t,e,n){var r=st(t,E.select),i=function(t,e,r){var i=document.createElement("option");i.value=r,Z(i,e),n.inputValue.toString()===r.toString()&&(i.selected=!0),t.appendChild(i)};e.forEach(function(t){var e=t[0],n=t[1];if(Array.isArray(n)){var o=document.createElement("optgroup");o.label=e,o.disabled=!1,r.appendChild(o),n.forEach(function(t){return i(o,t[1],t[0])})}else i(r,n,e)}),r.focus()},radio:function(t,e,n){var r=st(t,E.radio);e.forEach(function(t){var e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=E.radio,o.value=e,n.inputValue.toString()===e.toString()&&(o.checked=!0);var l=document.createElement("span");Z(l,i),l.className=E.label,s.appendChild(o),s.appendChild(l),r.appendChild(s)});var i=r.querySelectorAll("input");i.length&&i[0].focus()}},ve=function(t,e){t.closePopup({isConfirmed:!0,value:e})},ye=function(t,e,n){e.showLoaderOnConfirm&&Dt(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(function(){return b(e.preConfirm(n,e.validationMessage))}).then(function(e){dt(M())||!1===e?t.hideLoading():ve(t,void 0===e?n:e)})):ve(t,n)},be=function(t,e,n){for(var r=$(),i=0;i<r.length;i++)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();T().focus()},_e=["ArrowRight","ArrowDown","Right","Down"],we=["ArrowLeft","ArrowUp","Left","Up"],Se=["Escape","Esc"],Ce=!1,Ee=function(e,n,r){return new Promise(function(i){var o=function(t){e.closePopup({isDismissed:!0,dismiss:t})};ne.swalPromiseResolve.set(e,i),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?function(t,e){var n=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then(function(){return b(e.inputValidator(n,e.validationMessage))}).then(function(r){t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):ye(t,e,n)})):t.getInput().checkValidity()?ye(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))}(t,e):ye(t,e,!0)}(e,r)},n.denyButton.onclick=function(){return function(t){t.disableButtons(),function(t){t.closePopup({isDenied:!0,value:!1})}(t)}(e)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(w.cancel)}(e,o)},n.closeButton.onclick=function(){return o(w.close)},function(t,e,n){Et.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=Et.innerParams.get(t);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.input||n(w.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Ce=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Ce=!0)}}}(e),function(t,e,n){e.container.onclick=function(r){var i=Et.innerParams.get(t);Ce?Ce=!1:r.target===e.container&&v(i.allowOutsideClick)&&n(w.backdrop)}}(t,e,n))}(e,n,o),function(t,e,n,r){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var r=Et.innerParams.get(t);r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Ot(),e.preventDefault()}}(t,e,r):"Tab"===e.key?function(t,e){for(var n=t.target,r=$(),i=-1,o=0;o<r.length;o++)if(n===r[o]){i=o;break}be(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}(e):-1!==[].concat(_e,we).indexOf(e.key)?function(t){if(-1!==[L(),U(),V()].indexOf(document.activeElement)){var e=-1!==_e.indexOf(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()}}(e.key):-1!==Se.indexOf(e.key)&&function(t,e,n){v(e.allowEscapeKey)&&(t.preventDefault(),n(w.esc))}(e,r,n)}(t,e,r)},e.keydownTarget=n.keydownListenerCapture?window:T(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,Nt,r,o),r.toast&&(r.input||r.footer||r.showCloseButton)?it(document.body,E["toast-column"]):ot(document.body,E["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var r=O(),i=function(e){return me[n.input](r,function e(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach(function(n,i){var o=n;"object"===t(o)&&(o=e(o)),r.push([i,o])}):Object.keys(n).forEach(function(i){var o=n[i];"object"===t(o)&&(o=e(o)),r.push([i,o])}),r}(e),n)};y(n.inputOptions)||_(n.inputOptions)?(Dt(),b(n.inputOptions).then(function(t){e.hideLoading(),i(t)})):"object"===t(n.inputOptions)?i(n.inputOptions):g("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(y(n.inputValue)||_(n.inputValue))&&function(t,e){var n=t.getInput();ut(n),b(e.inputValue).then(function(r){n.value="number"===e.input?parseFloat(r)||0:"".concat(r),at(n),n.focus(),t.hideLoading()}).catch(function(e){g("Error in inputValue promise: ".concat(e)),n.value="",at(n),n.focus(),t.hideLoading()})}(e,n)}(e,r),function(t){var e=F(),n=T();"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;(function(t,e,n){it(t,n.showClass.backdrop),at(e),it(e,n.showClass.popup),it([document.documentElement,document.body],E.shown),n.heightAuto&&n.backdrop&&!n.toast&&it([document.documentElement,document.body],E["height-auto"])})(e,n,t),function(t,e){St&&ft(e)?(t.style.overflowY="hidden",e.addEventListener(St,pe)):t.style.overflowY="auto"}(e,n),W()&&(ge(e,t.scrollbarPadding,r),p(document.body.children).forEach(function(t){t===F()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,F())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),G()||Nt.previousActiveElement||(Nt.previousActiveElement=document.activeElement),"function"==typeof t.onOpen&&setTimeout(function(){return t.onOpen(n)}),ot(e,E["no-transition"])}(r),xe(Nt,r,o),Fe(n,r),setTimeout(function(){n.container.scrollTop=0})})},xe=function(t,e,n){var r=z();ut(r),e.timer&&(t.timeout=new he(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(at(r),setTimeout(function(){t.timeout.running&&gt(e.timer)})))},Fe=function(t,e){if(!e.toast)return v(e.allowEnterKey)?void(ke(t,e)||be(0,-1,1)):Ae()},ke=function(t,e){return e.focusDeny&&dt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&dt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!dt(t.confirmButton)||(t.confirmButton.focus(),0))},Ae=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Te=function(t){for(var e in t)t[e]=new WeakMap},Pe=Object.freeze({hideLoading:Jt,disableLoading:Jt,getInput:function(t){var e=Et.innerParams.get(t||this),n=Et.domCache.get(t||this);return n?tt(n.content,e.input):null},close:ie,closePopup:ie,closeModal:ie,closeToast:ie,enableButtons:function(){ue(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ue(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ce(this.getInput(),!1)},disableInput:function(){return ce(this.getInput(),!0)},showValidationMessage:function(t){var e=Et.domCache.get(this);Z(e.validationMessage,t);var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),at(e.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",E["validation-message"]),nt(r),it(r,E.inputerror))},resetValidationMessage:function(){var t=Et.domCache.get(this);t.validationMessage&&ut(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),ot(e,E.inputerror))},getProgressSteps:function(){return Et.domCache.get(this).progressSteps},_main:function(t){(function(t){for(var e in t)Kt(e),t.toast&&$t(e),Wt(e)})(t),Nt.currentInstance&&Nt.currentInstance._destroy(),Nt.currentInstance=this;var e,n=function(t){var e=i({},jt.showClass,t.showClass),n=i({},jt.hideClass,t.hideClass),r=i({},jt,t);return r.showClass=e,r.hideClass=n,!1===t.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r}(t);(function(t){t.inputValidator||Object.keys(de).forEach(function(e){t.input===e&&(t.inputValidator=de[e])})})(e=n),e.showLoaderOnConfirm&&!e.preConfirm&&f("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=v(e.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(f('Target parameter is not valid, defaulting to "body"'),t.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),function(t){var e,n=!!(e=F())&&(e.parentNode.removeChild(e),ot([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0);if(mt())g("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=E.container,n&&it(r,E["no-transition"]),Z(r,vt);var i,o,s,l,a,u,c,h,d,p="string"==typeof(i=t.target)?document.querySelector(i):i;p.appendChild(r),function(t){var e=T();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&it(F(),E.rtl)}(p),o=O(),s=st(o,E.input),l=st(o,E.file),a=o.querySelector(".".concat(E.range," input")),u=o.querySelector(".".concat(E.range," output")),c=st(o,E.select),h=o.querySelector(".".concat(E.checkbox," input")),d=st(o,E.textarea),s.oninput=yt,l.onchange=yt,c.onchange=yt,h.onchange=yt,d.oninput=yt,a.oninput=function(t){yt(t),u.value=a.value},a.onchange=function(t){yt(t),a.nextSibling.value=a.value}}}(e),Object.freeze(n),Nt.timeout&&(Nt.timeout.stop(),delete Nt.timeout),clearTimeout(Nt.restoreFocusTimeout);var r=function(t){var e={popup:T(),container:F(),content:O(),actions:B(),confirmButton:L(),denyButton:U(),cancelButton:V(),loader:j(),closeButton:K(),validationMessage:M(),progressSteps:N()};return Et.domCache.set(t,e),e}(this);return It(this,n),Et.innerParams.set(this,n),Ee(this,r,n)},update:function(t){var e=T(),n=Et.innerParams.get(this);if(!e||Q(e,n.hideClass.popup))return f("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(t).forEach(function(e){Ie.isUpdatableParameter(e)?r[e]=t[e]:f('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var o=i({},n,r);It(this,o),Et.innerParams.set(this,o),Object.defineProperties(this,{params:{value:i({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=Et.domCache.get(this),e=Et.innerParams.get(this);e&&(t.popup&&Nt.swalCloseEventFinishedCallback&&(Nt.swalCloseEventFinishedCallback(),delete Nt.swalCloseEventFinishedCallback),Nt.deferDisposalTimer&&(clearTimeout(Nt.deferDisposalTimer),delete Nt.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),delete this.params,delete Nt.keydownHandler,delete Nt.keydownTarget,Te(Et),Te(ne))}}),Re=function(){function t(){if(e(this,t),"undefined"!=typeof window){"undefined"==typeof Promise&&g("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),fe=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var s=this._main(this.params);Et.promise.set(this,s)}}return r(t,[{key:"then",value:function(t){return Et.promise.get(this).then(t)}},{key:"finally",value:function(t){return Et.promise.get(this).finally(t)}}]),t}();i(Re.prototype,Pe),i(Re,Gt),Object.keys(Pe).forEach(function(t){Re[t]=function(){var e;if(fe)return(e=fe)[t].apply(e,arguments)}}),Re.DismissReason=w,Re.version="10.1.0";var Ie=Re;return Ie.default=Ie,Ie}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2)},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const l={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},a=Array.isArray||(t=>t&&"number"==typeof t.length);function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);const h=c;let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof h?p(s.errors):[s]}if(a(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(u(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof h?e=e.concat(p(s.errors)):e.push(s)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function p(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class g extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof g?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new g(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends g{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==l&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const v="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof g)return t;if(t[f])return t[f]()}return t||e||n?new g(t,e,n):new g(l)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof g?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=S(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[v](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=S(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function S(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function C(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}C.prototype=Object.create(Error.prototype);const E=C;class x extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class F extends g{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new F(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new E;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new E;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new E;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new x(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new A(t,e),t})();class A extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function T(t){return t&&"function"==typeof t.schedule}class P extends g{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const R=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=I(),D=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[v])return(t=>e=>{const n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(D(t))return R(t);if(N(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[O])return(t=>e=>{const n=t[O]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function L(t,e,n,r,i=new P(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):M(e)(i)}class U extends g{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function j(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(t,e))}}class V{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new B(t,this.project,this.thisArg))}}class B extends g{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function H(t,e){return new w(n=>{const r=new d;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new w(n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[v]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(N(t))return function(t,e){return new w(n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(D(t))return H(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[O](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const o=i.next();t=o.value,e=o.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(M(t))}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>q(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends U{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new P(this,void 0,void 0);this.destination.add(r),L(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(t){return t}function G(t=Number.POSITIVE_INFINITY){return z(W,t)}function J(t,e){return e?H(t,e):new w(R(t))}function Y(){return function(t){return t.lift(new Z(t))}}class Z{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Q(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends g{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const X=class extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new et(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return Y()(this)}}.prototype,tt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:X._subscribe},_isComplete:{value:X._isComplete,writable:!0},getSubject:{value:X.getSubject},connect:{value:X.connect},refCount:{value:X.refCount}};class et extends F{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function nt(){return new k}const rt="__annotations__",it="__parameters__",ot="__prop__metadata__";function st(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(it)?t[it]:Object.defineProperty(t,it,{value:[]})[it];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const lt=st("Inject",t=>({token:t})),at=st("Optional"),ut=st("Self"),ct=st("SkipSelf");var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function dt(t){for(let e in t)if(t[e]===dt)return e;throw Error("Could not find renamed property on target object.")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){const e=t[gt];return e&&e.token===t?e:null}const gt=dt({ngInjectableDef:dt});function mt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(mt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const vt=dt({__forward_ref__:dt});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return mt(this())},t}function bt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(vt)&&e.__forward_ref__===yt?e():t}const _t="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,St="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct="undefined"!=typeof global&&global,Et=_t||Ct||wt||St;class xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ft=new xt("INJECTOR",-1),kt=new Object,At="ngTempTokenPath",Tt="ngTokenPath",Pt=/\n/gm,Rt="\u0275",It="__source",Ot=dt({provide:String,useValue:dt});let Dt,Nt=void 0;function Mt(t){const e=Nt;return Nt=t,e}function Lt(t,e=ht.Default){return(Dt||function(t,e=ht.Default){if(void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?function(t,e,n){const r=ft(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ht.Optional)return null;throw new Error(`Injector: NOT_FOUND [${mt(t)}]`)}(t,0,e):Nt.get(t,e&ht.Optional?null:void 0,e)})(t,e)}class Ut{get(t,e=kt){if(e===kt){const e=new Error(`NullInjectorError: No provider for ${mt(t)}!`);throw e.name="NullInjectorError",e}return e}}function jt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Rt?t.substr(2):t;let i=mt(e);if(e instanceof Array)i=e.map(mt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):mt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Pt,"\n  ")}`}class Vt{}class Bt{}function Ht(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const zt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Kt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Et))(),$t="ngDebugContext",Wt="ngOriginalError",Gt="ngErrorLogger";function Jt(t){return t[$t]}function Yt(t){return t[Wt]}function Zt(t,...e){t.error(...e)}class Qt{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Gt]||Zt}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Jt(t)?Jt(t):this._findContext(Yt(t)):null}_findOriginalError(t){let e=Yt(t);for(;e&&Yt(e);)e=Yt(e);return e}}let Xt=!0,te=!1;function ee(){return te=!0,Xt}class ne{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const re=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ie=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oe(t){return(t=String(t)).match(re)||t.match(ie)?t:(ee()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function se(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function le(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ae=se("area,br,col,hr,img,wbr"),ue=se("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ce=se("rp,rt"),he=le(ce,ue),de=le(ae,le(ue,se("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),le(ce,se("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),he),pe=se("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fe=se("srcset"),ge=le(pe,fe,se("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),se("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),me=se("script,style,template");class ve{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!de.hasOwnProperty(e))return this.sanitizedSomething=!0,!me.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!ge.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;pe[o]&&(s=oe(s)),fe[o]&&(r=s,s=(r=String(r)).split(",").map(t=>oe(t.trim())).join(", ")),this.buf.push(" ",e,'="',_e(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();de.hasOwnProperty(e)&&!ae.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_e(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,be=/([^\#-~ |!])/g;function _e(t){return t.replace(/&/g,"&amp;").replace(ye,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(be,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let we;function Se(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Ce=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Ee{}const xe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Fe=/^url\(([^)]+)\)$/,ke=/([A-Z])/g;function Ae(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Te=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pe(),t})();const Pe=(...t)=>{},Re=Function;function Ie(t){return"function"==typeof t}const Oe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,De=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ne=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Me=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Le{constructor(t){this._reflect=t||Et.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(function(t){return Oe.test(t)||Me.test(t)||De.test(t)&&!Ne.test(t)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const n=t.ctorParameters;if(n&&n!==e.ctorParameters){const t="function"==typeof n?n():n,e=t.map(t=>t&&t.type),r=t.map(t=>t&&Ue(t.decorators));return this._zipTypesAndAnnotations(e,r)}const r=t.hasOwnProperty(it)&&t[it],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return i||r?this._zipTypesAndAnnotations(i,r):new Array(t.length).fill(void 0)}parameters(t){if(!Ie(t))return[];const e=je(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Ue(t.decorators):t.hasOwnProperty(rt)?t[rt]:null}annotations(t){if(!Ie(t))return[];const e=je(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Ue(e[t])}),n}return t.hasOwnProperty(ot)?t[ot]:null}propMetadata(t){if(!Ie(t))return{};const e=je(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Ie(t)&&this._ownPropMetadata(t,je(t))||{}}hasLifecycleHook(t,e){return t instanceof Re&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${mt(t)}`}resourceUri(t){return`./${mt(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Ue(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function je(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Ve=new xt("The presence of this token marks an injector as being the root injector."),Be=function(t,e,n){return new Ge(t,e,n)};let He=(()=>{class t{static create(t,e){return Array.isArray(t)?Be(t,e,""):Be(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new Ut,t.ngInjectableDef=pt({token:t,providedIn:"any",factory:()=>Lt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})();const qe=function(t){return t},ze=[],Ke=qe,$e=function(){return Array.prototype.slice.call(arguments)},We="\u0275";class Ge{constructor(t,e=He.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(He,{token:He,fn:qe,deps:ze,value:this,useNew:!1}),r.set(Ft,{token:Ft,fn:qe,deps:ze,value:this,useNew:!1}),function t(e,n){if(n)if((n=bt(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw Ye("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ye("Unexpected provider",n);{let t=bt(n.provide);const r=function(t){const e=function(t){let e=ze;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=bt(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof at||n==at?r|=1:n instanceof ct||n==ct?r&=-3:n instanceof ut||n==ut?r&=-5:i=n instanceof lt?n.token:bt(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:bt(t.useExisting),options:6}];else if(!(n||Ot in t))throw Ye("'deps' required",t);return e}(t);let n=qe,r=ze,i=!1,o=bt(t.provide);if(Ot in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=bt(t.useClass);else{if("function"!=typeof o)throw Ye("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==$e)throw Je(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:$e,value:ze});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==$e)throw Je(t);e.set(t,r)}}}(r,t)}get(t,e,n=ht.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let l;if(!n||s&ht.SkipSelf)s&ht.Self||(l=i.get(e,o,ht.Default));else{if((l=n.value)==Ke)throw Error(We+"Circular dependency");if(l===ze){n.value=Ke;let e=void 0,o=n.useNew,s=n.fn,a=n.deps,u=ze;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:He.NULL,1&o?null:He.THROW_IF_NOT_FOUND,ht.Default))}}n.value=l=o?new s(...u):s.apply(e,u)}}return l}(e,n,r,i,o,s)}catch(l){throw l instanceof Error||(l=new Error(l)),(l[At]=l[At]||[]).unshift(e),n&&n.value==Ke&&(n.value=ze),l}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[At];throw e[It]&&i.unshift(e[It]),t.message=jt("\n"+t.message,i,"StaticInjectorError",r),t[Tt]=i,t[At]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(mt(n))),`StaticInjector[${t.join(", ")}]`}}function Je(t){return Ye("Cannot mix multi providers and regular providers",t)}function Ye(t,e){return new Error(jt(t,e,"StaticInjectorError"))}function Ze(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>mt(t.token)).join(" -> ")+")":""}function Qe(t,e,n,r){const i=[e],o=n(i),s=r?function(t,e){const n=`${o} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r[Wt]=e,r}(0,r):Error(o);return s.addKey=Xe,s.keys=i,s.injectors=[t],s.constructResolvingMessage=n,s[Wt]=r,s}function Xe(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function tn(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(mt).join(" "):"?")}return Error("Cannot resolve all parameters for '"+mt(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+mt(t)+"' is decorated with Injectable.")}class en{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=mt(this.token)}static get(t){return rn.get(bt(t))}static get numberOfKeys(){return rn.numberOfKeys}}class nn{constructor(){this._allKeys=new Map}get(t){if(t instanceof en)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new en(t,en.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const rn=new nn;class on{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const sn=new on(new Le);class ln{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new ln(t,!1,null)}}const an=[];class un{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class cn{constructor(t,e){this.factory=t,this.dependencies=e}}function hn(t){let e,n;if(t.useClass){const r=bt(t.useClass);e=sn.factory(r),n=pn(r)}else t.useExisting?(e=t=>t,n=[ln.fromKey(en.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>fn(t,e,n))}return pn(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=an);return new cn(e,n)}function dn(t){return new un(en.get(t.provide),[hn(t)],t.multi||!1)}function pn(t){const e=sn.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw tn(t,e);return e.map(n=>fn(t,n,e))}function fn(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return gn(e instanceof lt?e.token:e,i,null);let o=null;for(let s=0;s<e.length;++s){const t=e[s];t instanceof Re?r=t:t instanceof lt?r=t.token:t instanceof at?i=!0:t instanceof ut||t instanceof ct?o=t:t instanceof xt&&(r=t)}if(null!=(r=bt(r)))return gn(r,i,o);throw tn(t,n)}function gn(t,e,n){return new ln(en.get(t),e,n)}const mn=new Object;class vn{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new un(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof Re)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw function(t){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}();t(e,n)}}),n}(t,[]).map(dn),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=vn.resolve(t);return vn.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new yn(t,e)}}let yn=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=mn}get(t,e=kt){return this._getByKey(en.get(t),null,e)}resolveAndCreateChild(t){const e=vn.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(vn.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Qe(this,t.key,function(t){return`Cannot instantiate cyclic dependency!${Ze(t)}`});return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=new Array(t.resolvedFactories.length);for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(s){throw s.addKey&&s.addKey(this,t.key),s}try{i=n(...r)}catch(s){throw Qe(this,t.key,function(t){const e=mt(t[0].token);return`${o.message}: Error during instantiation of ${e}!${Ze(t)}.`},o=s)}var o;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:kt)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof ut?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===mn&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return mn}_throwOrNull(t,e){if(e!==kt)return e;throw function(t,e){return Qe(t,e,function(t){return`No provider for ${mt(t[0].token)}!${Ze(t)}`})}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==mn?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof ct?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==mn)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=new Array(t._providers.length);for(let r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}(this,t=>' "'+t.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=en.get(He),t})();const bn=new xt("AnalyzeForEntryComponents");let _n=null;function wn(){if(!_n){const t=Et.Symbol;if(t&&t.iterator)_n=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_n=n)}}}return _n}function Sn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Cn(t,e){const n=xn(t),r=xn(e);if(n&&r)return function(t,e,n){const r=t[wn()](),i=e[wn()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,Cn);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||Sn(t,e)}}class En{constructor(t){this.wrapped=t}static wrap(t){return new En(t)}static unwrap(t){return En.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof En}}function xn(t){return!!Fn(t)&&(Array.isArray(t)||!(t instanceof Map)&&wn()in t)}function Fn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function kn(t){return!!t&&"function"==typeof t.then}function An(t){return!!t&&"function"==typeof t.subscribe}class Tn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Pn{}class Rn{}function In(t){const e=Error(`No component factory found for ${mt(t)}. Did you add it to @NgModule.entryComponents?`);return e[On]=t,e}const On="ngComponent";class Dn{resolveComponentFactory(t){throw In(t)}}let Nn=(()=>{class t{}return t.NULL=new Dn,t})();class Mn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw In(t);return new Ln(e,this._ngModule)}}class Ln extends Rn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function Un(...t){}let jn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Vn(t),t})();const Vn=Un;class Bn{}class Hn{}const qn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let zn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Kn(),t})();const Kn=Un;class $n{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Wn=new $n("8.2.2");class Gn{constructor(){}supports(t){return xn(t)}create(t){return new Yn(t)}}const Jn=(t,e)=>e;class Yn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Jn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<tr(n,r,i)?e:n,s=tr(o,r,i),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=l-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==l&&t(o,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xn(t))throw new Error(`Error trying to diff '${mt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&Sn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Sn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[wn()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Sn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Sn(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Sn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Sn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Zn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Zn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Sn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tr(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class er{constructor(){}supports(t){return t instanceof Map||Fn(t)}create(){return new nr}}class nr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fn(t)))throw new Error(`Error trying to diff '${mt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new rr(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Sn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class rr{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ir=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new Gn])}),t})(),or=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new t([new er])}),t})();const sr=[new er],lr=new ir([new Gn]),ar=new or(sr);let ur=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>cr(t,jn),t})();const cr=Un;let hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>dr(t,jn),t})();const dr=Un;function pr(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return fr(n,e),n}(i,t)}function fr(t,e){t[$t]=e,t[Gt]=e.logError.bind(e)}function gr(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function mr(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function vr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function yr(t,e){return t.nodes[e]}function br(t,e){return t.nodes[e]}function _r(t,e){return t.nodes[e]}function wr(t,e){return t.nodes[e]}function Sr(t,e){return t.nodes[e]}const Cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Er=()=>{},xr=new Map;function Fr(t){let e=xr.get(t);return e||(e=mt(t)+"_"+xr.size,xr.set(t,e)),e}function kr(t,e,n,r){if(En.isWrapped(r)){r=En.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=En.unwrap(t.oldValues[i]);t.oldValues[i]=new En(o)}return r}const Ar="$$undefined",Tr="$$empty";function Pr(t){return{id:Ar,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Rr=0;function Ir(t,e,n,r){return!(!(2&t.state)&&Sn(t.oldValues[e.bindingIndex+n],r))}function Or(t,e,n,r){return!!Ir(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Dr(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Cn(i,r)){const o=e.bindings[n].name;throw pr(Cr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function Nr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Mr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Lr(t,e,n,r){try{return Nr(33554432&t.def.nodes[e].flags?br(t,e).componentView:t),Cr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ur(t){return t.parent?br(t.parent,t.parentNodeDef.nodeIndex):null}function jr(t){return t.parent?t.parentNodeDef.parent:null}function Vr(t,e){switch(201347067&e.flags){case 1:return br(t,e.nodeIndex).renderElement;case 2:return yr(t,e.nodeIndex).renderText}}function Br(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Hr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function qr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=function(t){return 1<<t%32}(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function zr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,It,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:Fr(n)}})}function Kr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===zt.Native?br(t,n.renderParent.nodeIndex).renderElement:void 0:e}const $r=new WeakMap;function Wr(t){let e=$r.get(t);return e||((e=t(()=>Er)).factory=t,$r.set(t,e)),e}function Gr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Vr(t,t.def.lastRenderRootNode))),Jr(t,e,0,t.def.nodes.length-1,n,r,i)}function Jr(t,e,n,r,i,o,s){for(let l=n;l<=r;l++){const n=t.def.nodes[l];11&n.flags&&Zr(t,n,e,i,o,s),l+=n.childCount}}function Yr(t,e,n,r,i,o){let s=t;for(;s&&!Br(s);)s=s.parent;const l=s.parent,a=jr(s),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=l.def.nodes[c];t.ngContentIndex===e&&Zr(l,t,n,r,i,o),c+=t.childCount}if(!l.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Qr(t,s[e],n,r,i,o)}}function Zr(t,e,n,r,i,o){if(8&e.flags)Yr(t,e.ngContent.index,n,r,i,o);else{const s=Vr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Qr(t,s,n,r,i,o),32&e.bindingFlags&&Qr(br(t,e.nodeIndex).componentView,s,n,r,i,o)):Qr(t,s,n,r,i,o),16777216&e.flags){const s=br(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Gr(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&Jr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Qr(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Xr=/^:([^:]+):(.+)$/;function ti(t){if(":"===t[0]){const e=t.match(Xr);return[e[1],e[2]]}return["",t]}function ei(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}const ni=new Object,ri=Fr(He),ii=Fr(Ft),oi=Fr(Vt);function si(t,e,n,r){return n=bt(n),{index:-1,deps:zr(r,mt(e)),flags:t,token:e,value:n}}function li(t,e,n=He.THROW_IF_NOT_FOUND){const r=Mt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case ri:case ii:case oi:return t}const l=t._def.providersByKey[s];let a;if(l){let e=t._providers[l.index];return void 0===e&&(e=t._providers[l.index]=ai(t,l)),e===ni?void 0:e}if((a=ft(e.token))&&(i=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(i)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=ni,t._providers[n]=ai(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{Mt(r)}var i,o}function ai(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(li(t,n[0]));case 2:return new e(li(t,n[0]),li(t,n[1]));case 3:return new e(li(t,n[0]),li(t,n[1]),li(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=li(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(li(t,n[0]));case 2:return e(li(t,n[0]),li(t,n[1]));case 3:return e(li(t,n[0]),li(t,n[1]),li(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=li(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=li(t,e.deps[0]);break;case 256:n=e.value}return n===ni||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?ni:n}function ui(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,qt(n,e),Cr.dirtyParentQueries(r),hi(r),r}function ci(t,e,n){const r=e?Vr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Gr(n,2,i,o,void 0)}function hi(t){Gr(t,3,null,null,void 0)}const di=new Object;function pi(t,e,n,r,i,o){return new fi(t,e,n,r,i,o)}class fi extends Rn{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Wr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=Cr.createRootView(t,e||[],n,i,r,di),l=_r(s,o).instance;return n&&s.renderer.setAttribute(br(s,0).renderElement,"ng-version",Wn.full),new gi(s,new bi(s),l)}}class gi extends Pn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new jn(br(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Ci(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function mi(t,e,n){return new vi(t,e,n)}class vi{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new jn(this._data.renderElement)}get injector(){return new Ci(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=jr(t),t=t.parent;return t?new Ci(t,e):new Ci(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=ui(this._data,t);Cr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new bi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof Ln||(i=o.get(Vt));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Ht(i,n,r),function(t,e){const n=Ur(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),Cr.dirtyParentQueries(r),ci(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,o=i[n];qt(i,n),null==r&&(r=i.length),Ht(i,r,o),Cr.dirtyParentQueries(o),hi(o),ci(t,r>0?i[r-1]:null,o)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=ui(this._data,t);e&&Cr.destroyView(e)}detach(t){const e=ui(this._data,t);return e?new bi(e):null}}function yi(t){return new bi(t)}class bi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Gr(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Nr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{Cr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){Cr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Cr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,hi(this._view),Cr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function _i(t,e){return new wi(t,e)}class wi extends ur{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new bi(Cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new jn(br(this._parentView,this._def.nodeIndex).renderElement)}}function Si(t,e){return new Ci(t,e)}class Ci{constructor(t,e){this.view=t,this.elDef=e}get(t,e=He.THROW_IF_NOT_FOUND){return Cr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Fr(t)},e)}}function Ei(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=br(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return yr(t,n.nodeIndex).renderText;if(20240&n.flags)return _r(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function xi(t){return new Fi(t.renderer)}class Fi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=ti(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=ti(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function ki(t,e,n,r){return new Ai(t,e,n,r)}class Ai{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ai(t,i))}}(this)}get(t,e=He.THROW_IF_NOT_FOUND,n=ht.Default){let r=0;return n&ht.SkipSelf?r|=1:n&ht.Self&&(r|=4),li(this,{token:t,tokenKey:Fr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Nn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${mt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==ni){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ti=Fr(Bn),Pi=Fr(zn),Ri=Fr(jn),Ii=Fr(hr),Oi=Fr(ur),Di=Fr(Te),Ni=Fr(He),Mi=Fr(Ft);function Li(t,e,n,r,i,o,s,l){const a=[];if(s)for(let c in s){const[t,e]=s[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(l)for(let c in l)u.push({type:1,propName:c,target:null,eventName:l[c]});return Vi(t,e|=16384,n,r,i,i,o,a,u)}function Ui(t,e,n){return Vi(-1,t|=16,null,0,e,e,n)}function ji(t,e,n,r,i){return Vi(-1,t,e,0,n,r,i)}function Vi(t,e,n,r,i,o,s,l,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=qr(n);a||(a=[]),l||(l=[]),o=bt(o);const d=zr(s,mt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:l,bindingFlags:ei(l),outputs:a,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Bi(t,e){return Ki(t,e)}function Hi(t,e){let n=t;for(;n.parent&&!Br(n);)n=n.parent;return $i(n.parent,jr(n),!0,e.provider.value,e.provider.deps)}function qi(t,e){const n=$i(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!An(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(zi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function zi(t,e,n){return r=>Lr(t,e,n,r)}function Ki(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return $i(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(Gi(t,e,n,i[0]));case 2:return r(Gi(t,e,n,i[0]),Gi(t,e,n,i[1]));case 3:return r(Gi(t,e,n,i[0]),Gi(t,e,n,i[1]),Gi(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=Gi(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return Gi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function $i(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(Gi(t,e,n,i[0]));case 2:return new r(Gi(t,e,n,i[0]),Gi(t,e,n,i[1]));case 3:return new r(Gi(t,e,n,i[0]),Gi(t,e,n,i[1]),Gi(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=Gi(t,e,n,i[r]);return new r(...s)}}const Wi={};function Gi(t,e,n,r,i=He.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===Di&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let l=t;for(;l;){if(e)switch(s){case Ti:return xi(Ji(l,e,n));case Pi:return Ji(l,e,n).renderer;case Ri:return new jn(br(l,e.nodeIndex).renderElement);case Ii:return br(l,e.nodeIndex).viewContainer;case Oi:if(e.element.template)return br(l,e.nodeIndex).template;break;case Di:return yi(Ji(l,e,n));case Ni:case Mi:return Si(l,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=_r(l,t.nodeIndex);return e||(e={instance:Ki(l,t)},l.nodes[t.nodeIndex]=e),e.instance}}n=Br(l),e=jr(l),l=l.parent,4&r.flags&&(l=null)}const a=o.root.injector.get(r.token,Wi);return a!==Wi||i===Wi?a:o.root.ngModule.injector.get(r.token,i)}function Ji(t,e,n){let r;if(n)r=br(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Br(r);)r=r.parent;return r}function Yi(t,e,n,r,i,o){if(32768&n.flags){const e=br(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=En.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new Tn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Zi(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Xi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Qi(t,s,e,r)),s=s.parent}}function Qi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Xi(t,i,e.flags&n,r++),i+=e.childCount}return r}function Xi(t,e,n,r){const i=_r(t,e);if(!i)return;const o=i.instance;o&&(Cr.setCurrentNode(t,e),1048576&n&&vr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&vr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const to=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kt}),eo={},no=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),ro=void 0;var io=["en",[["a","p"],["AM","PM"],ro],[["AM","PM"],ro,ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ro,"{1} 'at' {0}",ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function oo(t){const e=t.toLowerCase().replace(/_/g,"-");let n=eo[e];if(n)return n;const r=e.split("-")[0];if(n=eo[r])return n;if("en"===r)return io;throw new Error(`Missing locale data for the locale "${t}".`)}const so="en-US";let lo=so;class ao extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof d&&t.add(s),s}}function uo(){return this._results[wn()]()}class co{constructor(){this.dirty=!0,this._results=[],this.changes=new ao,this.length=0;const t=wn(),e=co.prototype;e[t]||(e[t]=uo)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const ho=new xt("Application Initializer");class po{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();kn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const fo=new xt("AppId");function go(){return`${mo()}${mo()}${mo()}`}function mo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vo=new xt("Platform Initializer"),yo=new xt("Platform ID"),bo=new xt("appBootstrapListener");class _o{log(t){console.log(t)}warn(t){console.warn(t)}}const wo=new xt("LocaleId"),So=!1;function Co(){throw new Error("Runtime compiler is not loaded")}const Eo=Co,xo=Co,Fo=Co,ko=Co;class Ao{constructor(){this.compileModuleSync=Eo,this.compileModuleAsync=xo,this.compileModuleAndAllComponentsSync=Fo,this.compileModuleAndAllComponentsAsync=ko}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class To{}let Po,Ro;function Io(){const t=Et.wtf;return!(!t||!(Po=t.trace)||(Ro=Po.events,0))}const Oo=Io(),Do=Oo?function(t,e=null){return Ro.createScope(t,e)}:(t,e)=>(function(t,e){return null}),No=Oo?function(t,e){return Po.leaveScope(t,e),e}:(t,e)=>e,Mo=(()=>Promise.resolve(0))();function Lo(t){"undefined"==typeof Zone?Mo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Uo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ao(!1),this.onMicrotaskEmpty=new ao(!1),this.onStable=new ao(!1),this.onError=new ao(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Ho(e),t.invokeTask(r,i,o,s)}finally{qo(e)}},onInvoke:(t,n,r,i,o,s,l)=>{try{return Ho(e),t.invoke(r,i,o,s,l)}finally{qo(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Bo(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Uo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Uo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Vo,jo,jo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function jo(){}const Vo={};function Bo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ho(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qo(t){t._nesting--,Bo(t)}class zo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ao,this.onMicrotaskEmpty=new ao,this.onStable=new ao,this.onError=new ao}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Ko{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Uo.assertNotInAngularZone(),Lo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}let $o=(()=>{class t{constructor(){this._applications=new Map,Jo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Jo.findTestabilityInTree(this,t,e)}}return t.ctorParameters=()=>[],t})();class Wo{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Go,Jo=new Wo,Yo=function(t,e,n){return t.get(To).createCompiler([e]).compileModuleAsync(n)},Zo=function(t){return t instanceof Ln};const Qo=new xt("AllowMultipleToken");class Xo{constructor(t,e){this.name=t,this.token=e}}function ts(t,e,n=[]){const r=`Platform: ${e}`,i=new xt(r);return(e=[])=>{let o=es();if(!o||o.injector.get(Qo,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Go&&!Go.destroyed&&!Go.injector.get(Qo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Go=t.get(ns);const e=t.get(vo,null);e&&e.forEach(t=>t())}(He.create({providers:t,name:r}))}return function(t){const e=es();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function es(){return Go&&!Go.destroyed?Go:null}class ns{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new zo:("zone.js"===i?void 0:i)||new Uo({enableLongStackTrace:ee()}),r=[{provide:Uo,useValue:n}];var i;return n.run(()=>{const e=He.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Qt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return So&&function(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(lo=t.toLowerCase().replace(/_/g,"-"))}(i.injector.get(wo,so)||so),i.onDestroy(()=>os(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return kn(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(po);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=rs({},e);return Yo(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(is);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${mt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function rs(t,e){return Array.isArray(e)?e.reduce(rs,t):Object.assign({},t,e)}let is=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ee(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Uo.assertNotInAngularZone(),Lo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Uo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return T(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:G(e)(J(t,n))}(s,l.pipe(t=>Y()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,tt);return r.source=e,r.subjectFactory=n,r}}(nt)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=Zo(n)?null:this._injector.get(Vt),i=n.create(He.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Ko,null);return o&&i.injector.get($o).registerApplication(i.location.nativeElement,o),this._loadComponent(i),ee()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,No(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;os(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(bo,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),os(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Do("ApplicationRef#tick()"),t})();function os(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ss{}const ls="#",as="NgFactory";class us{}const cs={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class hs{constructor(t,e){this._compiler=t,this._config=e||cs}load(t){return!So&&this._compiler instanceof Ao?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(ls);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>ds(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(ls),i=as;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>ds(t,e,r))}}function ds(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ps{constructor(t,e){this.name=t,this.callback=e}}class fs{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof gs&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class gs extends fs{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof gs&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof gs&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof gs&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof gs)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const ms=new Map,vs=function(t){return ms.get(t)||null};function ys(t){ms.set(t.nativeNode,t)}const bs=ts(null,"core",[{provide:yo,useValue:"unknown"},{provide:ns,deps:[He]},{provide:$o,deps:[]},{provide:_o,deps:[]}]);function _s(){return lr}function ws(){return ar}function Ss(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Cs{constructor(t){}}function Es(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:l,matchedQueryIds:a}=qr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Wr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Er},provider:null,text:null,query:null,ngContent:null}}function xs(t,e,n,r,i,o,s=[],l,a,u,c,h){u||(u=Er);const{matchedQueries:d,references:p,matchedQueryIds:f}=qr(n);let g=null,m=null;o&&([g,m]=ti(o)),l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e,n]=l[_],[r,i]=ti(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e]=a[_];y[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=ti(t);return[n,r,e]});return h=function(t){if(t&&t.id===Ar){const e=null!=t.encapsulation&&t.encapsulation!==zt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Rr++}`:Tr}return t&&t.id===Tr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:ei(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||Er},provider:null,text:null,query:null,ngContent:null}}function Fs(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Kr(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===zt.ShadowDom);if(r.attrs)for(let l=0;l<r.attrs.length;l++){const[t,e,n]=r.attrs[l];o.setAttribute(s,e,n,t)}return s}function ks(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const l=n.outputs[s],a=As(t,n.nodeIndex,(o=l.eventName,(i=l.target)?`${i}:${o}`:o));let u=l.target,c=t;"component"===l.target&&(u=null,c=e);const h=c.renderer.listen(u||r,l.eventName,a);t.disposables[n.outputIndex+s]=h}var i,o}function As(t,e,n){return r=>Lr(t,e,n,r)}function Ts(t,e,n,r){if(!Or(t,e,n,r))return!1;const i=e.bindings[n],o=br(t,e.nodeIndex),s=o.renderElement,l=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let l=s?t.root.sanitizer.sanitize(s,o):o;l=null!=l?l.toString():null;const a=t.renderer;null!=o?a.setAttribute(n,i,l,r):a.removeAttribute(n,i,r)}(t,i,s,i.ns,l,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,l,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Ce.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,l,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,l,r)}return!0}function Ps(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Hr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&Sr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&Sr(t,n).setDirty(),n+=e.childCount}}function Rs(t,e){const n=Sr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Is(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=_r(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Is(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let l=0;l<o.length;l++){const t=o[l];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Is(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Os(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=br(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Is(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Ur(o);s&&s===n&&Is(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Is(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Os(t,e,n){if(null!=n)switch(n){case 1:return br(t,e.nodeIndex).renderElement;case 0:return new jn(br(t,e.nodeIndex).renderElement);case 2:return br(t,e.nodeIndex).template;case 3:return br(t,e.nodeIndex).viewContainer;case 4:return _r(t,e.nodeIndex).instance}}function Ds(t,e,n){const r=Kr(t,e,n);r&&Yr(t,n.ngContent.index,1,r,null,void 0)}function Ns(t,e){return Us(128,t,new Array(e+1))}function Ms(t,e){return Us(32,t,new Array(e))}function Ls(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return Us(64,t,i)}function Us(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:ei(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function js(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Vs(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Kr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Bs(t,e){return(null!=t?t.toString():"")+e.suffix}function Hs(t,e,n,r){let i=0,o=0,s=0,l=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(zs(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[Fr(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Fr(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):l|=t.flags,t.childCount>0)u=t,qs(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&qs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:l,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||Er,updateRenderer:r||Er,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function qs(t){return 0!=(1&t.flags)&&null===t.element.name}function zs(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Ks(t,e,n,r){const i=Gs(t.root,t.renderer,t,e,n);return Js(i,t.component,r),Ys(i),i}function $s(t,e,n){const r=Gs(t,t.renderer,null,null,e);return Js(r,n,n),Ys(r),r}function Ws(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Gs(t.root,o,t,e.element.componentProvider,n)}function Gs(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Js(t,e,n){t.component=e,t.context=n}function Ys(t){let e;Br(t)&&(e=br(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(Cr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=Fs(t,e,o);let l=void 0;if(33554432&o.flags){const e=Wr(o.element.componentView);l=Cr.createComponentView(t,o,e,n)}ks(t,l,o,n),s={renderElement:n,componentView:l,viewContainer:null,template:o.element.template?_i(t,o):void 0},16777216&o.flags&&(s.viewContainer=mi(t,o,s));break;case 2:s=Vs(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Bi(t,o)});break;case 16:s={instance:Hi(t,o)};break;case 16384:(s=r[i])||(s={instance:qi(t,o)}),32768&o.flags&&Js(br(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new co;break;case 8:Ds(t,e,o),s=void 0}r[i]=s}ol(t,il.CreateViewNodes),ul(t,201326592,268435456,0)}function Zs(t){tl(t),Cr.updateDirectives(t,1),sl(t,il.CheckNoChanges),Cr.updateRenderer(t,1),ol(t,il.CheckNoChanges),t.state&=-97}function Qs(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,mr(t,0,256),tl(t),Cr.updateDirectives(t,0),sl(t,il.CheckAndUpdate),ul(t,67108864,536870912,0);let e=mr(t,256,512);Zi(t,2097152|(e?1048576:0)),Cr.updateRenderer(t,0),ol(t,il.CheckAndUpdate),ul(t,134217728,536870912,0),Zi(t,8388608|((e=mr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,mr(t,768,1024)}function Xs(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Ts(t,e,0,n)&&(p=!0),d>1&&Ts(t,e,1,r)&&(p=!0),d>2&&Ts(t,e,2,i)&&(p=!0),d>3&&Ts(t,e,3,o)&&(p=!0),d>4&&Ts(t,e,4,s)&&(p=!0),d>5&&Ts(t,e,5,l)&&(p=!0),d>6&&Ts(t,e,6,a)&&(p=!0),d>7&&Ts(t,e,7,u)&&(p=!0),d>8&&Ts(t,e,8,c)&&(p=!0),d>9&&Ts(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,s,l,a,u,c,h);case 2:return function(t,e,n,r,i,o,s,l,a,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Or(t,e,0,n)&&(d=!0),f>1&&Or(t,e,1,r)&&(d=!0),f>2&&Or(t,e,2,i)&&(d=!0),f>3&&Or(t,e,3,o)&&(d=!0),f>4&&Or(t,e,4,s)&&(d=!0),f>5&&Or(t,e,5,l)&&(d=!0),f>6&&Or(t,e,6,a)&&(d=!0),f>7&&Or(t,e,7,u)&&(d=!0),f>8&&Or(t,e,8,c)&&(d=!0),f>9&&Or(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Bs(n,p[0])),f>1&&(d+=Bs(r,p[1])),f>2&&(d+=Bs(i,p[2])),f>3&&(d+=Bs(o,p[3])),f>4&&(d+=Bs(s,p[4])),f>5&&(d+=Bs(l,p[5])),f>6&&(d+=Bs(a,p[6])),f>7&&(d+=Bs(u,p[7])),f>8&&(d+=Bs(c,p[8])),f>9&&(d+=Bs(h,p[9]));const g=yr(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,l,a,u,c,h);case 16384:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=_r(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Ir(t,e,0,n)&&(f=!0,g=Yi(t,d,e,0,n,g)),m>1&&Ir(t,e,1,r)&&(f=!0,g=Yi(t,d,e,1,r,g)),m>2&&Ir(t,e,2,i)&&(f=!0,g=Yi(t,d,e,2,i,g)),m>3&&Ir(t,e,3,o)&&(f=!0,g=Yi(t,d,e,3,o,g)),m>4&&Ir(t,e,4,s)&&(f=!0,g=Yi(t,d,e,4,s,g)),m>5&&Ir(t,e,5,l)&&(f=!0,g=Yi(t,d,e,5,l,g)),m>6&&Ir(t,e,6,a)&&(f=!0,g=Yi(t,d,e,6,a,g)),m>7&&Ir(t,e,7,u)&&(f=!0,g=Yi(t,d,e,7,u,g)),m>8&&Ir(t,e,8,c)&&(f=!0,g=Yi(t,d,e,8,c,g)),m>9&&Ir(t,e,9,h)&&(f=!0,g=Yi(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&vr(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,o,s,l,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Or(t,e,0,n)&&(p=!0),f>1&&Or(t,e,1,r)&&(p=!0),f>2&&Or(t,e,2,i)&&(p=!0),f>3&&Or(t,e,3,o)&&(p=!0),f>4&&Or(t,e,4,s)&&(p=!0),f>5&&Or(t,e,5,l)&&(p=!0),f>6&&Or(t,e,6,a)&&(p=!0),f>7&&Or(t,e,7,u)&&(p=!0),f>8&&Or(t,e,8,c)&&(p=!0),f>9&&Or(t,e,9,h)&&(p=!0),p){const p=wr(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=l),f>6&&(g[6]=a),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=l),f>6&&(g[d[6].name]=a),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,l);break;case 7:g=t.transform(r,i,o,s,l,a);break;case 8:g=t.transform(r,i,o,s,l,a,u);break;case 9:g=t.transform(r,i,o,s,l,a,u,c);break;case 10:g=t.transform(r,i,o,s,l,a,u,c,h)}}p.value=g}return p}(t,e,n,r,i,o,s,l,a,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Ts(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Or(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Bs(n[t],r[t]);i=e.text.prefix+i;const o=yr(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=_r(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let l=0;l<n.length;l++)Ir(t,e,l,n[l])&&(o=!0,s=Yi(t,r,e,l,n[l],s));return s&&i.ngOnChanges(s),65536&e.flags&&vr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Or(t,e,o,n[o])&&(i=!0);if(i){const i=wr(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let e=0;e<n.length;e++)o[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);o=t.transform(...i)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function tl(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=br(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,Mr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function el(t,e,n,r,i,o,s,l,a,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,l,a,u,c,h){const d=e.bindings.length;d>0&&Dr(t,e,0,n),d>1&&Dr(t,e,1,r),d>2&&Dr(t,e,2,i),d>3&&Dr(t,e,3,o),d>4&&Dr(t,e,4,s),d>5&&Dr(t,e,5,l),d>6&&Dr(t,e,6,a),d>7&&Dr(t,e,7,u),d>8&&Dr(t,e,8,c),d>9&&Dr(t,e,9,h)}(t,e,r,i,o,s,l,a,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Dr(t,e,r,n[r])}(t,e,r),!1}function nl(t,e){if(Sr(t,e.nodeIndex).dirty)throw pr(Cr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function rl(t){if(!(128&t.state)){if(sl(t,il.Destroy),ol(t,il.Destroy),Zi(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Ur(t);if(e){const n=e.template._projectedViews;n&&(qt(n,n.indexOf(t)),Cr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(br(t,n).renderElement):2&e.flags?t.renderer.destroyNode(yr(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&Sr(t,n).destroy()}}(t),Br(t)&&t.renderer.destroy(),t.state|=128}}const il=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function ol(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ll(br(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function sl(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=br(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ll(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ll(t,e){const n=t.state;switch(e){case il.CheckNoChanges:0==(128&n)&&(12==(12&n)?Zs(t):64&n&&al(t,il.CheckNoChangesProjectedViews));break;case il.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Zs(t):64&n&&al(t,e));break;case il.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Qs(t):64&n&&al(t,il.CheckAndUpdateProjectedViews));break;case il.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Qs(t):64&n&&al(t,e));break;case il.Destroy:rl(t);break;case il.CreateViewNodes:Ys(t)}}function al(t,e){sl(t,e),ol(t,e)}function ul(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(Cr.setCurrentNode(t,i.nodeIndex),r){case 0:Rs(t,i);break;case 1:nl(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let cl=!1;function hl(t,e,n,r,i,o){const s=i.injector.get(Hn);return $s(pl(t,i,s,e,n),r,o)}function dl(t,e,n,r,i,o){const s=i.injector.get(Hn),l=pl(t,i,new Kl(s),e,n),a=Cl(r);return ql(Tl.create,$s,null,[l,a,o])}function pl(t,e,n,r,i){const o=e.injector.get(Ee),s=e.injector.get(Qt),l=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:l,errorHandler:s}}function fl(t,e,n,r){const i=Cl(n);return ql(Tl.create,Ks,null,[t,e,i,r])}function gl(t,e,n,r){return n=bl.get(e.element.componentProvider.provider.token)||Cl(n),ql(Tl.create,Ws,null,[t,e,n,r])}function ml(t,e,n,r){return ki(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===vl.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=vl.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{yl.forEach((r,i)=>{ft(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=vl.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=zr(i.deps),r.value=i.value)}if(yl.size>0){let e=new Set(t.modules);yl.forEach((r,i)=>{if(e.has(ft(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:zr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[Fr(i)]=e}})}}(t=t.factory(()=>Er)),t):t}(r))}const vl=new Map,yl=new Map,bl=new Map;function _l(t){let e;vl.set(t.token,t),"function"==typeof t.token&&(e=ft(t.token))&&"function"==typeof e.providedIn&&yl.set(t.token,t)}function wl(t,e){const n=Wr(e.viewDefFactory),r=Wr(n.nodes[0].element.componentView);bl.set(t,r)}function Sl(){vl.clear(),yl.clear(),bl.clear()}function Cl(t){if(0===vl.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&vl.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>Er);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=vl.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=zr(n.deps),t.value=n.value)}}}}function El(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return Xs(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?wr(t,e).value:void 0}function xl(t,e,n,r,i,o,s,l,a,u,c,h,d){const p=t.def.nodes[e];return el(t,p,n,r,i,o,s,l,a,u,c,h,d),224&p.flags?wr(t,e).value:void 0}function Fl(t){return ql(Tl.detectChanges,Qs,null,[t])}function kl(t){return ql(Tl.checkNoChanges,Zs,null,[t])}function Al(t){return ql(Tl.destroy,rl,null,[t])}const Tl=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Pl,Rl,Il;function Ol(t,e){Rl=t,Il=e}function Dl(t,e,n,r){return Ol(t,e),ql(Tl.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Nl(t,e){if(128&t.state)throw gr(Tl[Pl]);return Ol(t,jl(t,0)),t.def.updateDirectives(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ll(t,o,r,i):Ul(t,o,r,i),16384&o.flags&&Ol(t,jl(t,n)),224&o.flags?wr(t,o.nodeIndex).value:void 0},t)}function Ml(t,e){if(128&t.state)throw gr(Tl[Pl]);return Ol(t,Vl(t,0)),t.def.updateRenderer(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ll(t,o,r,i):Ul(t,o,r,i),3&o.flags&&Ol(t,Vl(t,n)),224&o.flags?wr(t,o.nodeIndex).value:void 0},t)}function Ll(t,e,n,r){if(Xs(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],l=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(ke,(...t)=>"-"+t[1].toLowerCase())}`)]=Ae(l))}const r=e.parent,l=br(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(l,e,r):t.renderer.removeAttribute(l,e)}else t.renderer.setValue(l,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Ul(t,e,n,r){el(t,e,n,...r)}function jl(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Vl(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Bl{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=jr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return br(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Si(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Hl(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Hl(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Br(t);)t=t.parent;return t.parent?br(t.parent,jr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Vr(this.view,this.nodeDef):Vr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):Er),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Hl(t,e,n){for(let r in e.references)n[r]=Os(t,e,e.references[r])}function ql(t,e,n,r){const i=Pl,o=Rl,s=Il;try{Pl=t;const a=e.apply(n,r);return Rl=o,Il=s,Pl=i,a}catch(l){if(Jt(l)||!Rl)throw l;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),fr(t,e),t}(l,zl())}}function zl(){return Rl?new Bl(Rl,Il):null}class Kl{constructor(t){this.delegate=t}createRenderer(t,e){return new $l(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class $l{constructor(t){this.delegate=t,this.debugContextFactory=zl,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=vs(t);ms.delete(e.nativeNode),e instanceof fs&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new gs(n,null,r);e.name=t,ys(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ys(new fs(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ys(new fs(e,null,n)),e}appendChild(t,e){const n=vs(t),r=vs(e);n&&r&&n instanceof gs&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=vs(t),i=vs(e),o=vs(n);r&&i&&r instanceof gs&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=vs(t),r=vs(e);n&&r&&n instanceof gs&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=zl();return r&&ys(new gs(n,null,r)),n}setAttribute(t,e,n,r){const i=vs(t);i&&i instanceof gs&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=vs(t);r&&r instanceof gs&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=vs(t);n&&n instanceof gs&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=vs(t);n&&n instanceof gs&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=vs(t);i&&i instanceof gs&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=vs(t);r&&r instanceof gs&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=vs(t);r&&r instanceof gs&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=vs(t);r&&r.listeners.push(new ps(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Wl(t,e,n){return new Gl(t,e,n)}class Gl extends Bt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(cl)return;cl=!0;const t=ee()?{setCurrentNode:Ol,createRootView:dl,createEmbeddedView:fl,createComponentView:gl,createNgModuleRef:ml,overrideProvider:_l,overrideComponentView:wl,clearOverrides:Sl,checkAndUpdateView:Fl,checkNoChangesView:kl,destroyView:Al,createDebugContext:(t,e)=>new Bl(t,e),handleEvent:Dl,updateDirectives:Nl,updateRenderer:Ml}:{setCurrentNode:()=>{},createRootView:hl,createEmbeddedView:Ks,createComponentView:Ws,createNgModuleRef:ki,overrideProvider:Er,overrideComponentView:Er,clearOverrides:Er,checkAndUpdateView:Qs,checkNoChangesView:Zs,destroyView:rl,createDebugContext:(t,e)=>new Bl(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?El:xl,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?El:xl,t)};Cr.setCurrentNode=t.setCurrentNode,Cr.createRootView=t.createRootView,Cr.createEmbeddedView=t.createEmbeddedView,Cr.createComponentView=t.createComponentView,Cr.createNgModuleRef=t.createNgModuleRef,Cr.overrideProvider=t.overrideProvider,Cr.overrideComponentView=t.overrideComponentView,Cr.clearOverrides=t.clearOverrides,Cr.checkAndUpdateView=t.checkAndUpdateView,Cr.checkNoChangesView=t.checkNoChangesView,Cr.destroyView=t.destroyView,Cr.resolveDep=Gi,Cr.createDebugContext=t.createDebugContext,Cr.handleEvent=t.handleEvent,Cr.updateDirectives=t.updateDirectives,Cr.updateRenderer=t.updateRenderer,Cr.dirtyParentQueries=Ps}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Wr(this._ngModuleDefFactory));return Cr.createNgModuleRef(this.moduleType,t||He.NULL,this._bootstrapComponents,e)}}class Jl{}const Yl=new xt("Location Initialized");class Zl{}const Ql=new xt("appBaseHref");class Xl{constructor(t,e){this._subject=new ao,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Xl.stripTrailingSlash(ta(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Xl.normalizeQueryParams(e))}normalize(t){return Xl.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ta(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xl.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xl.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ta(t){return t.replace(/\/index.html$/,"")}class ea extends Zl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Xl.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Xl.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Xl.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class na extends Zl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Xl.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Xl.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Xl.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Xl.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ra=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),ia=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),oa=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),sa=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),la=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),aa=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function ua(t,e){return ga(oo(t)[no.DateFormat],e)}function ca(t,e){return ga(oo(t)[no.TimeFormat],e)}function ha(t,e){return ga(oo(t)[no.DateTimeFormat],e)}function da(t,e){const n=oo(t),r=n[no.NumberSymbols][e];if(void 0===r){if(e===aa.CurrencyDecimal)return n[no.NumberSymbols][aa.Decimal];if(e===aa.CurrencyGroup)return n[no.NumberSymbols][aa.Group]}return r}const pa=function(t){return oo(t)[no.PluralCase]};function fa(t){if(!t[no.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[no.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ga(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function ma(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const va=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ya={},ba=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_a=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),wa=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Sa=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ca(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Ea(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function xa(t,e,n=0,r=!1,i=!1){return function(o,s){let l=function(t,e){switch(t){case wa.FullYear:return e.getFullYear();case wa.Month:return e.getMonth();case wa.Date:return e.getDate();case wa.Hours:return e.getHours();case wa.Minutes:return e.getMinutes();case wa.Seconds:return e.getSeconds();case wa.FractionalSeconds:return e.getMilliseconds();case wa.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||l>-n)&&(l+=n),t===wa.Hours)0===l&&-12===n&&(l=12);else if(t===wa.FractionalSeconds)return a=e,Ea(l,3).substr(0,a);var a;const u=da(s,aa.MinusSign);return Ea(l,e,u,r,i)}}function Fa(t,e,n=oa.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case Sa.Months:return function(t,e,n){const r=oo(t),i=ga([r[no.MonthsFormat],r[no.MonthsStandalone]],e);return ga(i,n)}(e,i,r)[t.getMonth()];case Sa.Days:return function(t,e,n){const r=oo(t),i=ga([r[no.DaysFormat],r[no.DaysStandalone]],e);return ga(i,n)}(e,i,r)[t.getDay()];case Sa.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(o){const t=function(t){const e=oo(t);return fa(e),(e[no.ExtraData][2]||[]).map(t=>"string"==typeof t?ma(t):[ma(t[0]),ma(t[1])])}(e),n=function(t,e,n){const r=oo(t);fa(r);const i=ga([r[no.ExtraData][0],r[no.ExtraData][1]],e)||[];return ga(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:a,minutes:u}=t[1];s>=r&&l>=i&&(s<a||s===a&&l<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===l&&(o=n[e])}}),o)return o}return function(t,e,n){const r=oo(t),i=ga([r[no.DayPeriodsFormat],r[no.DayPeriodsStandalone]],e);return ga(i,n)}(e,i,r)[s<12?0:1];case Sa.Eras:return function(t,e){return ga(oo(t)[no.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function ka(t){return function(e,n,r){const i=-1*r,o=da(n,aa.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case _a.Short:return(i>=0?"+":"")+Ea(s,2,o)+Ea(Math.abs(i%60),2,o);case _a.ShortGMT:return"GMT"+(i>=0?"+":"")+Ea(s,1,o);case _a.Long:return"GMT"+(i>=0?"+":"")+Ea(s,2,o)+":"+Ea(Math.abs(i%60),2,o);case _a.Extended:return 0===r?"Z":(i>=0?"+":"")+Ea(s,2,o)+":"+Ea(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const Aa=0,Ta=4;function Pa(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,Aa,1).getDay();return new Date(t,0,1+(e<=Ta?Ta:Ta+7)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(Ta-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Ea(i,t,da(r,aa.MinusSign))}}const Ra={};function Ia(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Oa(t){return t instanceof Date&&!isNaN(t.valueOf())}const Da=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Na=22,Ma=".",La="0",Ua=";",ja=",",Va="#";function Ba(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const Ha=new xt("UseV4Plurals");class qa{}class za extends qa{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):pa(e||this.locale)(t)){case ia.Zero:return"zero";case ia.One:return"one";case ia.Two:return"two";case ia.Few:return"few";case ia.Many:return"many";default:return"other"}}}function Ka(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class $a{}class Wa{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${mt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let Ga=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Ja extends Ga{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class Ya{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Za{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ee()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ya(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Qa(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Qa(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Qa{constructor(t,e){this.record=t,this.view=e}}class Xa{constructor(t,e){this._viewContainer=t,this._context=new tu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class tu{constructor(){this.$implicit=null,this.ngIf=null}}function eu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}function nu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${mt(t)}'`)}class ru{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class iu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const ou=new iu,su=new ru;class lu{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Sn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,En.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(kn(t))return ou;if(An(t))return su;throw nu(lu,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class au{constructor(t){this.locale=t}transform(t,e="mediumDate",n,r){if(null==t||""===t||t!=t)return null;try{return function(t,e,n,r){let i=function(t){if(Oa(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(va))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,l=Number(t[5]||0)-r,a=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,l,a,u),e}(n)}const e=new Date(t);if(!Oa(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return oo(t)[no.LocaleId]}(e);if(ya[r]=ya[r]||{},ya[r][n])return ya[r][n];let i="";switch(n){case"shortDate":i=ua(e,la.Short);break;case"mediumDate":i=ua(e,la.Medium);break;case"longDate":i=ua(e,la.Long);break;case"fullDate":i=ua(e,la.Full);break;case"shortTime":i=ca(e,la.Short);break;case"mediumTime":i=ca(e,la.Medium);break;case"longTime":i=ca(e,la.Long);break;case"fullTime":i=ca(e,la.Full);break;case"short":const r=t(e,"shortTime"),o=t(e,"shortDate");i=Ca(ha(e,la.Short),[r,o]);break;case"medium":const s=t(e,"mediumTime"),l=t(e,"mediumDate");i=Ca(ha(e,la.Medium),[s,l]);break;case"long":const a=t(e,"longTime"),u=t(e,"longDate");i=Ca(ha(e,la.Long),[a,u]);break;case"full":const c=t(e,"fullTime"),h=t(e,"fullDate");i=Ca(ha(e,la.Full),[c,h])}return i&&(ya[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(!(o=ba.exec(e))){s.push(e);break}{const t=(s=s.concat(o.slice(1))).pop();if(!t)break;e=t}}let l=i.getTimezoneOffset();r&&(l=Ia(r,l),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Ia(e,r)-r))}(i,r));let a="";return s.forEach(t=>{const e=function(t){if(Ra[t])return Ra[t];let e;switch(t){case"G":case"GG":case"GGG":e=Fa(Sa.Eras,sa.Abbreviated);break;case"GGGG":e=Fa(Sa.Eras,sa.Wide);break;case"GGGGG":e=Fa(Sa.Eras,sa.Narrow);break;case"y":e=xa(wa.FullYear,1,0,!1,!0);break;case"yy":e=xa(wa.FullYear,2,0,!0,!0);break;case"yyy":e=xa(wa.FullYear,3,0,!1,!0);break;case"yyyy":e=xa(wa.FullYear,4,0,!1,!0);break;case"M":case"L":e=xa(wa.Month,1,1);break;case"MM":case"LL":e=xa(wa.Month,2,1);break;case"MMM":e=Fa(Sa.Months,sa.Abbreviated);break;case"MMMM":e=Fa(Sa.Months,sa.Wide);break;case"MMMMM":e=Fa(Sa.Months,sa.Narrow);break;case"LLL":e=Fa(Sa.Months,sa.Abbreviated,oa.Standalone);break;case"LLLL":e=Fa(Sa.Months,sa.Wide,oa.Standalone);break;case"LLLLL":e=Fa(Sa.Months,sa.Narrow,oa.Standalone);break;case"w":e=Pa(1);break;case"ww":e=Pa(2);break;case"W":e=Pa(1,!0);break;case"d":e=xa(wa.Date,1);break;case"dd":e=xa(wa.Date,2);break;case"E":case"EE":case"EEE":e=Fa(Sa.Days,sa.Abbreviated);break;case"EEEE":e=Fa(Sa.Days,sa.Wide);break;case"EEEEE":e=Fa(Sa.Days,sa.Narrow);break;case"EEEEEE":e=Fa(Sa.Days,sa.Short);break;case"a":case"aa":case"aaa":e=Fa(Sa.DayPeriods,sa.Abbreviated);break;case"aaaa":e=Fa(Sa.DayPeriods,sa.Wide);break;case"aaaaa":e=Fa(Sa.DayPeriods,sa.Narrow);break;case"b":case"bb":case"bbb":e=Fa(Sa.DayPeriods,sa.Abbreviated,oa.Standalone,!0);break;case"bbbb":e=Fa(Sa.DayPeriods,sa.Wide,oa.Standalone,!0);break;case"bbbbb":e=Fa(Sa.DayPeriods,sa.Narrow,oa.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fa(Sa.DayPeriods,sa.Abbreviated,oa.Format,!0);break;case"BBBB":e=Fa(Sa.DayPeriods,sa.Wide,oa.Format,!0);break;case"BBBBB":e=Fa(Sa.DayPeriods,sa.Narrow,oa.Format,!0);break;case"h":e=xa(wa.Hours,1,-12);break;case"hh":e=xa(wa.Hours,2,-12);break;case"H":e=xa(wa.Hours,1);break;case"HH":e=xa(wa.Hours,2);break;case"m":e=xa(wa.Minutes,1);break;case"mm":e=xa(wa.Minutes,2);break;case"s":e=xa(wa.Seconds,1);break;case"ss":e=xa(wa.Seconds,2);break;case"S":e=xa(wa.FractionalSeconds,1);break;case"SS":e=xa(wa.FractionalSeconds,2);break;case"SSS":e=xa(wa.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ka(_a.Short);break;case"ZZZZZ":e=ka(_a.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ka(_a.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ka(_a.Long);break;default:return null}return Ra[t]=e,e}(t);a+=e?e(i,n,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}(t,e,r||this.locale,n)}catch(i){throw nu(au,i.message)}}}class uu{constructor(t){this._locale=t}transform(t,e,n){if(function(t){return null==t||""===t||t!=t}(t))return null;n=n||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let l="",a=!1;if(isFinite(t)){let u=function(e){let n,r,i,o,s,l=Math.abs(t)+"",a=0;for((r=l.indexOf(Ma))>-1&&(l=l.replace(Ma,"")),(i=l.search(/e/i))>0?(r<0&&(r=i),r+=+l.slice(i+1),l=l.substring(0,i)):r<0&&(r=l.length),i=0;l.charAt(i)===La;i++);if(i===(s=l.length))n=[0],r=1;else{for(s--;l.charAt(s)===La;)s--;for(r-=i,n=[],o=0;i<=s;i++,o++)n[o]=Number(l.charAt(i))}return r>Na&&(n=n.splice(0,Na-1),a=r-1,r=1),{digits:n,exponent:a,integerLen:r}}();s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let c=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(Da);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(c=Ba(e)),null!=n&&(h=Ba(n)),null!=r?d=Ba(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,l=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(l>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let a=0!==o;const u=e+t.integerLen,c=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,a&&(0===r[n]&&n>=u?r.pop():a=!1),e>=10?1:0},0);c&&(r.unshift(c),t.integerLen++)}(u,h,d);let p=u.digits,f=u.integerLen;const g=u.exponent;let m=[];for(a=p.every(t=>!t);f<c;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const v=[];for(p.length>=e.lgSize&&v.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)v.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),l=v.join(da(n,r)),m.length&&(l+=da(n,i)+m.join("")),g&&(l+=da(n,aa.Exponential)+"+"+g)}else l=da(n,aa.Infinity);return t<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Ua),i=r[0],o=r[1],s=-1!==i.indexOf(Ma)?i.split(Ma):[i.substring(0,i.lastIndexOf(La)+1),i.substring(i.lastIndexOf(La)+1)],l=s[0],a=s[1]||"";n.posPre=l.substr(0,l.indexOf(Va));for(let c=0;c<a.length;c++){const t=a.charAt(c);t===La?n.minFrac=n.maxFrac=c+1:t===Va?n.maxFrac=c+1:n.posSuf+=t}const u=l.split(ja);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf(Va);n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return oo(t)[no.NumberFormats][e]}(e,ra.Decimal),da(e,aa.MinusSign)),e,aa.Group,aa.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(t),n,e)}catch(r){throw nu(uu,r.message)}}}class cu{}const hu=new xt("DocumentToken"),du="server";let pu=(()=>{class t{}return t.ngInjectableDef=pt({token:t,providedIn:"root",factory:()=>new fu(Lt(hu),window,Lt(Qt))}),t})();class fu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}var gu,mu,vu,yu=n("AQDP");gu=n.n(yu).a,"string"!=typeof mu&&(vu=mu,mu=gu[no.LocaleId]),mu=mu.toLowerCase().replace(/_/g,"-"),eo[mu]=gu,vu&&(eo[mu][no.ExtraData]=vu);class bu{}class _u{}function wu(...t){let e=t[t.length-1];return T(e)?(t.pop(),H(t,e)):J(t)}class Su extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value}next(t){super.next(this._value=t)}}function Cu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Cu.prototype=Object.create(Error.prototype);const Eu=Cu,xu={};class Fu{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ku(t,this.resultSelector))}}class ku extends U{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(xu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===xu?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Au=new w(t=>t.complete());function Tu(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Au}function Pu(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?q(n):Tu()).subscribe(e)})}function Ru(){return G(1)}function Iu(t,e){return function(n){return n.lift(new Ou(t,e))}}class Ou{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Du(t,this.predicate,this.thisArg))}}class Du extends g{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Nu(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Nu.prototype=Object.create(Error.prototype);const Mu=Nu;function Lu(t){return function(e){return 0===t?Tu():e.lift(new Uu(t))}}class Uu{constructor(t){if(this.total=t,this.total<0)throw new Mu}call(t,e){return e.subscribe(new ju(t,this.total))}}class ju extends g{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Vu(t=function(){return new Eu}){return e=>e.lift(new Bu(t))}class Bu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Hu(t,this.errorFactory))}}class Hu extends g{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function qu(t=null){return e=>e.lift(new zu(t))}class zu{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ku(t,this.defaultValue))}}class Ku extends g{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $u(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Iu((e,n)=>t(e,n,r)):W,Lu(1),n?qu(e):Vu(()=>new Eu))}function Wu(t){return function(e){const n=new Gu(t),r=e.lift(n);return n.caught=r}}class Gu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ju(t,this.selector,this.caught))}}class Ju extends U{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new P(this,void 0,void 0);this.add(r),L(this,n,void 0,void 0,r)}}}function Yu(t){return e=>0===t?Tu():e.lift(new Zu(t))}class Zu{constructor(t){if(this.total=t,this.total<0)throw new Mu}call(t,e){return e.subscribe(new Qu(t,this.total))}}class Qu extends g{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Xu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Iu((e,n)=>t(e,n,r)):W,Yu(1),n?qu(e):Vu(()=>new Eu))}class tc{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new ec(t,this.predicate,this.thisArg,this.source))}}class ec extends g{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function nc(t,e){return"function"==typeof e?n=>n.pipe(nc((n,r)=>q(t(n,r)).pipe(j((t,i)=>e(n,t,r,i))))):e=>e.lift(new rc(t))}class rc{constructor(t){this.project=t}call(t,e){return e.subscribe(new ic(t,this.project))}}class ic extends U{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new P(this,void 0,void 0);this.destination.add(i),this.innerSubscription=L(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function oc(...t){return Ru()(wu(...t))}function sc(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new lc(t,e,n))}}class lc{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ac(t,this.accumulator,this.seed,this.hasSeed))}}class ac extends g{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function uc(t,e){return z(t,e,1)}function cc(t,e,n){return function(r){return r.lift(new hc(t,e,n))}}class hc{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new dc(t,this.nextOrObserver,this.error,this.complete))}}class dc extends g{constructor(t,e,n,i){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class pc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new fc(t,this.callback))}}class fc extends g{constructor(t,e){super(t),this.add(new d(e))}}let gc=null;function mc(){return gc}class vc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class yc extends vc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const bc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},_c=3,wc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cc=(()=>{if(Et.Node)return Et.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Ec extends yc{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Ec,gc||(gc=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return bc}contains(t,e){return Cc.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===_c&&Sc.hasOwnProperty(e)&&(e=Sc[e]))}return wc[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Fc||(Fc=document.querySelector("base"))?Fc.getAttribute("href"):null;return null==e?null:(n=e,xc||(xc=document.createElement("a")),xc.setAttribute("href",n),"/"===xc.pathname.charAt(0)?xc.pathname:"/"+xc.pathname);var n}resetBaseElement(){Fc=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Ka(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let xc,Fc=null;function kc(){return!!window.history.pushState}let Ac=(()=>{class t extends Jl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=mc().getLocation(),this._history=mc().getHistory()}getBaseHrefFromDOM(){return mc().getBaseHref(this._doc)}onPopState(t){mc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){mc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){kc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){kc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.ctorParameters=()=>[{type:void 0,decorators:[{type:lt,args:[hu]}]}],t})();const Tc=new xt("TRANSITION_ID"),Pc=[{provide:ho,useFactory:function(t,e,n){return()=>{n.get(po).donePromise.then(()=>{const n=mc();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Tc,hu,He],multi:!0}];class Rc{static init(){var t;t=new Rc,Jo=t}addToWindow(t){Et.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Et.getAllAngularTestabilities=()=>t.getAllTestabilities(),Et.getAllAngularRootElements=()=>t.getAllRootElements(),Et.frameworkStabilizers||(Et.frameworkStabilizers=[]),Et.frameworkStabilizers.push(t=>{const e=Et.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?mc().isShadowRoot(e)?this.findTestabilityInTree(t,mc().getHost(e),!0):this.findTestabilityInTree(t,mc().parentElement(e),!0):null}}function Ic(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Et.ng=Et.ng||{})[t]=e)}const Oc=(()=>({ApplicationRef:is,NgZone:Uo}))();function Dc(t){return vs(t)}const Nc=new xt("EventManagerPlugins");class Mc{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class Lc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=mc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class Uc{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class jc extends Uc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>mc().remove(t))}}const Vc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Bc=/%COMP%/g,Hc="_nghost-%COMP%",qc="_ngcontent-%COMP%";function zc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zc(t,i,n):(i=i.replace(Bc,t),n.push(i))}return n}function Kc(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class $c{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Wc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case zt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Yc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case zt.Native:case zt.ShadowDom:return new Zc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=zc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Wc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Vc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Vc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&qn.DashCase?t.style.setProperty(e,n,r&qn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&qn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Jc(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Jc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kc(n)):this.eventManager.addEventListener(t,e,Kc(n))}}const Gc=(()=>"@".charCodeAt(0))();function Jc(t,e){if(t.charCodeAt(0)===Gc)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Yc extends Wc{constructor(t,e,n,r){super(t),this.component=n;const i=zc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=qc.replace(Bc,r+"-"+n.id),this.hostAttr=Hc.replace(Bc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Zc extends Wc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===zt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=zc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Qc=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),Xc=Qc("addEventListener"),th=Qc("removeEventListener"),eh={},nh="FALSE",rh="ANGULAR",ih="addEventListener",oh="removeEventListener",sh="__zone_symbol__propagationStopped",lh="__zone_symbol__stopImmediatePropagation",ah=(()=>{const t="undefined"!=typeof Zone&&Zone[Qc("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),uh=function(t){return!!ah&&ah.hasOwnProperty(t)},ch=function(t){const e=eh[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[sh];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class hh extends Lc{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return t===du}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[lh])return;const t=Event.prototype[lh]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[sh]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[Xc]||Uo.isInAngularZone()&&!uh(e))t[ih](e,r,!1);else{let n=eh[e];n||(n=eh[e]=Qc(rh+e+nh));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=uh(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[Xc](e,ch,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[th];if(!r)return t[oh].apply(t,[e,n,!1]);let i=eh[e],o=i&&t[i];if(!o)return t[oh].apply(t,[e,n,!1]);let s=!1;for(let l=0;l<o.length;l++)if(o[l].handler===n){s=!0,o.splice(l,1);break}s?0===o.length&&r.apply(t,[e,ch,!1]):t[oh].apply(t,[e,n,!1])}}const dh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ph=new xt("HammerGestureConfig"),fh=new xt("HammerLoader");class gh{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class mh extends Lc{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!dh.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded(function(){n(t)})};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const vh=["alt","control","meta","shift"],yh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class bh extends Lc{constructor(t){super(t)}supports(t){return null!=bh.parseEventName(t)}addEventListener(t,e,n){const r=bh.parseEventName(e),i=bh.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mc().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=bh._normalizeKey(e.pop());let i="";if(vh.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=mc().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),vh.forEach(r=>{r!=n&&(0,yh[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{bh.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class _h{}class wh extends _h{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Ce.NONE:return e;case Ce.HTML:return e instanceof Ch?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{we=we||new ne(t);let r=e?String(e):"";n=we.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=we.getInertBodyElement(r)}while(r!==o);const s=new ve,l=s.sanitizeChildren(Se(n)||n);return ee()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),l}finally{if(n){const t=Se(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Ce.STYLE:return e instanceof Eh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Fe);return e&&oe(e[1])===e[1]||t.match(xe)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ee()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Ce.SCRIPT:if(e instanceof xh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ce.URL:return e instanceof kh||e instanceof Fh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),oe(String(e)));case Ce.RESOURCE_URL:if(e instanceof kh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof Sh)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Ch(t)}bypassSecurityTrustStyle(t){return new Eh(t)}bypassSecurityTrustScript(t){return new xh(t)}bypassSecurityTrustUrl(t){return new Fh(t)}bypassSecurityTrustResourceUrl(t){return new kh(t)}}class Sh{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Ch extends Sh{getTypeName(){return"HTML"}}class Eh extends Sh{getTypeName(){return"Style"}}class xh extends Sh{getTypeName(){return"Script"}}class Fh extends Sh{getTypeName(){return"URL"}}class kh extends Sh{getTypeName(){return"ResourceURL"}}const Ah=ts(bs,"browser",[{provide:yo,useValue:"browser"},{provide:vo,useValue:function(){Ec.makeCurrent(),Rc.init()},multi:!0},{provide:Jl,useClass:Ac,deps:[hu]},{provide:hu,useFactory:function(){return document},deps:[]}]);function Th(){return new Qt}class Ph{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Ph,providers:[{provide:fo,useValue:t.appId},{provide:Tc,useExisting:fo},Pc]}}}"undefined"!=typeof window&&window;class Rh{constructor(t,e){this.id=t,this.url=e}}class Ih extends Rh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oh extends Rh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dh extends Rh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nh extends Rh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Mh extends Rh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lh extends Rh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uh extends Rh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jh extends Rh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vh extends Rh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $h{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gh{}const Jh="primary";class Yh{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zh(t){return new Yh(t)}const Qh="ngNavigationCancelingError";function Xh(t){const e=Error("NavigationCancelingError: "+t);return e[Qh]=!0,e}function td(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class ed{constructor(t,e){this.routes=t,this.module=e}}function nd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rd(r,id(e,r))}}function rd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Jh)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&nd(t.children,e)}function id(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function od(t){const e=t.children&&t.children.map(od),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Jh&&(n.component=Gh),n}function sd(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function ld(t){return Array.prototype.concat.apply([],t)}function ad(t){return t.length>0?t[t.length-1]:null}function ud(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function cd(t){return An(t)?t:kn(t)?q(Promise.resolve(t)):wu(t)}function hd(t,e,n){return n?function(t,e){return sd(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!gd(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!gd(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!gd(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!gd(n.segments,t)&&!!n.children[Jh]&&e(n.children[Jh],r,o)}}(e,n,n.segments)}(t.root,e.root)}class dd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zh(this.queryParams)),this._queryParamMap}toString(){return bd.serialize(this)}}class pd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ud(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _d(this)}}class fd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zh(this.parameters)),this._parameterMap}toString(){return Fd(this)}}function gd(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function md(t,e){let n=[];return ud(t.children,(t,r)=>{r===Jh&&(n=n.concat(e(t,r)))}),ud(t.children,(t,r)=>{r!==Jh&&(n=n.concat(e(t,r)))}),n}class vd{}class yd{parse(t){const e=new Rd(t);return new dd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return _d(e);if(n){const n=e.children[Jh]?t(e.children[Jh],!1):"",r=[];return ud(e.children,(e,n)=>{n!==Jh&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=md(e,(n,r)=>r===Jh?[t(e.children[Jh],!1)]:[`${r}:${t(n,!1)}`]);return`${_d(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Sd(e)}=${Sd(t)}`).join("&"):`${Sd(e)}=${Sd(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const bd=new yd;function _d(t){return t.segments.map(t=>Fd(t)).join("/")}function wd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(t){return wd(t).replace(/%3B/gi,";")}function Cd(t){return wd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ed(t){return decodeURIComponent(t)}function xd(t){return Ed(t.replace(/\+/g,"%20"))}function Fd(t){return`${Cd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Cd(t)}=${Cd(e[t])}`).join("")}`;var e}const kd=/^[^\/()?;=#]+/;function Ad(t){const e=t.match(kd);return e?e[0]:""}const Td=/^[^=?&#]+/,Pd=/^[^?&#]+/;class Rd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pd([],{}):new pd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Jh]=new pd(t,e)),n}parseSegment(){const t=Ad(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new fd(Ed(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ad(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ad(this.remaining);t&&this.capture(n=t)}t[Ed(e)]=Ed(n)}parseQueryParam(t){const e=function(t){const e=t.match(Td);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Pd);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=xd(e),i=xd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ad(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Jh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Jh]:new pd([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Id{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Od(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Od(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Dd(t,this._root).map(t=>t.value)}}function Od(t,e){if(t===e.value)return e;for(const n of e.children){const e=Od(t,n);if(e)return e}return null}function Dd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Dd(t,n);if(r.length)return r.unshift(e),r}return[]}class Nd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Md(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ld extends Id{constructor(t,e){super(t),this.snapshot=e,qd(this,t)}toString(){return this.snapshot.toString()}}function Ud(t,e){const n=function(t,e){const n=new Bd([],{},{},"",{},Jh,e,null,t.root,-1,{});return new Hd("",new Nd(n,[]))}(t,e),r=new Su([new fd("",{})]),i=new Su({}),o=new Su({}),s=new Su({}),l=new Su(""),a=new jd(r,i,s,l,o,Jh,e,n.root);return a.snapshot=n.root,new Ld(new Nd(a,[]),n)}class jd{constructor(t,e,n,r,i,o,s,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(t=>Zh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(t=>Zh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vd(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Bd{constructor(t,e,n,r,i,o,s,l,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hd extends Id{constructor(t,e){super(e),this.url=t,qd(this,e)}toString(){return zd(this._root)}}function qd(t,e){e.value._routerState=t,e.children.forEach(e=>qd(t,e))}function zd(t){const e=t.children.length>0?` { ${t.children.map(zd).join(", ")} } `:"";return`${t.value}${e}`}function Kd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),sd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),sd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function $d(t,e){var n,r;return sd(t.params,e.params)&&gd(n=t.url,r=e.url)&&n.every((t,e)=>sd(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||$d(t.parent,e.parent))}function Wd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gd(t,e,n,r,i){let o={};return r&&ud(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new dd(n.root===t?e:function t(e,n,r){const i={};return ud(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new pd(e.segments,i)}(n.root,t,e),o,i)}class Jd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Wd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==ad(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Jh]:`${t}`}function Qd(t,e,n){if(t||(t=new pd([],{})),0===t.segments.length&&t.hasChildren())return Xd(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Zd(n[r]),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!rp(s,l,e))return o;r+=2}else{if(!rp(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new pd(t.segments.slice(0,r.pathIndex),{});return e.children[Jh]=new pd(t.segments.slice(r.pathIndex),t.children),Xd(e,0,i)}return r.match&&0===i.length?new pd(t.segments,{}):r.match&&!t.hasChildren()?tp(t,e,n):r.match?Xd(t,0,i):tp(t,e,n)}function Xd(t,e,n){if(0===n.length)return new pd(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[Jh]:t}:void 0===t[0].outlets?{[Jh]:t}:t[0].outlets}(n),i={};return ud(r,(n,r)=>{null!==n&&(i[r]=Qd(t.children[r],e,n))}),ud(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new pd(t.segments,i)}}function tp(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=ep(n[i].outlets);return new pd(r,t)}if(0===i&&Wd(n[0])){r.push(new fd(t.segments[e].path,n[0])),i++;continue}const o=Zd(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Wd(s)?(r.push(new fd(o,np(s))),i+=2):(r.push(new fd(o,{})),i++)}return new pd(r,{})}function ep(t){const e={};return ud(t,(t,n)=>{null!==t&&(e[n]=tp(new pd([],{}),0,t))}),e}function np(t){const e={};return ud(t,(t,n)=>e[n]=`${t}`),e}function rp(t,e,n){return t==n.path&&sd(e,n.parameters)}const ip=(t,e,n)=>j(r=>(new op(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class op{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Md(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ud(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Md(t),i=t.value.component?n.children:e;ud(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Md(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new $h(t.value.snapshot))}),t.children.length&&this.forwardEvent(new zh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Kd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),sp(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function sp(t){Kd(t.value),t.children.forEach(sp)}function lp(t){return"function"==typeof t}function ap(t){return t instanceof dd}class up{constructor(t){this.segmentGroup=t||null}}class cp{constructor(t){this.urlTree=t}}function hp(t){return new w(e=>e.error(new up(t)))}function dp(t){return new w(e=>e.error(new cp(t)))}function pp(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class fp{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Vt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Jh).pipe(j(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wu(t=>{if(t instanceof cp)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof up)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Jh).pipe(j(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Wu(t=>{if(t instanceof up)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new pd([],{[Jh]:t}):t;return new dd(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(j(t=>new pd([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return wu({});const n=[],r=[],i={};return ud(t,(t,o)=>{const s=e(o,t).pipe(j(t=>i[o]=t));o===Jh?n.push(s):r.push(s)}),wu.apply(null,n.concat(r)).pipe(Ru(),$u(),j(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return wu(...n).pipe(j(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Wu(t=>{if(t instanceof up)return wu(null);throw t}))),Ru(),Xu(t=>!!t),Wu((t,n)=>{if(t instanceof Eu||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return wu(new pd([],{}));throw new up(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return yp(r)!==o?hp(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):hp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dp(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new pd(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:l,lastChild:a,positionalParamSegments:u}=gp(e,r,i);if(!s)return hp(e);const c=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?dp(c):this.lineralizeSegments(r,c).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(j(t=>(n._loadedConfig=t,new pd(r,{})))):wu(new pd(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=gp(e,n,r);if(!i)return hp(e);const l=r.slice(s);return this.getChildConfig(t,n,r).pipe(z(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>vp(t,e,n)&&yp(n)!==Jh)}(t,n)?{segmentGroup:mp(new pd(e,function(t,e){const n={};n[Jh]=e;for(const r of t)""===r.path&&yp(r)!==Jh&&(n[yp(r)]=new pd([],{}));return n}(r,new pd(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>vp(t,e,n))}(t,n)?{segmentGroup:mp(new pd(t.segments,function(t,e,n,r){const i={};for(const o of n)vp(t,e,o)&&!r[yp(o)]&&(i[yp(o)]=new pd([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,l,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(j(t=>new pd(o,t))):0===r.length&&0===s.length?wu(new pd(o,{})):this.expandSegment(n,i,r,s,Jh,!0).pipe(j(t=>new pd(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?wu(new ed(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?wu(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?q(r).pipe(j(r=>{const i=t.get(r);let o;if(function(t){return t&&lp(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!lp(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return cd(o)})).pipe(Ru(),(i=t=>!0===t,t=>t.lift(new tc(i,void 0,t)))):wu(!0);var i}(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(j(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Xh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):wu(new ed([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wu(n);if(r.numberOfChildren>1||!r.children[Jh])return pp(t.redirectTo);r=r.children[Jh]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new dd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ud(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ud(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new pd(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function gp(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||td)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mp(t){if(1===t.numberOfChildren&&t.children[Jh]){const e=t.children[Jh];return new pd(t.segments.concat(e.segments),e.children)}return t}function vp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function yp(t){return t.outlet||Jh}class bp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _p{constructor(t,e){this.component=t,this.route=e}}function wp(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Md(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,l=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!gd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gd(t.url,e.url)||!sd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$d(t,e)||!sd(t.queryParams,e.queryParams);case"paramsChange":default:return!$d(t,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new bp(i)):(s.data=l.data,s._resolvedData=l._resolvedData),t(e,n,s.component?a?a.children:null:r,i,o),u&&o.canDeactivateChecks.push(new _p(a&&a.outlet&&a.outlet.component||null,l))}else l&&Cp(n,a,o),o.canActivateChecks.push(new bp(i)),t(e,null,s.component?a?a.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),ud(s,(t,e)=>Cp(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Sp(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cp(t,e,n){const r=Md(t),i=t.value;ud(r,(t,r)=>{Cp(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new _p(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Ep=Symbol("INITIAL_VALUE");function xp(){return nc(t=>(function(...t){let e=null,n=null;return T(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),J(t,n).lift(new Fu(e))})(...t.map(t=>t.pipe(Yu(1),function(...t){const e=t[t.length-1];return T(e)?(t.pop(),n=>oc(t,n,e)):e=>oc(t,e)}(Ep)))).pipe(sc((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ep)return t;if(r===Ep&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ap(r))return r}return t},t)},Ep),Iu(t=>t!==Ep),j(t=>ap(t)?t:!0===t),Yu(1)))}function Fp(t,e){return null!==t&&e&&e(new Kh(t)),wu(!0)}function kp(t,e){return null!==t&&e&&e(new qh(t)),wu(!0)}function Ap(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?wu(r.map(r=>Pu(()=>{const i=Sp(r,e,n);let o;if(function(t){return t&&lp(t.canActivate)}(i))o=cd(i.canActivate(e,t));else{if(!lp(i))throw new Error("Invalid CanActivate guard");o=cd(i(e,t))}return o.pipe(Xu())}))).pipe(xp()):wu(!0)}function Tp(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>Pu(()=>wu(e.guards.map(i=>{const o=Sp(i,e.node,n);let s;if(function(t){return t&&lp(t.canActivateChild)}(o))s=cd(o.canActivateChild(r,t));else{if(!lp(o))throw new Error("Invalid CanActivateChild guard");s=cd(o(r,t))}return s.pipe(Xu())})).pipe(xp())));return wu(i).pipe(xp())}class Pp{}class Rp{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=Dp(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,Jh),r=new Bd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Nd(r,n),o=new Hd(this.url,i);return this.inheritParamsAndData(o._root),wu(o)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Vd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=md(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===Jh?-1:e.value.outlet===Jh?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Pp))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Pp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Pp;if((t.outlet||Jh)!==r)throw new Pp;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?ad(n).parameters:{};i=new Bd(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lp(t),r,t.component,t,Ip(e),Op(e)+n.length,Up(t))}else{const l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Pp;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||td)(n,t,e);if(!r)throw new Pp;const i={};ud(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,s=n.slice(l.lastChild),i=new Bd(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Lp(t),r,t.component,t,Ip(e),Op(e)+o.length,Up(t))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=Dp(e,o,s,l,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(l,a);return[new Nd(i,t)]}if(0===l.length&&0===u.length)return[new Nd(i,[])];const c=this.processSegment(l,a,u,Jh);return[new Nd(i,c)]}}function Ip(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Op(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dp(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>Np(t,e,n)&&Mp(n)!==Jh)}(t,n)){const i=new pd(e,function(t,e,n,r){const i={};i[Jh]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Mp(o)!==Jh){const n=new pd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Mp(o)]=n}return i}(t,e,r,new pd(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>Np(t,e,n))}(t,n)){const o=new pd(t.segments,function(t,e,n,r,i,o){const s={};for(const l of r)if(Np(t,n,l)&&!i[Mp(l)]){const n=new pd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Mp(l)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new pd(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Np(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Mp(t){return t.outlet||Jh}function Lp(t){return t.data||{}}function Up(t){return t.resolve||{}}function jp(t,e,n,r){const i=Sp(t,e,r);return cd(i.resolve?i.resolve(e,n):i(e,n))}function Vp(t){return function(e){return e.pipe(nc(e=>{const n=t(e);return n?q(n).pipe(j(()=>e)):q([e])}))}}class Bp{}class Hp{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const qp=new xt("ROUTES");class zp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(j(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ed(ld(r.injector.get(qp)).map(od),r)}))}loadModuleFactory(t){return"string"==typeof t?q(this.loader.load(t)):cd(t()).pipe(z(t=>t instanceof Bt?wu(t):q(this.compiler.compileModuleAsync(t))))}}class Kp{}class $p{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Wp(t){throw t}function Gp(t,e,n){return e.parse("/")}function Jp(t,e){return wu(null)}class Yp{constructor(t,e,n,r,i,o,s,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=Wp,this.malformedUriErrorHandler=Gp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jp,afterPreactivation:Jp},this.urlHandlingStrategy=new $p,this.routeReuseStrategy=new Hp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Vt),this.console=i.get(_o);const a=i.get(Uo);this.isNgZoneEnabled=a instanceof Uo,this.resetConfig(l),this.currentUrlTree=new dd(new pd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new zp(o,s,t=>this.triggerEvent(new Bh(t)),t=>this.triggerEvent(new Hh(t))),this.routerState=Ud(this.currentUrlTree,this.rootComponentType),this.transitions=new Su({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Iu(t=>0!==t.id),j(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),nc(t=>{let n=!1,r=!1;return wu(t).pipe(cc(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),nc(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return wu(t).pipe(nc(t=>{const n=this.transitions.getValue();return e.next(new Ih(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Au:[t]}),nc(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(nc(i=>(function(t,e,n,r,o){return new fp(t,e,n,i.extractedUrl,o).apply()})(t,e,n,0,r).pipe(j(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),cc(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(z(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new Rp(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(j(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),cc(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),cc(t=>{const n=new Mh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,l=new Ih(n,this.serializeUrl(r),i,o);e.next(l);const a=Ud(r,this.rootComponentType).snapshot;return wu(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Au}),Vp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),cc(t=>{const e=new Lh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),j(t=>Object.assign({},t,{guards:wp(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?wu(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return q(s).pipe(z(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?wu(o.map(o=>{const s=Sp(o,e,i);let l;if(function(t){return t&&lp(t.canDeactivate)}(s))l=cd(s.canDeactivate(t,e,n,r));else{if(!lp(s))throw new Error("Invalid CanDeactivate guard");l=cd(s(t,e,n,r))}return l.pipe(Xu())})).pipe(xp()):wu(!0)})(t.component,t.route,n,e,r)),Xu(t=>!0!==t,!0))}(0,r,i,t).pipe(z(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return q(o).pipe(uc(e=>q([kp(e.route.parent,r),Fp(e.route,r),Tp(t,e.path,n),Ap(t,e.route,n)]).pipe(Ru(),Xu(t=>!0!==t,!0))),Xu(t=>!0!==t,!0))}(r,0,t,e):wu(n)),j(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),cc(t=>{if(ap(t.guardsResult)){const e=Xh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),cc(t=>{const e=new Uh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Iu(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Dh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Vp(t=>{if(t.guards.canActivateChecks.length)return wu(t).pipe(cc(t=>{const e=new jh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(z(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?q(i).pipe(uc(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return wu({});if(1===i.length){const o=i[0];return jp(t[o],e,n,r).pipe(j(t=>({[o]:t})))}const o={};return q(i).pipe(z(i=>jp(t[i],e,n,r).pipe(j(t=>(o[i]=t,t))))).pipe($u(),j(()=>o))}(t._resolve,t,r,i).pipe(j(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,Vd(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(n){return b(sc(t,e),Lu(1),qu(e))(n)}:function(e){return b(sc((e,n,r)=>t(e,n,r+1)),Lu(1))(e)}}((t,e)=>t),j(t=>n)):wu(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),cc(t=>{const e=new Vh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Vp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),j(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Nd(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new jd(new Su((i=n.value).url),new Su(i.params),new Su(i.queryParams),new Su(i.fragment),new Su(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Nd(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Ld(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),cc(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),ip(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),cc({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new pc(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Dh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Wu(n=>{if(r=!0,function(t){return n&&n[Qh]}()){const r=ap(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Dh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Nh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Au}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nd(t),this.config=t.map(od),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:l}=e;ee()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=l?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Gd(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Jd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ud(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Jd(n,e,r)}(n);if(o.toRoot())return Gd(e.root,new pd([],{}),e,r,i);const s=function(t,n,r){if(t.isAbsolute)return new Yd(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Yd(r.snapshot._urlSegment,!0,0);const i=Wd(t.commands[0])?0:1;return function(e,n,o){let s=r.snapshot._urlSegment,l=r.snapshot._lastPathIndex+i,a=t.numberOfDoubleDots;for(;a>l;){if(a-=l,!(s=s.parent))throw new Error("Invalid number of '../'");l=s.segments.length}return new Yd(s,!1,l-a)}()}(o,0,t),l=s.processChildren?Xd(s.segmentGroup,s.index,o.commands):Qd(s.segmentGroup,s.index,o.commands);return Gd(s.segmentGroup,l,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){ee()&&this.isNgZoneEnabled&&!Uo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ap(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ap(t))return hd(this.currentUrlTree,t,e);const n=this.parseUrl(t);return hd(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Oh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const l=new Promise((t,e)=>{o=t,s=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Zp{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Oh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ee()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Qp(this.skipLocationChange),replaceUrl:Qp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Qp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Qp(this.preserveFragment)})}}function Qp(t){return""===t||!!t}class Xp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tf,this.attachRef=null}}class tf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Xp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ef{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ao,this.deactivateEvents=new ao,this.name=r||Jh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new nf(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class nf{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===jd?this.route:t===tf?this.childContexts:this.parent.get(t,e)}}class rf{}class of{preload(t,e){return e().pipe(Wu(()=>wu(null)))}}class sf{preload(t,e){return wu(null)}}class lf{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new zp(e,n,e=>t.triggerEvent(new Bh(e)),e=>t.triggerEvent(new Hh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Iu(t=>t instanceof Oh),uc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Vt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return q(n).pipe(G(),j(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class af{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ih?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Wh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const uf=new xt("ROUTER_CONFIGURATION"),cf=new xt("ROUTER_FORROOT_GUARD"),hf=[Xl,{provide:vd,useClass:yd},{provide:Yp,useFactory:yf,deps:[is,vd,tf,Xl,He,ss,Ao,qp,uf,[Kp,new at],[Bp,new at]]},tf,{provide:jd,useFactory:bf,deps:[Yp]},{provide:ss,useClass:hs},lf,sf,of,{provide:uf,useValue:{enableTracing:!1}}];function df(){return new Xo("Router",Yp)}class pf{constructor(t,e){}static forRoot(t,e){return{ngModule:pf,providers:[hf,vf(t),{provide:cf,useFactory:mf,deps:[[Yp,new at,new ct]]},{provide:uf,useValue:e||{}},{provide:Zl,useFactory:gf,deps:[Jl,[new lt(Ql),new at],uf]},{provide:af,useFactory:ff,deps:[Yp,pu,uf]},{provide:rf,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:sf},{provide:Xo,multi:!0,useFactory:df},[_f,{provide:ho,multi:!0,useFactory:wf,deps:[_f]},{provide:Cf,useFactory:Sf,deps:[_f]},{provide:bo,multi:!0,useExisting:Cf}]]}}static forChild(t){return{ngModule:pf,providers:[vf(t)]}}}function ff(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new af(t,e,n)}function gf(t,e,n={}){return n.useHash?new ea(t,e):new na(t,e)}function mf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function vf(t){return[{provide:bn,multi:!0,useValue:t},{provide:qp,multi:!0,useValue:t}]}function yf(t,e,n,r,i,o,s,l,a={},u,c){const h=new Yp(null,e,n,r,i,o,s,ld(l));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=mc();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function bf(t){return t.routerState.root}class _f{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Yl,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yp),r=this.injector.get(uf);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?wu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(uf),n=this.injector.get(lf),r=this.injector.get(af),i=this.injector.get(Yp),o=this.injector.get(is);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function wf(t){return t.appInitializer.bind(t)}function Sf(t){return t.bootstrapListener.bind(t)}const Cf=new xt("Router Initializer");var Ef=Pr({encapsulation:2,styles:[],data:{}});function xf(t){return Hs(0,[(t()(),xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,ef,[tf,hr,Nn,[8,null],Te],null,null)],function(t,e){t(e,1,0)},null)}function Ff(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"ng-component",[],null,null,null,xf,Ef)),Li(1,49152,null,0,Gh,[],null,null)],null,null)}var kf,Af=pi("ng-component",Gh,Ff,{},{},[]),Tf=function(){return function(){var t=this;this.direction="down",this.isOpenChange=new ao,this.isDisabledChange=new ao,this.toggleClick=new ao,this.dropdownMenu=new Promise(function(e){t.resolveDropdownMenu=e})}}(),Pf="undefined"!=typeof window&&window||{};function Rf(){return void 0===Pf||(void 0===Pf.__theme?kf?"bs3"===kf:"bs3"===(kf=function(){if("undefined"==typeof document)return null;var t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");var e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==Pf.__theme)}var If=function(){function t(t,e,n,r){var i=this;this._state=t,this.cd=e,this._renderer=n,this.isOpen=!1,this._subscription=t.isOpenChange.subscribe(function(t){i.isOpen=t;var e=r.nativeElement.querySelector(".dropdown-menu");e&&!Rf()&&(i._renderer.addClass(e,"show"),e.classList.contains("dropdown-menu-right")&&(i._renderer.setStyle(e,"left","auto"),i._renderer.setStyle(e,"right","0")),"up"===i.direction&&(i._renderer.setStyle(e,"top","auto"),i._renderer.setStyle(e,"transform","translateY(-101%)"))),i.cd.markForCheck(),i.cd.detectChanges()})}return Object.defineProperty(t.prototype,"direction",{get:function(){return this._state.direction},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._subscription.unsubscribe()},t}(),Of=Pr({encapsulation:2,styles:[],data:{}});function Df(t){return Hs(2,[(t()(),xs(0,0,null,null,1,"div",[],[[2,"dropup",null],[2,"dropdown",null],[2,"show",null],[2,"open",null]],null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}}],null,function(t,e){var n=e.component;t(e,0,0,"up"===n.direction,"down"===n.direction,n.isOpen,n.isOpen)})}function Nf(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"bs-dropdown-container",[["style","display:block;position: absolute;"]],null,null,null,Df,Of)),Li(1,180224,null,0,If,[Tf,Te,zn,jn],null,null)],null,null)}var Mf=pi("bs-dropdown-container",If,Nf,{},{},["*"]);function Lf(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function l(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,l)}a((r=r.apply(t,e||[])).next())})}var Uf=n("3Rfw");const jf="TestCore5",Vf={ReturnUrl:"returnUrl",Message:"message"},Bf={LogoutCallback:"logout-callback",Logout:"logout",LoggedOut:"logged-out"},Hf={Login:"login",LoginCallback:"login-callback",LoginFailed:"login-failed",Profile:"profile",Register:"register"},qf=function(){var t={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:`/_configuration/${jf}`,Login:`authentication/${Hf.Login}`,LoginFailed:`authentication/${Hf.LoginFailed}`,LoginCallback:`authentication/${Hf.LoginCallback}`,Register:`authentication/${Hf.Register}`,Profile:`authentication/${Hf.Profile}`,LogOut:`authentication/${Bf.Logout}`,LoggedOut:`authentication/${Bf.LoggedOut}`,LogOutCallback:`authentication/${Bf.LogoutCallback}`,LoginPathComponents:[],LoginFailedPathComponents:[],LoginCallbackPathComponents:[],RegisterPathComponents:[],ProfilePathComponents:[],LogOutPathComponents:[],LoggedOutPathComponents:[],LogOutCallbackPathComponents:[],IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"};return Object.assign({},t,{LoginPathComponents:t.Login.split("/"),LoginFailedPathComponents:t.LoginFailed.split("/"),RegisterPathComponents:t.Register.split("/"),ProfilePathComponents:t.Profile.split("/"),LogOutPathComponents:t.LogOut.split("/"),LoggedOutPathComponents:t.LoggedOut.split("/"),LogOutCallbackPathComponents:t.LogOutCallback.split("/")})}();var zf=function(t){return t[t.Success=0]="Success",t[t.Redirect=1]="Redirect",t[t.Fail=2]="Fail",t}({});let Kf=(()=>{class t{constructor(){this.popUpDisabled=!0,this.userSubject=new Su(null)}isAuthenticated(){return this.getUser().pipe(j(t=>!!t))}getUser(){return oc(this.userSubject.pipe(Yu(1),Iu(t=>!!t)),this.getUserFromStorage().pipe(Iu(t=>!!t),cc(t=>this.userSubject.next(t))),this.userSubject.asObservable())}getAccessToken(){return q(this.ensureUserManagerInitialized()).pipe(z(()=>q(this.userManager.getUser())),j(t=>t&&t.access_token))}signIn(t){return Lf(this,void 0,void 0,function*(){yield this.ensureUserManagerInitialized();let e=null;try{return e=yield this.userManager.signinSilent(this.createArguments()),this.userSubject.next(e.profile),this.success(t)}catch(n){console.log("Silent authentication error: ",n);try{if(this.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return e=yield this.userManager.signinPopup(this.createArguments()),this.userSubject.next(e.profile),this.success(t)}catch(r){if("Popup window closed"===r.message)return this.error("The user closed the window.");this.popUpDisabled||console.log("Popup authentication error: ",r);try{return yield this.userManager.signinRedirect(this.createArguments(t)),this.redirect()}catch(i){return console.log("Redirect authentication error: ",i),this.error(i)}}}})}completeSignIn(t){return Lf(this,void 0,void 0,function*(){try{yield this.ensureUserManagerInitialized();const n=yield this.userManager.signinCallback(t);return this.userSubject.next(n&&n.profile),this.success(n&&n.state)}catch(e){return console.log("There was an error signing in: ",e),this.error("There was an error signing in.")}})}signOut(t){return Lf(this,void 0,void 0,function*(){try{if(this.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return yield this.ensureUserManagerInitialized(),yield this.userManager.signoutPopup(this.createArguments()),this.userSubject.next(null),this.success(t)}catch(e){console.log("Popup signout error: ",e);try{return yield this.userManager.signoutRedirect(this.createArguments(t)),this.redirect()}catch(n){return console.log("Redirect signout error: ",e),this.error(n)}}})}completeSignOut(t){return Lf(this,void 0,void 0,function*(){yield this.ensureUserManagerInitialized();try{const n=yield this.userManager.signoutCallback(t);return this.userSubject.next(null),this.success(n&&n.data)}catch(e){return console.log(`There was an error trying to log out '${e}'.`),this.error(e)}})}createArguments(t){return{useReplaceToNavigate:!0,data:t}}error(t){return{status:zf.Fail,message:t}}success(t){return{status:zf.Success,state:t}}redirect(){return{status:zf.Redirect}}ensureUserManagerInitialized(){return Lf(this,void 0,void 0,function*(){if(void 0!==this.userManager)return;const t=yield fetch(qf.ApiAuthorizationClientConfigurationUrl);if(!t.ok)throw new Error(`Could not load settings for '${jf}'`);const e=yield t.json();e.automaticSilentRenew=!0,e.includeIdTokenInSilentRenew=!0,this.userManager=new Uf.UserManager(e),this.userManager.events.addUserSignedOut(()=>Lf(this,void 0,void 0,function*(){yield this.userManager.removeUser(),this.userSubject.next(null)}))})}getUserFromStorage(){return q(this.ensureUserManagerInitialized()).pipe(z(()=>this.userManager.getUser()),j(t=>t&&t.profile))}}return t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class $f{constructor(t,e,n){this.authorizeService=t,this.activatedRoute=e,this.router=n,this.message=new Su(null)}ngOnInit(){return Lf(this,void 0,void 0,function*(){const t=this.activatedRoute.snapshot.url[1];switch(t.path){case Hf.Login:yield this.login(this.getReturnUrl());break;case Hf.LoginCallback:yield this.processLoginCallback();break;case Hf.LoginFailed:const e=this.activatedRoute.snapshot.queryParamMap.get(Vf.Message);this.message.next(e);break;case Hf.Profile:this.redirectToProfile();break;case Hf.Register:this.redirectToRegister();break;default:throw new Error(`Invalid action '${t}'`)}})}login(t){return Lf(this,void 0,void 0,function*(){const e={returnUrl:t},n=yield this.authorizeService.signIn(e);switch(this.message.next(void 0),n.status){case zf.Redirect:break;case zf.Success:yield this.navigateToReturnUrl(t);break;case zf.Fail:yield this.router.navigate(qf.LoginFailedPathComponents,{queryParams:{[Vf.Message]:n.message}});break;default:throw new Error(`Invalid status result ${n.status}.`)}})}processLoginCallback(){return Lf(this,void 0,void 0,function*(){const t=window.location.href,e=yield this.authorizeService.completeSignIn(t);switch(e.status){case zf.Redirect:throw new Error("Should not redirect.");case zf.Success:yield this.navigateToReturnUrl(this.getReturnUrl(e.state));break;case zf.Fail:this.message.next(e.message)}})}redirectToRegister(){this.redirectToApiAuthorizationPath(`${qf.IdentityRegisterPath}?returnUrl=${encodeURI("/"+qf.Login)}`)}redirectToProfile(){this.redirectToApiAuthorizationPath(qf.IdentityManagePath)}navigateToReturnUrl(t){return Lf(this,void 0,void 0,function*(){yield this.router.navigateByUrl(t,{replaceUrl:!0})})}getReturnUrl(t){const e=this.activatedRoute.snapshot.queryParams.returnUrl;if(e&&!e.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(e))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return t&&t.returnUrl||e||qf.DefaultLoginRedirectPath}redirectToApiAuthorizationPath(t){const e=`${window.location.origin}${t}`;window.location.replace(e)}}var Wf=Pr({encapsulation:0,styles:[[".loading-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;color:#fafafa;display:flex;flex-direction:column;justify-content:center;align-items:center}div.loading-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px}div.loading-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{margin-top:12px;position:relative;height:8px;width:160px;border-radius:4px;background:#fafafa;overflow:hidden}div.loading-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]::after{content:'';position:absolute;background:linear-gradient(45deg,#1ab394,#94d7f8);width:80px;height:10px;left:-20px;border-radius:2px;-webkit-animation:1.8s linear infinite progressAnimation;animation:1.8s linear infinite progressAnimation}@-webkit-keyframes progressAnimation{50%{left:100px}}@keyframes progressAnimation{50%{left:100px}}"]],data:{}});function Gf(t){return Hs(0,[(t()(),xs(0,0,null,null,7,"div",[["class","loading-container"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"img",[["src","assets/images/logo_palma2_white.png"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,0,"div",[["class","progress-bar"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),js(-1,null,["Por Favor Espere..."])),(t()(),xs(5,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),js(6,null,["",""])),Ui(131072,lu,[Te])],null,function(t,e){var n=e.component;t(e,6,0,kr(e,6,0,Ei(e,7).transform(n.message)))})}function Jf(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-login",[],null,null,null,Gf,Wf)),Li(1,114688,null,0,$f,[Kf,jd,Yp],null,null)],function(t,e){t(e,1,0)},null)}var Yf=pi("app-login",$f,Jf,{},{},[]);class Zf{constructor(t,e,n){this.authorizeService=t,this.activatedRoute=e,this.router=n,this.message=new Su(null)}ngOnInit(){return Lf(this,void 0,void 0,function*(){const t=this.activatedRoute.snapshot.url[1];switch(t.path){case Bf.Logout:window.history.state.local?yield this.logout(this.getReturnUrl()):this.message.next("The logout was not initiated from within the page.");break;case Bf.LogoutCallback:yield this.processLogoutCallback();break;case Bf.LoggedOut:this.router.navigate(["/"],{state:{local:!0}});break;default:throw new Error(`Invalid action '${t}'`)}})}logout(t){return Lf(this,void 0,void 0,function*(){const e={returnUrl:t};if(yield this.authorizeService.isAuthenticated().pipe(Yu(1)).toPromise()){const n=yield this.authorizeService.signOut(e);switch(n.status){case zf.Redirect:break;case zf.Success:yield this.navigateToReturnUrl(t);break;case zf.Fail:this.message.next(n.message);break;default:throw new Error("Invalid authentication result status.")}}else this.message.next("You successfully logged out!")})}processLogoutCallback(){return Lf(this,void 0,void 0,function*(){const t=window.location.href,e=yield this.authorizeService.completeSignOut(t);switch(e.status){case zf.Redirect:throw new Error("Should not redirect.");case zf.Success:yield this.navigateToReturnUrl(this.getReturnUrl(e.state));break;case zf.Fail:this.message.next(e.message);break;default:throw new Error("Invalid authentication result status.")}})}navigateToReturnUrl(t){return Lf(this,void 0,void 0,function*(){yield this.router.navigateByUrl(t,{replaceUrl:!0})})}getReturnUrl(t){const e=this.activatedRoute.snapshot.queryParams.returnUrl;if(e&&!e.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(e))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return t&&t.returnUrl||e||qf.LoggedOut}}var Qf=Pr({encapsulation:0,styles:[[""]],data:{}});function Xf(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),js(1,null,["",""])),Ui(131072,lu,[Te])],null,function(t,e){var n=e.component;t(e,1,0,kr(e,1,0,Ei(e,2).transform(n.message)))})}function tg(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-logout",[],null,null,null,Xf,Qf)),Li(1,114688,null,0,Zf,[Kf,jd,Yp],null,null)],function(t,e){t(e,1,0)},null)}var eg=pi("app-logout",Zf,tg,{},{},[]),ng=function(){function t(t,e){var n=this;this._state=t,this._element=e,this.isDisabled=null,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(function(t){return n.isOpen=t})),this._subscriptions.push(this._state.isDisabledChange.subscribe(function(t){return n.isDisabled=t||null}))}return t.prototype.onClick=function(){this.isDisabled||this._state.toggleClick.emit(!0)},t.prototype.onDocumentClick=function(t){this._state.autoClose&&2!==t.button&&!this._element.nativeElement.contains(t.target)&&this._state.toggleClick.emit(!1)},t.prototype.onEsc=function(){this._state.autoClose&&this._state.toggleClick.emit(!1)},t.prototype.ngOnDestroy=function(){for(var t=0,e=this._subscriptions;t<e.length;t++)e[t].unsubscribe()},t}();w.prototype.filter=function(t,e){return Iu(t,e)(this)};var rg=function(){function t(t,e){this.open=t,this.close=e||t}return t.prototype.isManual=function(){return"manual"===this.open||"manual"===this.close},t}(),ig={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},og=function(){return function(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}(),sg=function(){function t(t,e,n,r,i,o,s,l){this._viewContainerRef=t,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=i,this._ngZone=o,this._applicationRef=s,this._posService=l,this.onBeforeShow=new ao,this.onShown=new ao,this.onBeforeHide=new ao,this.onHidden=new ao,this._providers=[],this._isHiding=!1,this._listenOpts={},this._globalListener=Function.prototype}return Object.defineProperty(t.prototype,"isShown",{get:function(){return!this._isHiding&&!!this._componentRef},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this},t.prototype.to=function(t){return this.container=t||this.container,this},t.prototype.position=function(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this},t.prototype.provide=function(t){return this._providers.push(t),this},t.prototype.show=function(t){if(void 0===t&&(t={}),this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);var e=vn.resolveAndCreate(this._providers,this._injector);this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof jn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"body"===this.container&&"undefined"!=typeof document&&document.querySelector(this.container).appendChild(this._componentRef.location.nativeElement),!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef},t.prototype.hide=function(){if(!this._componentRef)return this;this.onBeforeHide.emit(this._componentRef.instance);var t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this},t.prototype.toggle=function(){this.isShown?this.hide():this.show()},t.prototype.dispose=function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()},t.prototype.listen=function(t){var e=this;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,t.target=t.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return t.hide?t.hide():void e.hide()},r=this._listenOpts.show=function(n){t.show?t.show(n):e.show(n),n()};return this._unregisterListenersFn=function(t,e){var n=function(t,n){void 0===n&&(n=ig);var r=(e.triggers||"").trim();if(0===r.length)return[];var i=r.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var e=n[t[0]]||t;return new rg(e[0],e[1])}),o=i.filter(function(t){return t.isManual()});if(o.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===o.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;var i=[],o=[],s=function(){o.forEach(function(t){return i.push(t())}),o.length=0};return n.forEach(function(n){var l=n.open===n.close,a=l?e.toggle:e.show;l||o.push(function(){return t.listen(r,n.close,e.hide)}),i.push(t.listen(r,n.open,function(){return a(s)}))}),function(){i.forEach(function(t){return t()})}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:function(t){e.isShown?n():r(t)}}),this},t.prototype._removeGlobalListener=function(){this._globalListener&&(this._globalListener(),this._globalListener=null)},t.prototype.attachInline=function(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this},t.prototype._registerOutsideClick=function(){var t=this;if(this._componentRef&&this._componentRef.location&&this._listenOpts.outsideClick){var e=this._componentRef.location.nativeElement;setTimeout(function(){var n;t._globalListener=(n={targets:[e,t._elementRef.nativeElement],outsideClick:t._listenOpts.outsideClick,hide:function(){return t._listenOpts.hide()}}).outsideClick?t._renderer.listen("document","click",function(t){n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(function(e){return e.contains(t.target)})||n.hide()}):Function.prototype})}},t.prototype.getInnerComponent=function(){return this._innerComponent},t.prototype._subscribePositioning=function(){var t=this;!this._zoneSubscription&&this.attachment&&(this._zoneSubscription=this._ngZone.onStable.subscribe(function(){t._componentRef&&t._posService.position({element:t._componentRef.location,target:t._elementRef,attachment:t.attachment,appendToBody:"body"===t.container})}))},t.prototype._unsubscribePositioning=function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)},t.prototype._getContentRef=function(t,e,n){if(!t)return new og([]);if(t instanceof ur){if(this._viewContainerRef){var r=this._viewContainerRef.createEmbeddedView(t,e);return r.markForCheck(),new og([r.rootNodes],r)}var i=t.createEmbeddedView({});return this._applicationRef.attachView(i),new og([i.rootNodes],i)}if("function"==typeof t){var o=this._componentFactoryResolver.resolveComponentFactory(t),s=vn.resolveAndCreate(this._providers.slice(),this._injector),l=o.create(s);return Object.assign(l.instance,n),this._applicationRef.attachView(l.hostView),new og([[l.location.nativeElement]],l.hostView,l)}return new og([[this._renderer.createText(""+t)]])},t}(),lg=new(function(){function t(){}return t.prototype.position=function(t,e){var n;void 0===e&&(e=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position")){var i=t.getBoundingClientRect();n={width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}else{var o=this.offsetParent(t);n=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(t,e){void 0===e&&(e=!0);var n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(t,e,n,r){var i=r?this.offset(t,!1):this.position(t,!1),o=this.getAllStyles(e),s={left:i.left,center:i.left+i.width/2-e.offsetWidth/2,right:i.left+i.width},l={top:i.top,center:i.top+i.height/2-e.offsetHeight/2,bottom:i.top+i.height},a=e.getBoundingClientRect(),u=n.split(" ")[0]||"top",c=n.split(" ")[1]||"center",h={height:a.height||e.offsetHeight,width:a.width||e.offsetWidth,top:0,bottom:a.height||e.offsetHeight,left:0,right:a.width||e.offsetWidth};if("auto"===u){var d=this.autoPosition(h,i,e,c);d||(d=this.autoPosition(h,i,e)),d&&(u=d),e.classList.add(u)}switch(u){case"top":h.top=i.top-(e.offsetHeight+parseFloat(o.marginBottom)),h.bottom+=i.top-e.offsetHeight,h.left=s[c],h.right+=s[c];break;case"bottom":h.top=l[u],h.bottom+=l[u],h.left=s[c],h.right+=s[c];break;case"left":h.top=l[c],h.bottom+=l[c],h.left=i.left-(e.offsetWidth+parseFloat(o.marginRight)),h.right+=i.left-e.offsetWidth;break;case"right":h.top=l[c],h.bottom+=l[c],h.left=s[u],h.right+=s[u]}return h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right),h},t.prototype.autoPosition=function(t,e,n,r){return(!r||"right"===r)&&t.left+e.left-n.offsetWidth<0?"right":(!r||"top"===r)&&t.bottom+e.bottom+n.offsetHeight>window.innerHeight?"top":(!r||"bottom"===r)&&t.top+e.top-n.offsetHeight<0?"bottom":(!r||"left"===r)&&t.right+e.right+n.offsetWidth>window.innerWidth?"left":null},t.prototype.getAllStyles=function(t){return window.getComputedStyle(t)},t.prototype.getStyle=function(t,e){return this.getAllStyles(t)[e]},t.prototype.isStaticPositioned=function(t){return"static"===(this.getStyle(t,"position")||"static")},t.prototype.offsetParent=function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t}()),ag=function(){function t(){}return t.prototype.position=function(t){var e=t.element,n=t.attachment,r=t.appendToBody;!function(t,e,r,i){var o=lg.positionElements(t,e,n,i);e.style.top=o.top+"px",e.style.left=o.left+"px"}(ug(t.target),ug(e),0,r)},t}();function ug(t){return"string"==typeof t?document.querySelector(t):t instanceof jn?t.nativeElement:t}var cg=function(){function t(t,e,n,r,i){this._componentFactoryResolver=t,this._ngZone=e,this._injector=n,this._posService=r,this._applicationRef=i}return t.prototype.createLoader=function(t,e,n){return new sg(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)},t}(),hg=function(){return function(){this.autoClose=!0}}(),dg=function(){function t(t,e,n,r,i,o){this._elementRef=t,this._renderer=e,this._viewContainerRef=n,this._cis=r,this._config=i,this._state=o,this._isInlineOpen=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Tf,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}return Object.defineProperty(t.prototype,"autoClose",{get:function(){return this._state.autoClose},set:function(t){this._state.autoClose=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._isDisabled},set:function(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._showInline?this._isInlineOpen:this._dropdown.isShown},set:function(t){t?this.show():this.hide()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBs4",{get:function(){return!Rf()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_showInline",{get:function(){return!this.container},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:function(){return t.show()}}),this._subscriptions.push(this._state.toggleClick.subscribe(function(e){return t.toggle(e)})),this._subscriptions.push(this._state.isDisabledChange.filter(function(t){return t}).subscribe(function(e){return t.hide()})))},t.prototype.show=function(){var t=this;if(!this.isOpen&&!this.isDisabled)return this._showInline?(this._inlinedMenu||this._state.dropdownMenu.then(function(e){t._dropdown.attachInline(e.viewContainer,e.templateRef),t._inlinedMenu=t._dropdown._inlineViewRef,t.addBs4Polyfills()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),void this._state.isOpenChange.emit(!0)):void this._state.dropdownMenu.then(function(e){var n=t.dropup||void 0!==t.dropup&&t.dropup;t._state.direction=n?"up":"down";var r=t.placement||(n?"top left":"bottom left");t._dropdown.attach(If).to(t.container).position({attachment:r}).show({content:e.templateRef,placement:r}),t._state.isOpenChange.emit(!0)}).catch()},t.prototype.hide=function(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))},t.prototype.toggle=function(t){return this.isOpen||!t?this.hide():this.show()},t.prototype.ngOnDestroy=function(){for(var t=0,e=this._subscriptions;t<e.length;t++)e[t].unsubscribe();this._dropdown.dispose()},t.prototype.addBs4Polyfills=function(){Rf()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())},t.prototype.addShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")},t.prototype.removeShowClass=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")},t.prototype.checkRightAlignment=function(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){var t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}},t.prototype.addDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"))},t.prototype.removeDropupStyles=function(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"))},t}(),pg=function(){return function(t,e,n){t.resolveDropdownMenu({templateRef:n,viewContainer:e})}}();n("Onkx");class fg{}class gg{}class mg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===i.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class vg{encodeKey(t){return yg(t)}encodeValue(t){return yg(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function yg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class bg{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new vg,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new bg({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function _g(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function wg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Sg(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Cg{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new mg),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new bg,this.urlWithParams=e}serializeBody(){return null===this.body?null:_g(this.body)||wg(this.body)||Sg(this.body)||"string"==typeof this.body?this.body:this.body instanceof bg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:Sg(this.body)?null:wg(this.body)?this.body.type||null:_g(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new Cg(e,n,i,{params:a,headers:l,reportProgress:s,responseType:r,withCredentials:o})}}const Eg=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class xg{constructor(t,e=200,n="OK"){this.headers=t.headers||new mg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fg extends xg{constructor(t={}){super(t),this.type=Eg.ResponseHeader}clone(t={}){return new Fg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kg extends xg{constructor(t={}){super(t),this.type=Eg.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ag extends xg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Tg(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class Pg{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Cg)r=t;else{let i=void 0;i=n.headers instanceof mg?n.headers:new mg(n.headers);let o=void 0;n.params&&(o=n.params instanceof bg?n.params:new bg({fromObject:n.params})),r=new Cg(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=wu(r).pipe(uc(t=>this.handler.handle(t)));if(t instanceof Cg||"events"===n.observe)return i;const o=i.pipe(Iu(t=>t instanceof kg));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(j(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(j(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(j(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new bg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Tg(n,e))}post(t,e,n={}){return this.request("POST",t,Tg(n,e))}put(t,e,n={}){return this.request("PUT",t,Tg(n,e))}}class Rg{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ig=new xt("HTTP_INTERCEPTORS");class Og{intercept(t,e){return e.handle(t)}}const Dg=/^\)\]\}',?\n/;class Ng{}class Mg{constructor(){}build(){return new XMLHttpRequest}}class Lg{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new mg(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Fg({headers:o,status:e,statusText:r,url:s})},s=()=>{let{headers:r,status:i,statusText:s,url:l}=o(),a=null;204!==i&&(a=void 0===n.response?n.responseText:n.response),0===i&&(i=a?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(Dg,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=t,u&&(u=!1,a={error:c,text:a})}}u?(e.next(new kg({body:a,headers:r,status:i,statusText:s,url:l||void 0})),e.complete()):e.error(new Ag({error:a,headers:r,status:i,statusText:s,url:l||void 0}))},l=t=>{const{url:r}=o(),i=new Ag({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let a=!1;const u=r=>{a||(e.next(o()),a=!0);let i={type:Eg.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},c=t=>{let n={type:Eg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",l),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),e.next({type:Eg.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const Ug=new xt("XSRF_COOKIE_NAME"),jg=new xt("XSRF_HEADER_NAME");class Vg{}class Bg{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ka(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class Hg{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}class qg{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ig,[]);this.chain=t.reduceRight((t,e)=>new Rg(t,e),this.backend)}return this.chain.handle(t)}}class zg{static disable(){return{ngModule:zg,providers:[{provide:Hg,useClass:Og}]}}static withOptions(t={}){return{ngModule:zg,providers:[t.cookieName?{provide:Ug,useValue:t.cookieName}:[],t.headerName?{provide:jg,useValue:t.headerName}:[]]}}}class Kg{}let $g=(()=>{class t{constructor(t){this._http=t}getTercero(t){return this._http.get(`api/Tercero/Identificacion/${t}`)}getTerceroPorCorreo(t){return this._http.get(`api/Tercero/Correo/${t}`)}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})(),Wg=(()=>{class t{constructor(t){this._http=t}getUserRoles(t){return this._http.get(`api/Account/User/${t}/Roles`)}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();class Gg{constructor(t,e,n,r){this.router=t,this.authorizeService=e,this.terceroService=n,this.accountService=r,console.log("Constructor"),this.verificarSesion(),this.buscarUsuario()}ngAfterViewInit(){jQuery("#side-menu").metisMenu(),jQuery("body").hasClass("fixed-sidebar")&&jQuery(".sidebar-collapse").slimscroll({height:"100%"})}activeRoute(t){return this.router.url.indexOf(t)>-1}verificarSesion(){this.authorizeService.isAuthenticated().subscribe(t=>{this.estaAutenticado=t})}buscarUsuario(){this.authorizeService.getUser().subscribe(t=>{this.user=t,this.user&&null!==this.user.name&&(this.buscarTerceroPorCorreo(this.user.name),this.buscarRolesUsuarios(this.user.name))})}buscarTerceroPorCorreo(t){this.terceroService.getTerceroPorCorreo(t).subscribe(t=>{this.tercero=t})}buscarRolesUsuarios(t){this.accountService.getUserRoles(t).subscribe(t=>{this.roles=t,this.roles.filter(t=>"Due\xf1o"===t.name).length>0&&(this.nombreRolGeneral="Due\xf1o"),this.roles.filter(t=>"Administrador"===t.name).length>0&&(this.nombreRolGeneral="Administrador"),this.roles.filter(t=>"Operario"===t.name).length>0&&(this.nombreRolGeneral="Operario")})}}var Jg=Pr({encapsulation:2,styles:[],data:{}});function Yg(t){return Hs(0,[(t()(),xs(0,0,null,null,7,"a",[["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,1).onClick()&&r),"document:click"===e&&(r=!1!==Ei(t,1).onDocumentClick(n)&&r),"keyup.esc"===e&&(r=!1!==Ei(t,1).onEsc()&&r),r},null,null)),Li(1,147456,null,0,ng,[Tf,jn],null,null),(t()(),xs(2,0,null,null,2,"span",[["class","block m-t-xs"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"strong",[["class","font-bold"]],null,null,null,null,null)),(t()(),js(4,null,[""," ",""])),(t()(),xs(5,0,null,null,2,"span",[["class","text-muted text-xs block"]],null,null,null,null,null)),(t()(),js(6,null,[""," "])),(t()(),xs(7,0,null,null,0,"b",[["class","caret"]],null,null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,!0,Ei(e,1).isDisabled,Ei(e,1).isOpen),t(e,4,0,n.tercero.nombres,n.tercero.apellidos),t(e,6,0,n.nombreRolGeneral)})}function Zg(t){return Hs(0,[(t()(),xs(0,0,null,null,3,"ul",[["class","animated fadeInRight dropdown-menu"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),js(-1,null,["Cambiar contrase\xf1a"]))],null,null)}function Qg(t){return Hs(0,[(t()(),xs(0,0,null,null,10,"li",[["class","nav-header"]],null,null,null,null,null)),(t()(),xs(1,16777216,null,null,7,"div",[["class","profile-element"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),ji(512,null,Tf,Tf,[]),Li(3,212992,null,0,dg,[jn,zn,hr,cg,hg,Tf],null,null),(t()(),xs(4,0,null,null,0,"img",[["alt","image"],["class","img-circle"],["src","assets/images/user_default_2.png"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Yg)),Li(6,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Zg)),Li(8,16384,null,0,pg,[Tf,hr,ur],null,null),(t()(),xs(9,0,null,null,1,"div",[["class","logo-element"]],null,null,null,null,null)),(t()(),xs(10,0,null,null,0,"img",[["alt","image"],["src","assets/images/logo_palma_white.png"],["style","width:35px"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,3,0),t(e,6,0,null!=n.tercero)},function(t,e){t(e,1,0,Ei(e,3).dropup,Ei(e,3).isOpen,Ei(e,3).isOpen&&Ei(e,3).isBs4)})}function Xg(t){return Hs(0,[(t()(),xs(0,0,null,null,11,"li",[["class","nav-header"]],null,null,null,null,null)),(t()(),xs(1,16777216,null,null,8,"div",[["class","profile-element"],["dropdown",""]],[[2,"dropup",null],[2,"open",null],[2,"show",null]],null,null,null,null)),ji(512,null,Tf,Tf,[]),Li(3,212992,null,0,dg,[jn,zn,hr,cg,hg,Tf],null,null),(t()(),xs(4,0,null,null,0,"img",[["alt","image"],["class","img-circle"],["src","assets/images/user_default_2.png"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,4,"a",[["dropdownToggle",""]],[[1,"aria-haspopup",0],[1,"disabled",0],[1,"aria-expanded",0]],[[null,"click"],["document","click"],[null,"keyup.esc"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,6).onClick()&&r),"document:click"===e&&(r=!1!==Ei(t,6).onDocumentClick(n)&&r),"keyup.esc"===e&&(r=!1!==Ei(t,6).onEsc()&&r),r},null,null)),Li(6,147456,null,0,ng,[Tf,jn],null,null),(t()(),xs(7,0,null,null,2,"span",[["class","block m-t-xs"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,1,"strong",[["class","font-bold"]],null,null,null,null,null)),(t()(),js(-1,null,["Sin autenticar"])),(t()(),xs(10,0,null,null,1,"div",[["class","logo-element"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,0,"img",[["alt","image"],["src","assets/images/logo_palma_white.png"],["style","width:35px"]],null,null,null,null,null))],function(t,e){t(e,3,0)},function(t,e){t(e,1,0,Ei(e,3).dropup,Ei(e,3).isOpen,Ei(e,3).isOpen&&Ei(e,3).isBs4),t(e,5,0,!0,Ei(e,6).isDisabled,Ei(e,6).isOpen)})}function tm(t){return Hs(0,[(t()(),xs(0,0,null,null,9,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(2,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(3,{active:0}),(t()(),xs(4,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(5,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(6,1),(t()(),xs(7,0,null,null,0,"i",[["class","fa fa-home"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(t()(),js(-1,null,["Inicio"]))],function(t,e){var n=t(e,3,0,e.component.activeRoute("starter"));t(e,2,0,n);var r=t(e,6,0,"/starterview");t(e,5,0,r)},function(t,e){t(e,4,0,Ei(e,5).target,Ei(e,5).href)})}function em(t){return Hs(0,[(t()(),xs(0,0,null,null,20,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(2,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(3,{active:0}),(t()(),xs(4,0,null,null,4,"a",[],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"i",[["class","fa fa-address-book"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(t()(),js(-1,null,["Usuarios"])),(t()(),xs(8,0,null,null,0,"span",[["class","fa arrow"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,11,"ul",[["class","nav nav-second-level collapse"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(11,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(12,{in:0}),(t()(),xs(13,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(15,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(16,{active:0}),(t()(),xs(17,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(18,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(19,1),(t()(),js(-1,null,["Gesti\xf3n"]))],function(t,e){var n=e.component,r=t(e,3,0,n.activeRoute("usuarios"));t(e,2,0,r);var i=t(e,12,0,n.activeRoute("usuarios"));t(e,11,0,"nav nav-second-level collapse",i);var o=t(e,16,0,n.activeRoute("gestion-usuarios"));t(e,15,0,o);var s=t(e,19,0,"/usuarios/gestion");t(e,18,0,s)},function(t,e){t(e,17,0,Ei(e,18).target,Ei(e,18).href)})}function nm(t){return Hs(0,[(t()(),xs(0,0,null,null,20,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(2,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(3,{active:0}),(t()(),xs(4,0,null,null,4,"a",[],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"i",[["class","fa fa-archive"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(t()(),js(-1,null,["Cultivos"])),(t()(),xs(8,0,null,null,0,"span",[["class","fa arrow"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,11,"ul",[["class","nav nav-second-level collapse"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(11,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(12,{in:0}),(t()(),xs(13,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(15,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(16,{active:0}),(t()(),xs(17,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(18,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(19,1),(t()(),js(-1,null,["Gesti\xf3n"]))],function(t,e){var n=e.component,r=t(e,3,0,n.activeRoute("cultivos"));t(e,2,0,r);var i=t(e,12,0,n.activeRoute("cultivos"));t(e,11,0,"nav nav-second-level collapse",i);var o=t(e,16,0,n.activeRoute("gestion-cultivos"));t(e,15,0,o);var s=t(e,19,0,"/cultivos/gestion");t(e,18,0,s)},function(t,e){t(e,17,0,Ei(e,18).target,Ei(e,18).href)})}function rm(t){return Hs(0,[(t()(),xs(0,0,null,null,28,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(2,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(3,{active:0}),(t()(),xs(4,0,null,null,4,"a",[],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"i",[["class","fa fa-tasks"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(t()(),js(-1,null,["Tareas"])),(t()(),xs(8,0,null,null,0,"span",[["class","fa arrow"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,19,"ul",[["class","nav nav-second-level collapse"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(11,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(12,{in:0}),(t()(),xs(13,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(15,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(16,{active:0}),(t()(),xs(17,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,18).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(18,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(19,1),(t()(),js(-1,null,["Crear"])),(t()(),xs(21,0,null,null,7,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(23,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(24,{active:0}),(t()(),xs(25,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,26).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(26,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(27,1),(t()(),js(-1,null,["Programar"]))],function(t,e){var n=e.component,r=t(e,3,0,n.activeRoute("tareas"));t(e,2,0,r);var i=t(e,12,0,n.activeRoute("tareas"));t(e,11,0,"nav nav-second-level collapse",i);var o=t(e,16,0,n.activeRoute("gestion-tareas"));t(e,15,0,o);var s=t(e,19,0,"/tareas/crear");t(e,18,0,s);var l=t(e,24,0,n.activeRoute("gestion-tareas"));t(e,23,0,l);var a=t(e,27,0,"/tareas/programar");t(e,26,0,a)},function(t,e){t(e,17,0,Ei(e,18).target,Ei(e,18).href),t(e,25,0,Ei(e,26).target,Ei(e,26).href)})}function im(t){return Hs(0,[(t()(),xs(0,0,null,null,9,"li",[],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(2,278528,null,0,Ja,[$a],{ngClass:[0,"ngClass"]},null),Ls(3,{active:0}),(t()(),xs(4,0,null,null,5,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==Ei(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Li(5,671744,null,0,Zp,[Yp,jd,Zl],{routerLink:[0,"routerLink"]},null),Ms(6,1),(t()(),xs(7,0,null,null,0,"i",[["class","fa fa-sign-in"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,1,"span",[["class","nav-label"]],null,null,null,null,null)),(t()(),js(-1,null,["Login"]))],function(t,e){var n=t(e,3,0,e.component.activeRoute("login"));t(e,2,0,n);var r=t(e,6,0,"/authentication/login");t(e,5,0,r)},function(t,e){t(e,4,0,Ei(e,5).target,Ei(e,5).href)})}function om(t){return Hs(0,[(t()(),xs(0,0,null,null,16,"nav",[["class","navbar-default navbar-static-side"],["role","navigation"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,15,"div",[["class","sidebar-collapse"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,14,"ul",[["class","nav metismenu"],["id","side-menu"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Qg)),Li(4,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,Xg)),Li(6,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,tm)),Li(8,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,em)),Li(10,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,nm)),Li(12,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,rm)),Li(14,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),Es(16777216,null,null,1,null,im)),Li(16,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,4,0,n.estaAutenticado),t(e,6,0,!n.estaAutenticado),t(e,8,0,n.estaAutenticado),t(e,10,0,n.estaAutenticado),t(e,12,0,n.estaAutenticado),t(e,14,0,n.estaAutenticado),t(e,16,0,!n.estaAutenticado)},null)}function sm(){jQuery(document).width()<769?jQuery("body").addClass("body-small"):jQuery("body").removeClass("body-small")}class lm{constructor(t,e,n){this.router=t,this.activeRoute=e,this.authorizeService=n,this.verificarSesion()}toggleNavigation(){jQuery("body").toggleClass("mini-navbar"),!jQuery("body").hasClass("mini-navbar")||jQuery("body").hasClass("body-small")?(jQuery("#side-menu").hide(),setTimeout(function(){jQuery("#side-menu").fadeIn(400)},200)):jQuery("body").hasClass("fixed-sidebar")?(jQuery("#side-menu").hide(),setTimeout(function(){jQuery("#side-menu").fadeIn(400)},100)):jQuery("#side-menu").removeAttr("style")}goToLogout(){this.router.navigate(["/authentication/logout"],{state:{local:!0}})}verificarSesion(){this.authorizeService.isAuthenticated().subscribe(t=>{this.estaAutenticado=t})}}var am=Pr({encapsulation:2,styles:[],data:{}});function um(t){return Hs(0,[(t()(),xs(0,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,2,"a",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.goToLogout()&&r),r},null,null)),(t()(),xs(2,0,null,null,0,"i",[["class","fa fa-sign-out"]],null,null,null,null,null)),(t()(),js(-1,null,[" Log out "]))],null,null)}function cm(t){return Hs(0,[(t()(),xs(0,0,null,null,9,"div",[["class","row border-bottom"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,8,"nav",[["class","navbar navbar-static-top"],["role","navigation"],["style","margin-bottom: 0"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,4,"div",[["class","navbar-header"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"a",[["class","minimalize-styl-2 btn btn-primary "]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.toggleNavigation()&&r),r},null,null)),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,1,"form",[["action","#"],["class","navbar-form-custom"],["method","post"],["role","search"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,0,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),xs(7,0,null,null,2,"ul",[["class","nav navbar-top-links navbar-right"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,um)),Li(9,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,9,0,e.component.estaAutenticado)},null)}class hm{}var dm=Pr({encapsulation:2,styles:[],data:{}});function pm(t){return Hs(0,[(t()(),xs(0,0,null,null,4,"div",[["class","footer"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),js(-1,null,["Copyright"])),(t()(),js(-1,null,[" PalmaApp \xa9 2020 "]))],null,null)}class fm{ngOnInit(){sm()}onResize(){sm()}}var gm=Pr({encapsulation:2,styles:[],data:{}});function mm(t){return Hs(0,[(t()(),xs(0,0,null,null,9,"div",[["id","wrapper"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"navigation",[],null,null,null,om,Jg)),Li(2,4243456,null,0,Gg,[Yp,Kf,$g,Wg],null,null),(t()(),xs(3,0,null,null,6,"div",[["class","gray-bg"],["id","page-wrapper"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,1,"topnavbar",[],null,null,null,cm,am)),Li(5,49152,null,0,lm,[Yp,jd,Kf],null,null),(t()(),xs(6,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(7,212992,null,0,ef,[tf,hr,Nn,[8,null],Te],null,null),(t()(),xs(8,0,null,null,1,"footer",[],null,null,null,pm,dm)),Li(9,49152,null,0,hm,[],null,null)],function(t,e){t(e,7,0)},null)}function vm(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"basic",[],null,[["window","resize"]],function(t,e,n){var r=!0;return"window:resize"===e&&(r=!1!==Ei(t,1).onResize()&&r),r},mm,gm)),Li(1,114688,null,0,fm,[],null,null)],function(t,e){t(e,1,0)},null)}var ym=pi("basic",fm,vm,{},{},[]);function bm(t,e){return new w(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let l=0;l<r;l++){const a=q(t[l]);let u=!1;n.add(a.subscribe({next:t=>{u||(u=!0,s++),i[l]=t},error:t=>n.error(t),complete:()=>{++o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const _m=new xt("NgValueAccessor"),wm=new xt("CompositionEventMode");class Sm{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=mc()?mc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Cm{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Em extends Cm{get formDirective(){return null}get path(){return null}}function xm(){throw new Error("unimplemented")}class Fm extends Cm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xm()}get asyncValidator(){return xm()}}class km{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Am extends km{constructor(t){super(t)}}class Tm extends km{constructor(t){super(t)}}function Pm(t){return null==t||0===t.length}const Rm=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class Im{static min(t){return e=>{if(Pm(e.value)||Pm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Pm(e.value)||Pm(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Pm(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Pm(t.value)?null:Rm.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Pm(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Im.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Pm(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Om);return 0==e.length?null:function(t){return Nm(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(Om);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(a(e))return bm(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return bm(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return bm(t=1===t.length&&a(t[0])?t[0]:t,null).pipe(j(t=>e(...t)))}return bm(t,null)}(function(t,n){return e.map(e=>e(t))}(t).map(Dm)).pipe(j(Nm))}}}function Om(t){return null!=t}function Dm(t){const e=kn(t)?q(t):t;if(!An(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Nm(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function Mm(t){return t.validate?e=>t.validate(e):t}function Lm(t){return t.validate?e=>t.validate(e):t}class Um{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}class jm{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const Vm={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Bm{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Vm.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Vm.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Vm.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Vm.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Vm.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${Vm.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Hm(t,e){return[...e.path,t]}function qm(t,e){t||Wm(e,"Cannot find control with"),e.valueAccessor||Wm(e,"No value accessor for form control with"),t.validator=Im.compose([t.validator,e.validator]),t.asyncValidator=Im.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&zm(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&zm(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function zm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Km(t,e){null==t&&Wm(e,"Cannot find control with"),t.validator=Im.compose([t.validator,e.validator]),t.asyncValidator=Im.composeAsync([t.asyncValidator,e.asyncValidator])}function $m(t){return Wm(t,"There is no FormControl instance attached to form control element with")}function Wm(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Gm(t){return null!=t?Im.compose(t.map(Mm)):null}function Jm(t){return null!=t?Im.composeAsync(t.map(Lm)):null}const Ym=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},Um,class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Sn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Sn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Fm),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],Zm="VALID",Qm="INVALID",Xm="PENDING",tv="DISABLED";function ev(t){const e=rv(t)?t.validators:t;return Array.isArray(e)?Gm(e):e||null}function nv(t,e){const n=rv(e)?e.asyncValidators:t;return Array.isArray(n)?Jm(n):n||null}function rv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class iv{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Zm}get invalid(){return this.status===Qm}get pending(){return this.status==Xm}get disabled(){return this.status===tv}get enabled(){return this.status!==tv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=ev(t)}setAsyncValidators(t){this.asyncValidator=nv(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tv,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zm,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Zm&&this.status!==Xm||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tv:Zm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xm;const e=Dm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof sv?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof lv&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ao,this.statusChanges=new ao}_calculateStatus(){return this._allControlsDisabled()?tv:this.errors?Qm:this._anyControlsHaveStatus(Xm)?Xm:this._anyControlsHaveStatus(Qm)?Qm:Zm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){rv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ov extends iv{constructor(t=null,e,n){super(ev(e),nv(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sv extends iv{constructor(t,e,n){super(ev(e),nv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ov?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class lv extends iv{constructor(t,e,n){super(ev(e),nv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ov?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const av=new xt("NgFormSelectorWarning");class uv extends Em{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Hm(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Gm(this._validators)}get asyncValidator(){return Jm(this._asyncValidators)}_checkParentType(){}}class cv{}const hv=new xt("NgModelWithFormControlWarning");class dv extends Em{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new ao}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return qm(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(e,n){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives)}addFormGroup(t){const e=this.form.get(t.path);Km(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Km(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>$m(e)),e.valueAccessor.registerOnTouched(()=>$m(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&qm(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Gm(this._validators);this.form.validator=Im.compose([this.form.validator,t]);const e=Jm(this._asyncValidators);this.form.asyncValidator=Im.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Bm.missingFormException()}}class pv extends uv{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){gv(this._parent)&&Bm.groupParentException()}}class fv extends Em{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Hm(this.name,this._parent)}get validator(){return Gm(this._validators)}get asyncValidator(){return Jm(this._asyncValidators)}_checkParentType(){gv(this._parent)&&Bm.arrayParentException()}}function gv(t){return!(t instanceof pv||t instanceof dv||t instanceof fv)}let mv=(()=>{class t extends Fm{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new ao,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Wm(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Sm?n=e:function(t){return Ym.some(e=>t.constructor===e)}(e)?(r&&Wm(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Wm(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Wm(t,"No valid value accessor for form control with"),null)}(this,r)}set isDisabled(t){Bm.disabledAttrWarning()}ngOnChanges(e){var n,r;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Sn(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,r=this._ngModelWarningConfig,ee()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Bm.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Hm(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Gm(this._rawValidators)}get asyncValidator(){return Jm(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof pv)&&this._parent instanceof uv?Bm.ngModelGroupException():this._parent instanceof pv||this._parent instanceof dv||this._parent instanceof fv||Bm.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class vv{}class yv{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new sv(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new ov(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new lv(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ov||t instanceof sv||t instanceof lv?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class bv{static withConfig(t){return{ngModule:bv,providers:[{provide:av,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class _v{static withConfig(t){return{ngModule:_v,providers:[{provide:hv,useValue:t.warnOnNgModelWithFormControl}]}}}let wv=(()=>{class t{constructor(t){this._http=t}ConsultarCultivos(){return this._http.get("api/Cultivo")}ConsultarCultivoPorId(t){return this._http.get(`api/Cultivo/${t}`)}RegistrarCultivo(t){return this._http.post("api/Cultivo",t)}EditarCultivo(t,e,n,r){return this._http.put("api/Cultivo",{cultivoId:t,nombre:e,fechaSiembra:n,estado:r})}InactivarCultivo(t,e,n){return this._http.put("api/Cultivo",{cultivoId:t,nombre:e,fechaSiembra:n,estado:"IN"})}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();var Sv=n("PdH4"),Cv=n.n(Sv);class Ev{constructor(t,e,n){this._formBuilder=t,this._router=e,this._cultivoService=n,this.visualizarFormulario=!1,this.GuardarCultivo=this.RegistrarCultivo}ngOnInit(){this.cultivos=new Array,this.ConsultarCultivos(),this.cultivoForm=this.InicializarFormulario()}IrAGestionLotes(t){this._router.navigate([`/cultivos/${t.id}/Lotes`])}ConsultarCultivos(){this._cultivoService.ConsultarCultivos().subscribe(t=>{t&&(this.cultivos=t,this.cultivoForm.reset(),this.visualizarFormulario=!1)})}AbrirModalNuevoCultivo(){this.visualizarFormulario=!0,this.cultivoForm.reset(),this.accion="Registrar",this.GuardarCultivo=this.RegistrarCultivo}AbrirModalEditarCultivo(t){this.visualizarFormulario=!0,this.accion="Editar",this.cultivoId=t.id,this.cultivoEstado=t.estado,this.cultivoForm.patchValue({nombre:t.nombre,fechaSiembra:this.formatFecha(t.fechaSiembra)}),this.GuardarCultivo=this.EditarCultivo}formatFecha(t){return t.toString().split("T")[0]}RegistrarCultivo(){this.ConfirmMessage("question","","",t=>{this._cultivoService.RegistrarCultivo(this.cultivoForm.value).subscribe(t=>{t&&(this.ConsultarCultivos(),this.ShowMessage("success",t.mensaje))})})}EditarCultivo(){this.ConfirmMessage("question","","",t=>{const e=this.cultivoForm.value;this._cultivoService.EditarCultivo(this.cultivoId,e.nombre,e.fechaSiembra,this.cultivoEstado).subscribe(t=>{t&&(this.ConsultarCultivos(),this.ShowMessage("success",t.mensaje))})})}EliminarCultivo(t){this.ConfirmMessage("warning","","",e=>{this._cultivoService.InactivarCultivo(t.id,t.nombre,t.fechaSiembra).subscribe(t=>{t&&(this.ShowMessage("success",t.mensaje),this.ConsultarCultivos())})})}InicializarFormulario(){return this._formBuilder.group({nombre:[void 0,[Im.required]],fechaSiembra:[void 0,[Im.required]]})}ShowMessage(t,e,n=null){Cv.a.fire({title:n,text:e,icon:t,showConfirmButton:!1,timer:2500})}ConfirmMessage(t,e,n=null,r){Cv.a.fire({icon:t,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:e,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.value&&r(t.value)})}}var xv=Pr({encapsulation:0,styles:[[""]],data:{}});function Fv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" El nombre del cultivo es obligatorio "]))],null,null)}function kv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" La fecha de siembra es obligatoria "]))],null,null)}function Av(t){return Hs(0,[(t()(),xs(0,0,null,null,43,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),js(3,null,[""," Cultivo"])),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=(t.component.visualizarFormulario=!1)&&r),r},null,null)),(t()(),xs(5,0,null,null,38,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Ei(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ei(t,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,cv,[],null,null),Li(8,540672,null,0,dv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,Em,null,[dv]),Li(10,16384,null,0,Tm,[[4,Em]],null,null),(t()(),xs(11,0,null,null,32,"div",[["class","row p-w-md"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(15,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(t()(),xs(18,0,null,null,5,"input",[["class","form-control"],["formControlName","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,19)._compositionEnd(n.target.value)&&r),r},null,null)),Li(19,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(21,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(23,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Fv)),Li(25,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(26,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(27,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Fecha Siembra"])),(t()(),xs(29,0,null,null,8,"div",[["class","input-group date"]],null,null,null,null,null)),(t()(),xs(30,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(31,0,null,null,0,"i",[["class","fa fa-calendar-o"]],null,null,null,null,null)),(t()(),xs(32,0,null,null,5,"input",[["class","form-control"],["formControlName","fechaSiembra"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,33)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,33).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,33)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,33)._compositionEnd(n.target.value)&&r),r},null,null)),Li(33,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(35,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(37,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,kv)),Li(39,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(40,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(t()(),xs(41,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.GuardarCultivo()&&r),r},null,null)),(t()(),js(-1,null,[" Guardar "])),(t()(),xs(43,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.cultivoForm),t(e,21,0,"nombre"),t(e,25,0,n.cultivoForm.get("nombre").hasError("required")&&(n.cultivoForm.get("nombre").dirty||n.cultivoForm.get("nombre").touched)),t(e,35,0,"fechaSiembra"),t(e,39,0,n.cultivoForm.get("fechaSiembra").hasError("required")&&(n.cultivoForm.get("fechaSiembra").dirty||n.cultivoForm.get("fechaSiembra").touched))},function(t,e){var n=e.component;t(e,3,0,n.accion),t(e,6,0,Ei(e,10).ngClassUntouched,Ei(e,10).ngClassTouched,Ei(e,10).ngClassPristine,Ei(e,10).ngClassDirty,Ei(e,10).ngClassValid,Ei(e,10).ngClassInvalid,Ei(e,10).ngClassPending),t(e,18,0,Ei(e,23).ngClassUntouched,Ei(e,23).ngClassTouched,Ei(e,23).ngClassPristine,Ei(e,23).ngClassDirty,Ei(e,23).ngClassValid,Ei(e,23).ngClassInvalid,Ei(e,23).ngClassPending),t(e,32,0,Ei(e,37).ngClassUntouched,Ei(e,37).ngClassTouched,Ei(e,37).ngClassPristine,Ei(e,37).ngClassDirty,Ei(e,37).ngClassValid,Ei(e,37).ngClassInvalid,Ei(e,37).ngClassPending),t(e,41,0,n.cultivoForm.invalid)})}function Tv(t){return Hs(0,[(t()(),xs(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(2,null,["",""])),(t()(),xs(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(4,null,["",""])),(t()(),xs(5,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(6,null,["",""])),Ns(7,2),(t()(),xs(8,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(11,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(12,{"label-primary":0,"label-danger":1}),(t()(),js(13,null,["",""])),(t()(),xs(14,0,null,null,6,"td",[["class","text-center"],["style","width: 165px;"]],null,null,null,null,null)),(t()(),xs(15,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.IrAGestionLotes(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Lotes"])),(t()(),xs(17,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalEditarCultivo(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Editar"])),(t()(),xs(19,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.EliminarCultivo(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Eliminar"]))],function(t,e){var n=t(e,12,0,"AC"==e.context.$implicit.estado,"AC"!=e.context.$implicit.estado);t(e,11,0,"label",n)},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.nombre);var n=kr(e,6,0,t(e,7,0,Ei(e.parent,0),e.context.$implicit.fechaSiembra,"dd-MM-yyyy"));t(e,6,0,n),t(e,13,0,"AC"==e.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function Pv(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),js(-1,null,["No se encontraron cultivos registrados en el sistema"]))],null,null)}function Rv(t){return Hs(0,[Ui(0,au,[wo]),(t()(),xs(1,0,null,null,30,"div",[["class","panel"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,6,"div",[["class","panel-heading h5 text-right"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(t()(),js(-1,null,[" Cultivos"])),(t()(),xs(6,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalNuevoCultivo()&&r),r},null,null)),(t()(),js(-1,null,["Nuevo Cultivo "])),(t()(),xs(8,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,22,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Av)),Li(11,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(12,0,null,null,19,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,18,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,10,"thead",[],null,null,null,null,null)),(t()(),xs(15,0,null,null,9,"tr",[],null,null,null,null,null)),(t()(),xs(16,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["#"])),(t()(),xs(18,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(20,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Fecha Siembra"])),(t()(),xs(22,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Estado"])),(t()(),xs(24,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),xs(25,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Tv)),Li(27,278528,null,0,Za,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(28,0,null,null,3,"tfoot",[],null,null,null,null,null)),(t()(),xs(29,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Pv)),Li(31,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,11,0,n.visualizarFormulario),t(e,27,0,n.cultivos),t(e,31,0,n.cultivos.length<=0)},null)}function Iv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-gestion-cultivos",[],null,null,null,Rv,xv)),Li(1,114688,null,0,Ev,[yv,Yp,wv],null,null)],function(t,e){t(e,1,0)},null)}var Ov=pi("app-gestion-cultivos",Ev,Iv,{},{},[]);let Dv=(()=>{class t{constructor(t){this._http=t}ConsultarCultivoPorId(t){return this._http.get(`api/Lote/GetCultivo/${t}`)}ConsultarLotesDeUnCultivo(t){return this._http.get(`api/Lote/Cultivo/${t}`)}RegistrarLote(t){return this._http.post("api/Lote",t)}EditarLote(t,e,n,r,i){return this._http.put("api/Lote",{cultivoId:t,loteId:e,nombre:n,numeroHectareas:r,estado:i})}InactivarLote(t,e,n,r){return this._http.put("api/Lote",{cultivoId:t,loteId:e,nombre:n,numeroHectareas:r,estado:"IN"})}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();class Nv{constructor(t,e,n,r,i){this._formBuilder=t,this._routerActivated=e,this._router=n,this._location=r,this._loteService=i,this.visualizarFormulario=!1,this.GuardarLote=this.RegistrarLote}ngOnInit(){this.cultivoId=Number(this._routerActivated.snapshot.paramMap.get("cultivoId")),!isNaN(this.cultivoId)&&this.cultivoId||(this.ShowMessage("error","Para realizar la gesti\xf3n de lotes debe enviar un cultivo","Ocurri\xf3 un Error"),this.irAtras()),this.lotes=new Array,this.ConsultarCultivo(),this.loteForm=this.InicializarFormulario()}irAtras(){this._location.back()}IrAGestionPalmas(t){this._router.navigate([`/cultivos/${this.cultivoId}/Lotes/${t.id}/Palmas`])}ConsultarCultivo(){this._loteService.ConsultarCultivoPorId(this.cultivoId).subscribe(t=>{t&&(this.cultivo=t,this.ConsultarLotes())})}ConsultarLotes(){this._loteService.ConsultarLotesDeUnCultivo(this.cultivo.id).subscribe(t=>{t&&(this.lotes=t,this.loteForm.reset({cultivoId:this.cultivoId}),this.visualizarFormulario=!1)})}AbrirModalNuevoLote(){this.visualizarFormulario=!0,this.loteForm.reset({cultivoId:this.cultivoId}),this.accion="Registrar",this.GuardarLote=this.RegistrarLote}AbrirModalEditarLote(t){this.visualizarFormulario=!0,this.accion="Editar",this.loteId=t.id,this.loteEstado=t.estado,this.loteForm.patchValue({cultivoId:t.cultivoId,nombre:t.nombre,numeroHectareas:t.numeroHectareas}),this.GuardarLote=this.EditarLote}RegistrarLote(){this.ConfirmMessage("question","","",t=>{this._loteService.RegistrarLote(this.loteForm.value).subscribe(t=>{t&&(this.ConsultarLotes(),this.ShowMessage("success",t.mensaje))})})}EditarLote(){this.ConfirmMessage("question","","",t=>{const e=this.loteForm.value;this._loteService.EditarLote(this.cultivoId,this.loteId,e.nombre,e.numeroHectareas,this.loteEstado).subscribe(t=>{t&&(this.ConsultarLotes(),this.ShowMessage("success",t.mensaje))})})}EliminarLote(t){this.ConfirmMessage("warning","","",e=>{this._loteService.InactivarLote(this.cultivoId,t.id,t.nombre,t.numeroHectareas).subscribe(t=>{t&&(this.ShowMessage("success",t.mensaje),this.ConsultarLotes())})})}InicializarFormulario(){return this._formBuilder.group({cultivoId:[this.cultivoId,[Im.required]],nombre:[void 0,[Im.required]],numeroHectareas:[void 0,[Im.required]]})}ShowMessage(t,e,n=null){Cv.a.fire({title:n,text:e,icon:t,showConfirmButton:!1,timer:2500})}ConfirmMessage(t,e,n=null,r){Cv.a.fire({icon:t,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:e,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.value&&r(t.value)})}}var Mv=Pr({encapsulation:0,styles:[[""]],data:{}});function Lv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" El nombre del lote es obligatorio "]))],null,null)}function Uv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" La cantidad de hect\xe1reas es obligatoria "]))],null,null)}function jv(t){return Hs(0,[(t()(),xs(0,0,null,null,46,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),js(3,null,[""," lote"])),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=(t.component.visualizarFormulario=!1)&&r),r},null,null)),(t()(),xs(5,0,null,null,41,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,40,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Ei(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ei(t,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,cv,[],null,null),Li(8,540672,null,0,dv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,Em,null,[dv]),Li(10,16384,null,0,Tm,[[4,Em]],null,null),(t()(),xs(11,0,null,null,35,"div",[["class","row p-w-md"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(15,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(t()(),xs(18,0,null,null,5,"input",[["class","form-control"],["formControlName","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,19)._compositionEnd(n.target.value)&&r),r},null,null)),Li(19,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(21,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(23,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Lv)),Li(25,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(26,0,null,null,16,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(27,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Cantidad "])),(t()(),xs(29,0,null,null,1,"abbr",[["title","Hect\xe1reas"]],null,null,null,null,null)),(t()(),js(-1,null,["Ha"])),(t()(),xs(31,0,null,null,9,"div",[["class","input-group date"]],null,null,null,null,null)),(t()(),xs(32,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(33,0,null,null,0,"i",[["class","fa fa-slack"]],null,null,null,null,null)),(t()(),xs(34,0,null,null,6,"input",[["class","form-control"],["formControlName","numeroHectareas"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,35)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,35).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,35)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,35)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ei(t,36).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ei(t,36).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,36).onTouched()&&r),r},null,null)),Li(35,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),Li(36,16384,null,0,Um,[zn,jn],null,null),ji(1024,null,_m,function(t,e){return[t,e]},[Sm,Um]),Li(38,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(40,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Uv)),Li(42,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(43,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(t()(),xs(44,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.GuardarLote()&&r),r},null,null)),(t()(),js(-1,null,[" Guardar "])),(t()(),xs(46,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.loteForm),t(e,21,0,"nombre"),t(e,25,0,n.loteForm.get("nombre").hasError("required")&&(n.loteForm.get("nombre").dirty||n.loteForm.get("nombre").touched)),t(e,38,0,"numeroHectareas"),t(e,42,0,n.loteForm.get("numeroHectareas").hasError("required")&&(n.loteForm.get("numeroHectareas").dirty||n.loteForm.get("numeroHectareas").touched))},function(t,e){var n=e.component;t(e,3,0,n.accion),t(e,6,0,Ei(e,10).ngClassUntouched,Ei(e,10).ngClassTouched,Ei(e,10).ngClassPristine,Ei(e,10).ngClassDirty,Ei(e,10).ngClassValid,Ei(e,10).ngClassInvalid,Ei(e,10).ngClassPending),t(e,18,0,Ei(e,23).ngClassUntouched,Ei(e,23).ngClassTouched,Ei(e,23).ngClassPristine,Ei(e,23).ngClassDirty,Ei(e,23).ngClassValid,Ei(e,23).ngClassInvalid,Ei(e,23).ngClassPending),t(e,34,0,Ei(e,40).ngClassUntouched,Ei(e,40).ngClassTouched,Ei(e,40).ngClassPristine,Ei(e,40).ngClassDirty,Ei(e,40).ngClassValid,Ei(e,40).ngClassInvalid,Ei(e,40).ngClassPending),t(e,44,0,n.loteForm.invalid)})}function Vv(t){return Hs(0,[(t()(),xs(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(2,null,["",""])),(t()(),xs(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(4,null,["",""])),(t()(),xs(5,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(6,null,["",""])),Ns(7,1),(t()(),xs(8,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(11,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(12,{"label-primary":0,"label-danger":1}),(t()(),js(13,null,["",""])),(t()(),xs(14,0,null,null,6,"td",[["class","text-center"],["style","width: 175px;"]],null,null,null,null,null)),(t()(),xs(15,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.IrAGestionPalmas(i.cultivo)&&r),r},null,null)),(t()(),js(-1,null,["Palmas"])),(t()(),xs(17,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalEditarLote(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Editar"])),(t()(),xs(19,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.EliminarLote(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Eliminar"]))],function(t,e){var n=t(e,12,0,"AC"==e.context.$implicit.estado,"AC"!=e.context.$implicit.estado);t(e,11,0,"label",n)},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.nombre);var n=kr(e,6,0,t(e,7,0,Ei(e.parent,0),e.context.$implicit.numeroHectareas));t(e,6,0,n),t(e,13,0,"AC"==e.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function Bv(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),js(-1,null,["No se encontraron lotes registrados en el sistema para el cultivo solicitado"]))],null,null)}function Hv(t){return Hs(0,[Ui(0,uu,[wo]),(t()(),xs(1,0,null,null,44,"div",[["class","panel"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"button",[["class","m-t-xs m-l-xs btn btn-xs btn-circle m-r-sm"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.irAtras()&&r),r},null,null)),(t()(),xs(3,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,8,"div",[["class","panel-heading h4 text-right"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(t()(),js(7,null,[" Cultivo - ",""])),(t()(),xs(8,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(10,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(11,{"label-success":0,"label-danger":1}),(t()(),js(12,null,["",""])),(t()(),xs(13,0,null,null,32,"div",[["class","p-w-sm"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,6,"div",[["class","panel-heading h5 text-right m-b-n"]],null,null,null,null,null)),(t()(),xs(15,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,0,"i",[["class","fa fa-cubes m-r-xs"]],null,null,null,null,null)),(t()(),js(-1,null,[" Lotes"])),(t()(),xs(18,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalNuevoLote()&&r),r},null,null)),(t()(),js(-1,null,["Nuevo Lote "])),(t()(),xs(20,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(t()(),xs(21,0,null,null,24,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,jv)),Li(23,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(24,0,null,null,21,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(t()(),xs(25,0,null,null,20,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(t()(),xs(26,0,null,null,12,"thead",[],null,null,null,null,null)),(t()(),xs(27,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),xs(28,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["#"])),(t()(),xs(30,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(32,0,null,null,3,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["N\xfamero "])),(t()(),xs(34,0,null,null,1,"abbr",[["title","Hect\xe1reas"]],null,null,null,null,null)),(t()(),js(-1,null,["Ha"])),(t()(),xs(36,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Estado"])),(t()(),xs(38,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),xs(39,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Vv)),Li(41,278528,null,0,Za,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(42,0,null,null,3,"tfoot",[],null,null,null,null,null)),(t()(),xs(43,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Bv)),Li(45,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,11,0,"AC"==(null==n.cultivo?null:n.cultivo.estado),"AC"!=(null==n.cultivo?null:n.cultivo.estado));t(e,10,0,"label",r),t(e,23,0,n.visualizarFormulario),t(e,41,0,n.lotes),t(e,45,0,n.lotes.length<=0)},function(t,e){var n=e.component;t(e,7,0,null==n.cultivo?null:n.cultivo.nombre),t(e,12,0,"AC"==(null==n.cultivo?null:n.cultivo.estado)?"ACTIVO":"INACTIVO")})}function qv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-gestion-lotes",[],null,null,null,Hv,Mv)),Li(1,114688,null,0,Nv,[yv,jd,Yp,Xl,Dv],null,null)],function(t,e){t(e,1,0)},null)}var zv=pi("app-gestion-lotes",Nv,qv,{},{},[]);let Kv=(()=>{class t{constructor(t){this._http=t}ConsultarCultivoPorId(t){return this._http.get(`api/Palma/GetCultivo/${t}`)}ConsultarLotePorId(t){return this._http.get(`api/Palma/GetLote/${t}`)}ConsultarPalmasDeUnLote(t){return this._http.get(`api/Palma/Lote/${t}`)}RegistrarPalma(t){return this._http.post("api/Palma",t)}EditarPalma(t){return this._http.put("api/Palma",t)}InactivarPalma(t){return t.estado="IN",this._http.put("api/Palma",t)}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();class $v{constructor(t,e,n,r,i){this._formBuilder=t,this._routerActivated=e,this._router=n,this._location=r,this._palmaService=i,this.visualizarFormulario=!1,this.GuardarPalma=this.RegistrarPalma}ngOnInit(){this.cultivoId=Number(this._routerActivated.snapshot.paramMap.get("cultivoId")),this.loteId=Number(this._routerActivated.snapshot.paramMap.get("loteId")),!isNaN(this.cultivoId)&&this.cultivoId&&!isNaN(this.loteId)&&this.loteId||(this.ShowMessage("error","Para realizar la gesti\xf3n palmas debe enviar un lote","Ocurri\xf3 un Error"),this.irAtras()),this.palmas=new Array,this.ConsultarCultivo(),this.ConsultarLote(),this.palmaForm=this.InicializarFormulario()}irAtras(){this._location.back()}ConsultarCultivo(){this._palmaService.ConsultarCultivoPorId(this.cultivoId).subscribe(t=>{t&&(this.cultivo=t)})}ConsultarLote(){this._palmaService.ConsultarLotePorId(this.loteId).subscribe(t=>{t&&(this.lote=t,this.ConsultarPalmas())})}ConsultarPalmas(){this._palmaService.ConsultarPalmasDeUnLote(this.lote.id).subscribe(t=>{t&&(this.palmas=t,this.palmaForm.reset(),this.visualizarFormulario=!1)})}AbrirModalNuevaPalma(){this.visualizarFormulario=!0,this.palmaForm.reset(),this.accion="Registrar",this.GuardarPalma=this.RegistrarPalma}AbrirModalEditarPalma(t){this.visualizarFormulario=!0,this.accion="Editar",this.palmaId=t.id,this.palmaEstado=t.estado,this.palmaForm.patchValue({altura:t.altura,descripcion:t.descripcion,fechaSiembra:this.formatFecha(t.fechaSiembra)}),this.GuardarPalma=this.EditarPalma}formatFecha(t){return t.toString().split("T")[0]}ArmarRequest(){const t=this.palmaForm.value;return{cultivoId:this.cultivoId,loteId:this.loteId,altura:t.altura,descripcion:t.descripcion,fechaSiembra:t.fechaSiembra,palmaId:this.palmaId,estado:this.palmaEstado}}RegistrarPalma(){this.ConfirmMessage("question","","",t=>{this._palmaService.RegistrarPalma(this.ArmarRequest()).subscribe(t=>{t&&(this.ConsultarPalmas(),this.ShowMessage("success",t.mensaje))})})}EditarPalma(){this.ConfirmMessage("question","","",t=>{this._palmaService.EditarPalma(this.ArmarRequest()).subscribe(t=>{t&&(this.ConsultarPalmas(),this.ShowMessage("success",t.mensaje))})})}EliminarPalma(t){this.ConfirmMessage("warning","","",e=>{this._palmaService.InactivarPalma({altura:t.altura,descripcion:t.descripcion,fechaSiembra:t.fechaSiembra,palmaId:t.id}).subscribe(t=>{t&&(this.ShowMessage("success",t.mensaje),this.ConsultarPalmas())})})}InicializarFormulario(){return this._formBuilder.group({altura:[0,[Im.required]],descripcion:[void 0,[Im.required]],fechaSiembra:[void 0,[Im.required]]})}ShowMessage(t,e,n=null){Cv.a.fire({title:n,text:e,icon:t,showConfirmButton:!1,timer:2500})}ConfirmMessage(t,e,n=null,r){Cv.a.fire({icon:t,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:e,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.value&&r(t.value)})}}var Wv=Pr({encapsulation:0,styles:[[""]],data:{}});function Gv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" La altura de la palma es obligatoria "]))],null,null)}function Jv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" La fecha de siembra es obligatoria "]))],null,null)}function Yv(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" La descripci\xf3n de la palma es obligatoria "]))],null,null)}function Zv(t){return Hs(0,[(t()(),xs(0,0,null,null,58,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),js(3,null,[""," Palma"])),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=(t.component.visualizarFormulario=!1)&&r),r},null,null)),(t()(),xs(5,0,null,null,53,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,52,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Ei(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ei(t,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,cv,[],null,null),Li(8,540672,null,0,dv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,Em,null,[dv]),Li(10,16384,null,0,Tm,[[4,Em]],null,null),(t()(),xs(11,0,null,null,47,"div",[["class","row p-w-md"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,31,"div",[["class","col-md-4"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,16,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,3,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Altura "])),(t()(),xs(16,0,null,null,1,"abbr",[["title","Metros"]],null,null,null,null,null)),(t()(),js(-1,null,["mts"])),(t()(),xs(18,0,null,null,9,"div",[["class","input-group date"]],null,null,null,null,null)),(t()(),xs(19,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(20,0,null,null,0,"i",[["class","fa fa-sliders"]],null,null,null,null,null)),(t()(),xs(21,0,null,null,6,"input",[["class","form-control"],["formControlName","altura"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,22)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,22).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,22)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,22)._compositionEnd(n.target.value)&&r),"change"===e&&(r=!1!==Ei(t,23).onChange(n.target.value)&&r),"input"===e&&(r=!1!==Ei(t,23).onChange(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,23).onTouched()&&r),r},null,null)),Li(22,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),Li(23,16384,null,0,Um,[zn,jn],null,null),ji(1024,null,_m,function(t,e){return[t,e]},[Sm,Um]),Li(25,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(27,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Gv)),Li(29,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(30,0,null,null,13,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),xs(31,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Fecha Siembra"])),(t()(),xs(33,0,null,null,8,"div",[["class","input-group date"]],null,null,null,null,null)),(t()(),xs(34,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(35,0,null,null,0,"i",[["class","fa fa-calendar-o"]],null,null,null,null,null)),(t()(),xs(36,0,null,null,5,"input",[["class","form-control"],["formControlName","fechaSiembra"],["type","date"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,37)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,37).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,37)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,37)._compositionEnd(n.target.value)&&r),r},null,null)),Li(37,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(39,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(41,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Jv)),Li(43,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(44,0,null,null,10,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(45,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Descipci\xf3n"])),(t()(),xs(47,0,null,null,5,"textarea",[["class","form-control"],["formControlName","descripcion"],["rows","4"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,48)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,48).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,48)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,48)._compositionEnd(n.target.value)&&r),r},null,null)),Li(48,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(50,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(52,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,Yv)),Li(54,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(55,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(t()(),xs(56,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.GuardarPalma()&&r),r},null,null)),(t()(),js(-1,null,[" Guardar "])),(t()(),xs(58,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.palmaForm),t(e,25,0,"altura"),t(e,29,0,n.palmaForm.get("altura").hasError("required")&&(n.palmaForm.get("altura").dirty||n.palmaForm.get("altura").touched)),t(e,39,0,"fechaSiembra"),t(e,43,0,n.palmaForm.get("fechaSiembra").hasError("required")&&(n.palmaForm.get("fechaSiembra").dirty||n.palmaForm.get("fechaSiembra").touched)),t(e,50,0,"descripcion"),t(e,54,0,n.palmaForm.get("descripcion").hasError("required")&&(n.palmaForm.get("descripcion").dirty||n.palmaForm.get("descripcion").touched))},function(t,e){var n=e.component;t(e,3,0,n.accion),t(e,6,0,Ei(e,10).ngClassUntouched,Ei(e,10).ngClassTouched,Ei(e,10).ngClassPristine,Ei(e,10).ngClassDirty,Ei(e,10).ngClassValid,Ei(e,10).ngClassInvalid,Ei(e,10).ngClassPending),t(e,21,0,Ei(e,27).ngClassUntouched,Ei(e,27).ngClassTouched,Ei(e,27).ngClassPristine,Ei(e,27).ngClassDirty,Ei(e,27).ngClassValid,Ei(e,27).ngClassInvalid,Ei(e,27).ngClassPending),t(e,36,0,Ei(e,41).ngClassUntouched,Ei(e,41).ngClassTouched,Ei(e,41).ngClassPristine,Ei(e,41).ngClassDirty,Ei(e,41).ngClassValid,Ei(e,41).ngClassInvalid,Ei(e,41).ngClassPending),t(e,47,0,Ei(e,52).ngClassUntouched,Ei(e,52).ngClassTouched,Ei(e,52).ngClassPristine,Ei(e,52).ngClassDirty,Ei(e,52).ngClassValid,Ei(e,52).ngClassInvalid,Ei(e,52).ngClassPending),t(e,56,0,n.palmaForm.invalid)})}function Qv(t){return Hs(0,[(t()(),xs(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(2,null,["",""])),(t()(),xs(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(4,null,["",""])),(t()(),xs(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(6,null,[""," mts"])),(t()(),xs(7,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),js(8,null,["",""])),Ns(9,2),(t()(),xs(10,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(13,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(14,{"label-primary":0,"label-danger":1}),(t()(),js(15,null,["",""])),(t()(),xs(16,0,null,null,4,"td",[["class","text-center"],["style","width: 125px;"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalEditarPalma(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Editar"])),(t()(),xs(19,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.EliminarPalma(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Eliminar"]))],function(t,e){var n=t(e,14,0,"AC"==e.context.$implicit.estado,"AC"!=e.context.$implicit.estado);t(e,13,0,"label",n)},function(t,e){t(e,2,0,e.context.$implicit.consecutivo),t(e,4,0,e.context.$implicit.descripcion),t(e,6,0,e.context.$implicit.altura);var n=kr(e,8,0,t(e,9,0,Ei(e.parent,0),e.context.$implicit.fechaSiembra,"dd MMM yyyy"));t(e,8,0,n),t(e,15,0,"AC"==e.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function Xv(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"td",[["class","text-center"],["colspan","7"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),js(-1,null,["No se encontraron palmas registrados en el sistema para el lote solicitado"]))],null,null)}function ty(t){return Hs(0,[Ui(0,au,[wo]),(t()(),xs(1,0,null,null,40,"div",[["class","panel"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"button",[["class","m-t-xs m-l-xs btn btn-xs btn-circle m-r-sm"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.irAtras()&&r),r},null,null)),(t()(),xs(3,0,null,null,0,"i",[["class","fa fa-arrow-left"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,4,"div",[["class","panel-heading h4"]],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(t()(),js(6,null,[" Cultivo - "," "])),(t()(),xs(7,0,null,null,0,"i",[["class","fa fa-angle-right m-l-xs m-r-xs"]],null,null,null,null,null)),(t()(),js(8,null,[" Lote - "," "])),(t()(),xs(9,0,null,null,32,"div",[["class","p-w-sm"]],null,null,null,null,null)),(t()(),xs(10,0,null,null,6,"div",[["class","panel-heading h5 text-right m-b-n"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,0,"i",[["class","fa fa-pagelines m-r-xs"]],null,null,null,null,null)),(t()(),js(-1,null,[" Palmas"])),(t()(),xs(14,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalNuevaPalma()&&r),r},null,null)),(t()(),js(-1,null,["Nueva Palma "])),(t()(),xs(16,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,24,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Zv)),Li(19,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(20,0,null,null,21,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(t()(),xs(21,0,null,null,20,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(t()(),xs(22,0,null,null,12,"thead",[],null,null,null,null,null)),(t()(),xs(23,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),xs(24,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["#"])),(t()(),xs(26,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Descripci\xf3n"])),(t()(),xs(28,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Altura (mts)"])),(t()(),xs(30,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Fecha Siembra"])),(t()(),xs(32,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Estado"])),(t()(),xs(34,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),xs(35,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Qv)),Li(37,278528,null,0,Za,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(38,0,null,null,3,"tfoot",[],null,null,null,null,null)),(t()(),xs(39,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,Xv)),Li(41,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,19,0,n.visualizarFormulario),t(e,37,0,n.palmas),t(e,41,0,n.palmas.length<=0)},function(t,e){var n=e.component;t(e,6,0,null==n.cultivo?null:n.cultivo.nombre),t(e,8,0,null==n.lote?null:n.lote.nombre)})}function ey(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-gestion-palmas",[],null,null,null,ty,Wv)),Li(1,114688,null,0,$v,[yv,jd,Yp,Xl,Kv],null,null)],function(t,e){t(e,1,0)},null)}var ny=pi("app-gestion-palmas",$v,ey,{},{},[]);let ry=(()=>{class t{constructor(t){this._http=t}ConsultarUsuarios(){return this._http.get("api/Tercero")}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();class iy{constructor(t,e){this._formBuilder=t,this._usuarioService=e}ngOnInit(){this.Usuario=new Array,this.ConsultarUsuario()}ConsultarUsuario(){this._usuarioService.ConsultarUsuarios().subscribe(t=>{t&&(this.Usuario=t)})}}var oy=Pr({encapsulation:0,styles:[[""]],data:{}});function sy(t){return Hs(0,[(t()(),xs(0,0,null,null,26,"tr",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(2,null,["",""])),(t()(),xs(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(4,null,["",""])),(t()(),xs(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(6,null,[""," ",""])),(t()(),xs(7,0,null,null,2,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(8,null,["",""])),Ns(9,2),(t()(),xs(10,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(11,null,["",""])),(t()(),xs(12,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(13,null,["",""])),(t()(),xs(14,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(15,null,["",""])),(t()(),xs(16,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(19,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(20,{"label-primary":0,"label-danger":1}),(t()(),js(21,null,["",""])),(t()(),xs(22,0,null,null,4,"td",[["style","width: 125px;"]],null,null,null,null,null)),(t()(),xs(23,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,null,null,null,null)),(t()(),js(-1,null,["Editar"])),(t()(),xs(25,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,null,null,null,null)),(t()(),js(-1,null,["Inactivar"]))],function(t,e){var n=t(e,20,0,"AC"==e.context.$implicit.estado,"AC"!=e.context.$implicit.estado);t(e,19,0,"label",n)},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.identificacion),t(e,6,0,e.context.$implicit.nombres,e.context.$implicit.apellidos);var n=kr(e,8,0,t(e,9,0,Ei(e.parent,0),e.context.$implicit.fechaNacimiento,"dd-MM-yyyy"));t(e,8,0,n),t(e,11,0,e.context.$implicit.telefono),t(e,13,0,e.context.$implicit.direccion),t(e,15,0,e.context.$implicit.email),t(e,21,0,"AC"==e.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function ly(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),js(-1,null,["No se encontraron usuarios registrados en el sistema"]))],null,null)}function ay(t){return Hs(0,[Ui(0,au,[wo]),(t()(),xs(1,0,null,null,41,"div",[["class","panel"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,6,"div",[["class","panel-heading h5 text-right"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(t()(),js(-1,null,[" Usuarios"])),(t()(),xs(6,0,null,null,2,"button",[["class","btn btn-primary"]],null,null,null,null,null)),(t()(),js(-1,null,["Nuevo"])),(t()(),xs(8,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,33,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),xs(10,0,null,null,4,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),js(-1,null,["Registro Usuarios"])),(t()(),xs(14,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,null,null,null,null)),(t()(),xs(15,0,null,null,27,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,26,"table",[["class","table table-bordered table-striped"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,18,"thead",[],null,null,null,null,null)),(t()(),xs(18,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),xs(19,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["#"])),(t()(),xs(21,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Identificaci\xf3n"])),(t()(),xs(23,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Nombre Completo"])),(t()(),xs(25,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Fecha Nacimiento"])),(t()(),xs(27,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Tel\xe9fono"])),(t()(),xs(29,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Direcci\xf3n"])),(t()(),xs(31,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Correo Electr\xf3nico"])),(t()(),xs(33,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Estado"])),(t()(),xs(35,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),xs(36,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,sy)),Li(38,278528,null,0,Za,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(39,0,null,null,3,"tfoot",[],null,null,null,null,null)),(t()(),xs(40,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,ly)),Li(42,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,38,0,n.Usuario),t(e,42,0,n.Usuario.length<=0)},null)}function uy(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-gestion-usuarios",[],null,null,null,ay,oy)),Li(1,114688,null,0,iy,[yv,ry],null,null)],function(t,e){t(e,1,0)},null)}var cy=pi("app-gestion-usuarios",iy,uy,{},{},[]);let hy=(()=>{class t{constructor(t){this._http=t}ConsultarTareas(){return this._http.get("api/Tarea")}ConsultarTareaPorId(t){return this._http.get(`api/Tarea/${t}`)}RegistrarTarea(t){return this._http.post("api/Tarea",t)}EditarTarea(t,e,n,r){return this._http.put("api/Tarea",{tareaId:t,nombre:e,descripcion:n,estado:r})}InactivarTarea(t,e,n){return this._http.put("api/Tarea",{tareaId:t,nombre:e,descripcion:n,estado:"IN"})}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Pg))},token:t,providedIn:"root"}),t})();class dy{constructor(t,e,n){this._formBuilder=t,this._router=e,this._tareaService=n,this.visualizarFormulario=!1,this.GuardarTarea=this.RegistrarTarea}ngOnInit(){this.tareas=new Array,this.ConsultarTareas(),this.tareaForm=this.InicializarFormulario()}ConsultarTareas(){this._tareaService.ConsultarTareas().subscribe(t=>{t&&(this.tareas=t,this.tareaForm.reset(),this.visualizarFormulario=!1)})}AbrirModalNuevaTarea(){this.visualizarFormulario=!0,this.tareaForm.reset(),this.accion="Registrar",this.GuardarTarea=this.RegistrarTarea}AbrirModalEditarTarea(t){this.visualizarFormulario=!0,this.accion="Editar",this.tareaId=t.id,this.tareaEstado=t.estado,this.tareaForm.patchValue({nombre:t.nombre,descripcion:t.descripcion}),this.GuardarTarea=this.EditarTarea}RegistrarTarea(){this.ConfirmMessage("question","","",t=>{this._tareaService.RegistrarTarea(this.tareaForm.value).subscribe(t=>{t&&(this.ConsultarTareas(),this.ShowMessage("success",t.mensaje))})})}EditarTarea(){this.ConfirmMessage("question","","",t=>{const e=this.tareaForm.value;this._tareaService.EditarTarea(this.tareaId,e.nombre,e.descripcion,this.tareaEstado).subscribe(t=>{t&&(this.ConsultarTareas(),this.ShowMessage("success",t.mensaje))})})}EliminarTarea(t){this.ConfirmMessage("warning","","",e=>{this._tareaService.InactivarTarea(t.id,t.nombre,t.descripcion).subscribe(t=>{t&&(this.ShowMessage("success",t.mensaje),this.ConsultarTareas())})})}InicializarFormulario(){return this._formBuilder.group({nombre:[void 0,[Im.required]],descripcion:[void 0,[Im.required]]})}ShowMessage(t,e,n=null){Cv.a.fire({title:n,text:e,icon:t,showConfirmButton:!1,timer:2500})}ConfirmMessage(t,e,n=null,r){Cv.a.fire({icon:t,title:n||"\xbfEst\xe1 seguro de realizar esta operaci\xf3n?",text:e,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.value&&r(t.value)})}}var py=Pr({encapsulation:0,styles:[[""]],data:{}});function fy(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" El nombre de la tarea es obligatoria "]))],null,null)}function gy(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),js(-1,null,[" El nombre de la tarea es obligatoria "]))],null,null)}function my(t){return Hs(0,[(t()(),xs(0,0,null,null,43,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,3,"div",[["class","panel-heading text-right"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,1,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),js(3,null,[""," Tarea"])),(t()(),xs(4,0,null,null,0,"i",[["class","fa fa-times"],["style","cursor:pointer"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=0!=(t.component.visualizarFormulario=!1)&&r),r},null,null)),(t()(),xs(5,0,null,null,38,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),xs(6,0,null,null,37,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==Ei(t,8).onSubmit(n)&&r),"reset"===e&&(r=!1!==Ei(t,8).onReset()&&r),r},null,null)),Li(7,16384,null,0,cv,[],null,null),Li(8,540672,null,0,dv,[[8,null],[8,null]],{form:[0,"form"]},null),ji(2048,null,Em,null,[dv]),Li(10,16384,null,0,Tm,[[4,Em]],null,null),(t()(),xs(11,0,null,null,32,"div",[["class","row p-w-md"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(15,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(17,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(t()(),xs(18,0,null,null,5,"input",[["class","form-control"],["formControlName","nombre"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,19)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,19).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,19)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,19)._compositionEnd(n.target.value)&&r),r},null,null)),Li(19,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(21,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(23,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,fy)),Li(25,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(26,0,null,null,13,"div",[["class","col-sm-12 col-md-5"]],null,null,null,null,null)),(t()(),xs(27,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,["Descripci\xf3n"])),(t()(),xs(29,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),xs(30,0,null,null,1,"div",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),xs(31,0,null,null,0,"i",[["class","fa fa-address-card"]],null,null,null,null,null)),(t()(),xs(32,0,null,null,5,"input",[["class","form-control"],["formControlName","descripcion"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0;return"input"===e&&(r=!1!==Ei(t,33)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==Ei(t,33).onTouched()&&r),"compositionstart"===e&&(r=!1!==Ei(t,33)._compositionStart()&&r),"compositionend"===e&&(r=!1!==Ei(t,33)._compositionEnd(n.target.value)&&r),r},null,null)),Li(33,16384,null,0,Sm,[zn,jn,[2,wm]],null,null),ji(1024,null,_m,function(t){return[t]},[Sm]),Li(35,671744,null,0,mv,[[3,Em],[8,null],[8,null],[6,_m],[2,hv]],{name:[0,"name"]},null),ji(2048,null,Fm,null,[mv]),Li(37,16384,null,0,Am,[[4,Fm]],null,null),(t()(),Es(16777216,null,null,1,null,gy)),Li(39,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(40,0,null,null,3,"div",[["class","col-sm-12 col-md-2"]],null,null,null,null,null)),(t()(),xs(41,0,null,null,2,"button",[["class","btn btn-primary m-t-md"]],[[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.GuardarTarea()&&r),r},null,null)),(t()(),js(-1,null,[" Guardar "])),(t()(),xs(43,0,null,null,0,"i",[["class","m-l-xs fa fa-save"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,8,0,n.tareaForm),t(e,21,0,"nombre"),t(e,25,0,n.tareaForm.get("nombre").hasError("required")&&(n.tareaForm.get("nombre").dirty||n.tareaForm.get("nombre").touched)),t(e,35,0,"descripcion"),t(e,39,0,n.tareaForm.get("descripcion").hasError("required")&&(n.tareaForm.get("descripcion").dirty||n.tareaForm.get("descripcion").touched))},function(t,e){var n=e.component;t(e,3,0,n.accion),t(e,6,0,Ei(e,10).ngClassUntouched,Ei(e,10).ngClassTouched,Ei(e,10).ngClassPristine,Ei(e,10).ngClassDirty,Ei(e,10).ngClassValid,Ei(e,10).ngClassInvalid,Ei(e,10).ngClassPending),t(e,18,0,Ei(e,23).ngClassUntouched,Ei(e,23).ngClassTouched,Ei(e,23).ngClassPristine,Ei(e,23).ngClassDirty,Ei(e,23).ngClassValid,Ei(e,23).ngClassInvalid,Ei(e,23).ngClassPending),t(e,32,0,Ei(e,37).ngClassUntouched,Ei(e,37).ngClassTouched,Ei(e,37).ngClassPristine,Ei(e,37).ngClassDirty,Ei(e,37).ngClassValid,Ei(e,37).ngClassInvalid,Ei(e,37).ngClassPending),t(e,41,0,n.tareaForm.invalid)})}function vy(t){return Hs(0,[(t()(),xs(0,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),js(2,null,["",""])),(t()(),xs(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(4,null,["",""])),(t()(),xs(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),js(6,null,["",""])),(t()(),xs(7,0,null,null,5,"td",[["class","text-center"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,4,"span",[["class","label"]],null,null,null,null,null)),ji(512,null,$a,Wa,[ir,or,jn,zn]),Li(10,278528,null,0,Ja,[$a],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ls(11,{"label-primary":0,"label-danger":1}),(t()(),js(12,null,["",""])),(t()(),xs(13,0,null,null,4,"td",[["class","text-center"],["style","width: 165px;"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalEditarTarea(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Editar"])),(t()(),xs(16,0,null,null,1,"button",[["class","btn btn-default btn-xs"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.EliminarTarea(t.context.$implicit)&&r),r},null,null)),(t()(),js(-1,null,["Eliminar"]))],function(t,e){var n=t(e,11,0,"AC"==e.context.$implicit.estado,"AC"!=e.context.$implicit.estado);t(e,10,0,"label",n)},function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.nombre),t(e,6,0,e.context.$implicit.descripcion),t(e,12,0,"AC"==e.context.$implicit.estado?"ACTIVO":"INACTIVO")})}function yy(t){return Hs(0,[(t()(),xs(0,0,null,null,2,"td",[["class","text-center"],["colspan","5"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),js(-1,null,["No se encontraron tareas registradas en el sistema"]))],null,null)}function by(t){return Hs(0,[(t()(),xs(0,0,null,null,30,"div",[["class","panel"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,6,"div",[["class","panel-heading h5 text-right"]],null,null,null,null,null)),(t()(),xs(2,0,null,null,2,"span",[["class","pull-left"]],null,null,null,null,null)),(t()(),xs(3,0,null,null,0,"i",[["class","fa fa-tree m-r-xs"]],null,null,null,null,null)),(t()(),js(-1,null,[" Tareas"])),(t()(),xs(5,0,null,null,2,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.AbrirModalNuevaTarea()&&r),r},null,null)),(t()(),js(-1,null,["Nueva Tarea "])),(t()(),xs(7,0,null,null,0,"i",[["class","fa fa-plus m-l-xs"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,22,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,my)),Li(10,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null),(t()(),xs(11,0,null,null,19,"div",[["class","table-responsive p-w-sm"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,18,"table",[["class","table table-bordered table-striped m-b-xs"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,10,"thead",[],null,null,null,null,null)),(t()(),xs(14,0,null,null,9,"tr",[],null,null,null,null,null)),(t()(),xs(15,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["#"])),(t()(),xs(17,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Nombre"])),(t()(),xs(19,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Descripci\xf3n"])),(t()(),xs(21,0,null,null,1,"th",[["class","text-center"]],null,null,null,null,null)),(t()(),js(-1,null,["Estado"])),(t()(),xs(23,0,null,null,0,"th",[],null,null,null,null,null)),(t()(),xs(24,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,vy)),Li(26,278528,null,0,Za,[hr,ur,ir],{ngForOf:[0,"ngForOf"]},null),(t()(),xs(27,0,null,null,3,"tfoot",[],null,null,null,null,null)),(t()(),xs(28,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Es(16777216,null,null,1,null,yy)),Li(30,16384,null,0,Xa,[hr,ur],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,10,0,n.visualizarFormulario),t(e,26,0,n.tareas),t(e,30,0,n.tareas.length<=0)},null)}function _y(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-gestion-tareas",[],null,null,null,by,py)),Li(1,114688,null,0,dy,[yv,Yp,hy],null,null)],function(t,e){t(e,1,0)},null)}var wy=pi("app-gestion-tareas",dy,_y,{},{},[]);class Sy{constructor(){this.nav=document.querySelector("nav.navbar")}ngOnInit(){this.nav.className+=" white-bg"}ngOnDestroy(){this.nav.classList.remove("white-bg")}}var Cy=Pr({encapsulation:2,styles:[],data:{}});function Ey(t){return Hs(0,[(t()(),xs(0,0,null,null,18,"div",[["class","wrapper wrapper-content animated fadeInRight"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(4,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(5,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(6,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(7,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),xs(8,0,null,null,2,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),xs(9,0,null,null,1,"div",[["class","text-center m-t-lg"]],null,null,null,null,null)),(t()(),xs(10,0,null,null,0,"img",[["alt","Logo PalmapApp"],["src","assets/images/logo_palma_2.png"]],null,null,null,null,null)),(t()(),xs(11,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,6,"div",[["class","col-lg-12"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,5,"div",[["class","text-center m-t-lg"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),js(-1,null,[" Bienvenido a PalmApp "])),(t()(),xs(16,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),xs(17,0,null,null,1,"label",[],null,null,null,null,null)),(t()(),js(-1,null,[" Sistema pensado para gestionar las actividades desarrolladas en cultivos de palma de aceite. "]))],null,null)}function xy(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"starter",[],null,null,null,Ey,Cy)),Li(1,245760,null,0,Sy,[],null,null)],function(t,e){t(e,1,0)},null)}var Fy=pi("starter",Sy,xy,{},{},[]);class ky{ngAfterViewInit(){jQuery("body").addClass("gray-bg")}ngOnDestroy(){jQuery("body").removeClass("gray-bg")}}var Ay=Pr({encapsulation:2,styles:[],data:{}});function Ty(t){return Hs(0,[(t()(),xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,ef,[tf,hr,Nn,[8,null],Te],null,null)],function(t,e){t(e,1,0)},null)}function Py(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"blank",[],null,null,null,Ty,Ay)),Li(1,4374528,null,0,ky,[],null,null)],null,null)}var Ry=pi("blank",ky,Py,{},{},[]);class Iy{}var Oy=Pr({encapsulation:2,styles:[],data:{}});function Dy(t){return Hs(0,[(t()(),xs(0,0,null,null,28,"div",[["class","middle-box text-center loginscreen  animated fadeInDown"]],null,null,null,null,null)),(t()(),xs(1,0,null,null,27,"div",[],null,null,null,null,null)),(t()(),xs(2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),xs(3,0,null,null,1,"h1",[["class","logo-name"]],null,null,null,null,null)),(t()(),js(-1,null,["IN+"])),(t()(),xs(5,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),js(-1,null,["Welcome to IN+"])),(t()(),xs(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),js(-1,null,["Perfectly designed and precisely prepared admin theme with over 50 pages with extra new web app views. "])),(t()(),xs(9,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),js(-1,null,["Login in. To see it in action."])),(t()(),xs(11,0,null,null,14,"form",[["action","#"],["class","m-t"],["role","form"]],null,null,null,null,null)),(t()(),xs(12,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),xs(13,0,null,null,0,"input",[["class","form-control"],["placeholder","Username"],["required",""],["type","email"]],null,null,null,null,null)),(t()(),xs(14,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),xs(15,0,null,null,0,"input",[["class","form-control"],["placeholder","Password"],["required",""],["type","password"]],null,null,null,null,null)),(t()(),xs(16,0,null,null,1,"button",[["class","btn btn-primary block full-width m-b"],["type","submit"]],null,null,null,null,null)),(t()(),js(-1,null,["Login"])),(t()(),xs(18,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(t()(),xs(19,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),js(-1,null,["Forgot password?"])),(t()(),xs(21,0,null,null,2,"p",[["class","text-muted text-center"]],null,null,null,null,null)),(t()(),xs(22,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),js(-1,null,["Do not have an account?"])),(t()(),xs(24,0,null,null,1,"a",[["class","btn btn-sm btn-white btn-block"],["href","#"]],null,null,null,null,null)),(t()(),js(-1,null,["Create an account"])),(t()(),xs(26,0,null,null,2,"p",[["class","m-t"]],null,null,null,null,null)),(t()(),xs(27,0,null,null,1,"small",[],null,null,null,null,null)),(t()(),js(-1,null,["Inspinia we app framework base on Bootstrap 3 \xa9 2014"]))],null,null)}function Ny(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"login",[],null,null,null,Dy,Oy)),Li(1,49152,null,0,Iy,[],null,null)],null,null)}var My=pi("login",Iy,Ny,{},{},[]),Ly=Pr({encapsulation:0,styles:[[""]],data:{}});function Uy(t){return Hs(0,[(t()(),xs(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Li(1,212992,null,0,ef,[tf,hr,Nn,[8,null],Te],null,null)],function(t,e){t(e,1,0)},null)}function jy(t){return Hs(0,[(t()(),xs(0,0,null,null,1,"app-root",[],null,null,null,Uy,Ly)),Li(1,49152,null,0,_u,[],null,null)],null,null)}var Vy=pi("app-root",_u,jy,{},{},[]);let By=(()=>{class t{constructor(t){this.authorize=t}intercept(t,e){return this.authorize.getAccessToken().pipe(z(n=>this.processRequestWithToken(n,t,e)))}processRequestWithToken(t,e,n){return t&&this.isSameOriginUrl(e)&&(e=e.clone({setHeaders:{Authorization:`Bearer ${t}`}})),n.handle(e)}isSameOriginUrl(t){return!!t.url.startsWith(`${window.location.origin}/`)||!!t.url.startsWith(`//${window.location.host}/`)||!!/^\/[^\/].*/.test(t.url)}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Kf))},token:t,providedIn:"root"}),t})(),Hy=(()=>{class t{constructor(t,e){this.authorize=t,this.router=e}canActivate(t,e){return this.authorize.isAuthenticated().pipe(cc(t=>this.handleAuthorization(t,e)))}handleAuthorization(t,e){t||this.router.navigate(qf.LoginPathComponents,{queryParams:{[Vf.ReturnUrl]:e.url}})}}return t.ngInjectableDef=pt({factory:function(){return new t(Lt(Kf),Lt(Yp))},token:t,providedIn:"root"}),t})();var qy=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[cg,ag,Tf,{provide:hg,useValue:e||{autoClose:!0}}]}},t}();class zy{}class Ky{}n("+dx+");class $y{}class Wy{}class Gy{}class Jy{}class Yy{}var Zy=Wl(bu,[_u],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Ve&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Fr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([si(512,Nn,Mn,[[8,[Af,Mf,Yf,eg,ym,Ov,zv,ny,cy,wy,Fy,Ry,My,Vy]],[3,Nn],Vt]),si(4352,wo,"es-CO",[]),si(4608,qa,za,[wo,[2,Ha]]),si(5120,to,Ss,[Uo]),si(5120,fo,go,[]),si(5120,ir,_s,[]),si(5120,or,ws,[]),si(4608,_h,wh,[hu]),si(6144,Ee,null,[_h]),si(4608,ph,gh,[]),si(5120,Nc,function(t,e,n,r,i,o,s,l){return[new hh(t,e,n),new bh(r),new mh(i,o,s,l)]},[hu,Uo,yo,hu,hu,ph,_o,[2,fh]]),si(4608,Mc,Mc,[Nc,Uo]),si(135680,jc,jc,[hu]),si(4608,$c,$c,[Mc,jc,fo]),si(6144,Hn,null,[$c]),si(6144,Uc,null,[jc]),si(4608,Ko,Ko,[Uo]),si(4608,jm,jm,[]),si(4608,Vg,Bg,[hu,yo,Ug]),si(4608,Hg,Hg,[Vg,jg]),si(5120,Ig,function(t,e){return[t,new By(e)]},[Hg,Kf]),si(4608,Mg,Mg,[]),si(6144,Ng,null,[Mg]),si(4608,Lg,Lg,[Ng]),si(6144,gg,null,[Lg]),si(4608,fg,qg,[gg,He]),si(4608,Pg,Pg,[fg]),si(4608,ag,ag,[]),si(4608,cg,cg,[Nn,Uo,He,ag,is]),si(4608,Tf,Tf,[]),si(4608,yv,yv,[]),si(5120,jd,bf,[Yp]),si(4608,sf,sf,[]),si(6144,rf,null,[sf]),si(135680,lf,lf,[Yp,ss,Ao,He,rf]),si(4608,of,of,[]),si(5120,af,ff,[Yp,pu,uf]),si(5120,Cf,Sf,[_f]),si(5120,bo,function(t){return[t]},[Cf]),si(1073742336,cu,cu,[]),si(1024,Qt,Th,[]),si(1024,Xo,function(){return[df()]},[]),si(512,_f,_f,[He]),si(1024,ho,function(t,e){return[(n=t,Ic("probe",Dc),Ic("coreTokens",Object.assign({},Oc,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Dc),wf(e)];var n},[[2,Xo],_f]),si(512,po,po,[[2,ho]]),si(131584,is,is,[Uo,_o,He,Qt,Nn,po]),si(1073742336,Cs,Cs,[is]),si(1073742336,Ph,Ph,[[3,Ph]]),si(1073742336,vv,vv,[]),si(1073742336,bv,bv,[]),si(1073742336,zg,zg,[]),si(1073742336,Kg,Kg,[]),si(1024,cf,mf,[[3,Yp]]),si(512,vd,yd,[]),si(512,tf,tf,[]),si(512,Zl,na,[Jl,[2,Ql]]),si(512,Xl,Xl,[Zl,Jl]),si(512,Ao,Ao,[]),si(512,ss,hs,[Ao,[2,us]]),si(1024,qp,function(){return[[{path:"authentication/register",component:$f},{path:"authentication/profile",component:$f},{path:"authentication/login",component:$f},{path:"authentication/login-failed",component:$f},{path:"authentication/login-callback",component:$f},{path:"authentication/logout",component:Zf},{path:"authentication/logged-out",component:Zf},{path:"authentication/logout-callback",component:Zf}],[{path:"",redirectTo:"starterview",pathMatch:"full"},{path:"cultivos",component:fm,children:[{path:"gestion",component:Ev,canActivate:[Hy]},{path:":cultivoId/Lotes",component:Nv,canActivate:[Hy]},{path:":cultivoId/Lotes/:loteId/Palmas",component:$v,canActivate:[Hy]}]},{path:"usuarios",component:fm,children:[{path:"gestion",component:iy,canActivate:[Hy]}]},{path:"tareas",component:fm,children:[{path:"programar",component:dy,canActivate:[Hy]},{path:"crear",component:dy,canActivate:[Hy]}]},{path:"",component:fm,children:[{path:"starterview",component:Sy}]},{path:"",component:ky,children:[{path:"login",component:Iy}]},{path:"**",redirectTo:"starterview"}]]},[]),si(256,uf,{},[]),si(1024,Yp,yf,[is,vd,tf,Xl,He,ss,Ao,qp,uf,[2,Kp],[2,Bp]]),si(1073742336,pf,pf,[[2,cf],[2,Yp]]),si(1073742336,qy,qy,[]),si(1073742336,zy,zy,[]),si(1073742336,_v,_v,[]),si(1073742336,Ky,Ky,[]),si(1073742336,$y,$y,[]),si(1073742336,Wy,Wy,[]),si(1073742336,Gy,Gy,[]),si(1073742336,Jy,Jy,[]),si(1073742336,Yy,Yy,[]),si(1073742336,bu,bu,[]),si(256,Ve,!0,[]),si(256,Ug,"XSRF-TOKEN",[]),si(256,jg,"X-XSRF-TOKEN",[]),si(256,hg,{autoClose:!0},[])])});(function(){if(te)throw new Error("Cannot enable prod mode after platform setup.");Xt=!1})(),Ah().bootstrapModuleFactory(Zy)}},[[0,0]]]);